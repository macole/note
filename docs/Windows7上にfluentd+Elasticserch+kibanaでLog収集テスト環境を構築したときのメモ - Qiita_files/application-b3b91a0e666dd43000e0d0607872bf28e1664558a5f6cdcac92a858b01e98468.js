// Instantiate the object
var I18n=I18n||{};typeof window!="undefined"?window.I18n=I18n:typeof global!="undefined"&&(global.I18n=I18n),I18n.defaultLocale="en",I18n.translations={},function(){var merge=function(dest,obj){var key,value;for(key in obj)obj.hasOwnProperty(key)&&(value=obj[key],Object.prototype.toString.call(value)==="[object String]"?dest[key]=value:(dest[key]==null&&(dest[key]={}),merge(dest[key],value)))};I18n.addTranslations=function(obj){merge(I18n.translations,obj)}}(),I18n.fallbacks=!1,I18n.defaultSeparator=".",I18n.locale=null,I18n.PLACEHOLDER=/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,I18n.fallbackRules={},I18n.pluralizationRules={en:function(n){return n==0?["zero","none","other"]:n==1?"one":"other"}},I18n.getFallbacks=function(locale){if(locale===I18n.defaultLocale)return[];if(!I18n.fallbackRules[locale]){var rules=[],components=locale.split("-");for(var l=1;l<components.length;l++)rules.push(components.slice(0,l).join("-"));rules.push(I18n.defaultLocale),I18n.fallbackRules[locale]=rules}return I18n.fallbackRules[locale]},I18n.isValidNode=function(obj,node,undefined){return obj[node]!==null&&obj[node]!==undefined},I18n.lookup=function(scope,options){var options=options||{},lookupInitialScope=scope,translations=this.prepareOptions(I18n.translations),locale=options.locale||I18n.currentLocale(),messages=translations[locale]||{},options=this.prepareOptions(options),currentScope;typeof scope=="object"&&(scope=scope.join(this.defaultSeparator)),options.scope&&(scope=options.scope.toString()+this.defaultSeparator+scope),scope=scope.split(this.defaultSeparator);while(messages&&scope.length>0)currentScope=scope.shift(),messages=messages[currentScope];if(!messages){if(I18n.fallbacks){var fallbacks=this.getFallbacks(locale);for(var fallback=0;fallback<fallbacks.length;fallbacks++){messages=I18n.lookup(lookupInitialScope,this.prepareOptions({locale:fallbacks[fallback]},options));if(messages)break}}!messages&&this.isValidNode(options,"defaultValue")&&(messages=options.defaultValue)}return messages},I18n.prepareOptions=function(){var options={},opts,count=arguments.length;for(var i=0;i<count;i++){opts=arguments[i];if(!opts)continue;for(var key in opts)this.isValidNode(options,key)||(options[key]=opts[key])}return options},I18n.interpolate=function(message,options){options=this.prepareOptions(options);var matches=message.match(this.PLACEHOLDER),placeholder,value,name;if(!matches)return message;for(var i=0;placeholder=matches[i];i++)name=placeholder.replace(this.PLACEHOLDER,"$1"),value=options[name],this.isValidNode(options,name)||(value="[missing "+placeholder+" value]"),regex=new RegExp(placeholder.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),message=message.replace(regex,value);return message},I18n.translate=function(scope,options){options=this.prepareOptions(options);var translation=this.lookup(scope,options);try{return typeof translation=="object"?typeof options.count=="number"?this.pluralize(options.count,scope,options):translation:this.interpolate(translation,options)}catch(err){return this.missingTranslation(scope)}},I18n.localize=function(scope,value){switch(scope){case"currency":return this.toCurrency(value);case"number":return scope=this.lookup("number.format"),this.toNumber(value,scope);case"percentage":return this.toPercentage(value);default:return scope.match(/^(date|time)/)?this.toTime(scope,value):value.toString()}},I18n.parseDate=function(date){var matches,convertedDate;if(typeof date=="object")return date;matches=date.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/);if(matches){for(var i=1;i<=6;i++)matches[i]=parseInt(matches[i],10)||0;matches[2]-=1,matches[7]?convertedDate=new Date(Date.UTC(matches[1],matches[2],matches[3],matches[4],matches[5],matches[6])):convertedDate=new Date(matches[1],matches[2],matches[3],matches[4],matches[5],matches[6])}else typeof date=="number"?(convertedDate=new Date,convertedDate.setTime(date)):date.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/)?(convertedDate=new Date,convertedDate.setTime(Date.parse(date))):(convertedDate=new Date,convertedDate.setTime(Date.parse(date)));return convertedDate},I18n.toTime=function(scope,d){var date=this.parseDate(d),format=this.lookup(scope);return date.toString().match(/invalid/i)?date.toString():format?this.strftime(date,format):date.toString()},I18n.strftime=function(date,format){var options=this.lookup("date");if(!options)return date.toString();options.meridian=options.meridian||["AM","PM"];var weekDay=date.getDay(),day=date.getDate(),year=date.getFullYear(),month=date.getMonth()+1,hour=date.getHours(),hour12=hour,meridian=hour>11?1:0,secs=date.getSeconds(),mins=date.getMinutes(),offset=date.getTimezoneOffset(),absOffsetHours=Math.floor(Math.abs(offset/60)),absOffsetMinutes=Math.abs(offset)-absOffsetHours*60,timezoneoffset=(offset>0?"-":"+")+(absOffsetHours.toString().length<2?"0"+absOffsetHours:absOffsetHours)+(absOffsetMinutes.toString().length<2?"0"+absOffsetMinutes:absOffsetMinutes);hour12>12?hour12-=12:hour12===0&&(hour12=12);var padding=function(n){var s="0"+n.toString();return s.substr(s.length-2)},f=format;return f=f.replace("%a",options.abbr_day_names[weekDay]),f=f.replace("%A",options.day_names[weekDay]),f=f.replace("%b",options.abbr_month_names[month]),f=f.replace("%B",options.month_names[month]),f=f.replace("%d",padding(day)),f=f.replace("%e",day),f=f.replace("%-d",day),f=f.replace("%H",padding(hour)),f=f.replace("%-H",hour),f=f.replace("%I",padding(hour12)),f=f.replace("%-I",hour12),f=f.replace("%m",padding(month)),f=f.replace("%-m",month),f=f.replace("%M",padding(mins)),f=f.replace("%-M",mins),f=f.replace("%p",options.meridian[meridian]),f=f.replace("%S",padding(secs)),f=f.replace("%-S",secs),f=f.replace("%w",weekDay),f=f.replace("%y",padding(year)),f=f.replace("%-y",padding(year).replace(/^0+/,"")),f=f.replace("%Y",year),f=f.replace("%z",timezoneoffset),f},I18n.toNumber=function(number,options){options=this.prepareOptions(options,this.lookup("number.format"),{precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1});var negative=number<0,string=Math.abs(number).toFixed(options.precision).toString(),parts=string.split("."),precision,buffer=[],formattedNumber;number=parts[0],precision=parts[1];while(number.length>0)buffer.unshift(number.substr(Math.max(0,number.length-3),3)),number=number.substr(0,number.length-3);formattedNumber=buffer.join(options.delimiter),options.precision>0&&(formattedNumber+=options.separator+parts[1]),negative&&(formattedNumber="-"+formattedNumber);if(options.strip_insignificant_zeros){var regex={separator:new RegExp(options.separator.replace(/\./,"\\.")+"$"),zeros:/0+$/};formattedNumber=formattedNumber.replace(regex.zeros,"").replace(regex.separator,"")}return formattedNumber},I18n.toCurrency=function(number,options){return options=this.prepareOptions(options,this.lookup("number.currency.format"),this.lookup("number.format"),{unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."}),number=this.toNumber(number,options),number=options.format.replace("%u",options.unit).replace("%n",number),number},I18n.toHumanSize=function(number,options){var kb=1024,size=number,iterations=0,unit,precision;while(size>=kb&&iterations<4)size/=kb,iterations+=1;return iterations===0?(unit=this.t("number.human.storage_units.units.byte",{count:size}),precision=0):(unit=this.t("number.human.storage_units.units."+[null,"kb","mb","gb","tb"][iterations]),precision=size-Math.floor(size)===0?0:1),options=this.prepareOptions(options,{precision:precision,format:"%n%u",delimiter:""}),number=this.toNumber(size,options),number=options.format.replace("%u",unit).replace("%n",number),number},I18n.toPercentage=function(number,options){return options=this.prepareOptions(options,this.lookup("number.percentage.format"),this.lookup("number.format"),{precision:3,separator:".",delimiter:""}),number=this.toNumber(number,options),number+"%"},I18n.pluralizer=function(locale){return pluralizer=this.pluralizationRules[locale],pluralizer!==undefined?pluralizer:this.pluralizationRules.en},I18n.findAndTranslateValidNode=function(keys,translation){for(i=0;i<keys.length;i++){key=keys[i];if(this.isValidNode(translation,key))return translation[key]}return null},I18n.pluralize=function(count,scope,options){var translation;try{translation=this.lookup(scope,options)}catch(error){}if(!translation)return this.missingTranslation(scope);var message;return options=this.prepareOptions(options),options.count=count.toString(),pluralizer=this.pluralizer(this.currentLocale()),key=pluralizer(Math.abs(count)),keys=typeof key=="object"&&key instanceof Array?key:[key],message=this.findAndTranslateValidNode(keys,translation),message==null&&(message=this.missingTranslation(scope,keys[0])),this.interpolate(message,options)},I18n.missingTranslation=function(){var message='[missing "'+this.currentLocale(),count=arguments.length;for(var i=0;i<count;i++)message+="."+arguments[i];return message+='" translation]',message},I18n.currentLocale=function(){return I18n.locale||I18n.defaultLocale},I18n.t=I18n.translate,I18n.l=I18n.localize,I18n.p=I18n.pluralize,I18n.addTranslations({en:{js:{common:{loading:"Loading",stock:"Stock",unstock:"Unstock",submit:"Submit",cancel:"Cancel",comment:"Comment",comments:"Comments",optional:"Optional",ago:"%{distance_in_words} ago",follow:"Follow",unfollow:"Unfollow",preview:"Preview",search:"Search"}}},ja:{js:{common:{loading:"読み込み中",stock:"ストックする",unstock:"ストック解除",submit:"送信",cancel:"キャンセル",comment:"コメント",comments:"コメント",optional:"任意",ago:"%{distance_in_words}前",follow:"フォローする",unfollow:"フォロー解除",preview:"プレビュー",search:"検索"}}}}),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";require("./item_box-adcal"),require("./item_box-team"),require("./item_box-user"),require("./item_box"),require("./item_edit_page"),require("./no_posts_yet_html"),require("./qiita"),require("./qiita_toppage"),require("./stream"),require("./tag-box"),require("./user-box")},{"./item_box":5,"./item_box-adcal":2,"./item_box-team":3,"./item_box-user":4,"./item_edit_page":6,"./no_posts_yet_html":7,"./qiita":8,"./qiita_toppage":9,"./stream":10,"./tag-box":11,"./user-box":12}],2:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{"item_box-adcal":{expand:"Expand",action:{post:"posted",stock:"Stock",unstock:"Unstock",stocking:"Stock"}}}},ja:{js:{"item_box-adcal":{expand:"展開",action:{post:"が投稿しました",stock:"ストック",unstock:"ストックを解除",stocking:"ストックする"}}}}})},{}],3:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{"item_box-team":{post:{pre:"posted ",post:"&nbsp;ago"}}}},ja:{js:{"item_box-team":{post:{pre:"が",post:"前に投稿しました"}}}}})},{}],4:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{"item_box-user":{"private":"This post is Private.",stock:"Stock",unstock:"Unstock"}}},ja:{js:{"item_box-user":{"private":"この投稿は限定共有設定されています",stock:"ストック",unstock:"ストック解除"}}}})},{}],5:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{item_box:{expand:"Expand",close:"Close",action:{post:{pre:"<span>posted</span> ",post:"&nbsp;ago"},coediting_post:{pre:"<span>created a coediting item</span> ",post:"&nbsp;ago"},comment:"<span>commented</span>",new_post:"new post",stock:"<span>stocked</span>"},stock_button:{stock:"Stock",unstock:"Unstock"},stocked_count:"stocked count",post:" posted",comment:"Comment"}}},ja:{js:{item_box:{expand:"展開",close:"閉じる",action:{post:{pre:"が",post:"前に<span>投稿</span>しました"},coediting_post:{pre:"が",post:"前に<span>共同編集記事を作成</span>しました"},comment:"が<span>コメント</span>しました",new_post:"に新しい投稿がありました",stock:"が<span>ストック</span>しました"},stock_button:{stock:"ストック",unstock:"ストックを解除"},stocked_count:"ストックされた数",post:"が投稿",comment:"コメントする"}}}})},{}],6:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{item_edit_page:{alert_when_moving_after_input:"You haven't saved yet, do you want to leave without finishing?"}}},ja:{js:{item_edit_page:{alert_when_moving_after_input:"変更箇所の保存が完了していません。このまま移動しますか？"}}}})},{}],7:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{no_posts_yet_html:"No posts found.<br /><a href='/drafts/new'>Why don't you share your programming tips or code snippets?</a>"}},ja:{js:{no_posts_yet_html:"投稿はまだありません。<br /><a href='/drafts/new'>Qiita全体の投稿</a>を見て、あなたの持っているtips、コードを投稿したり、タグやユーザーをフォローしてみましょう!"}}})},{}],8:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{qiita:{follow:"Follow",unfollow:"Unfollow",stock:"Stock",unstock:"Unstock",expand:"Expand",close:"Close",no_notifications:"You have no notifications."}}},ja:{js:{qiita:{follow:"フォローする",unfollow:"フォロー解除",stock:"ストック",unstock:"ストック解除",expand:"展開",close:"閉じる",no_notifications:"通知はまだありません。"}}}})},{}],9:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{qiita_toppage:{stock:"Stock",unstock:"Unstock",expand:"Expand",close:"Close",followed:"Followed"}}},ja:{js:{qiita_toppage:{stock:"ストックする",unstock:"ストック解除",expand:"展開",close:"閉じる",followed:"フォローしました"}}}})},{}],10:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{stream:{more:"Show More",notification:"%{count} new Activity"}}},ja:{js:{stream:{more:"もっと見る",notification:"%{count} 件の新しいアクティビティ"}}}})},{}],11:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{"tag-box":{pre:"followed",post:"tag",follow:"Follow"}}},ja:{js:{"tag-box":{pre:"が",post:"タグをフォローしました",follow:"フォローする"}}}})},{}],12:[function(require,module,exports){"use strict";I18n.addTranslations({en:{js:{"user-box":{pre:"followed",post:"&nbsp;",follow:"Follow"}}},ja:{js:{"user-box":{pre:"が",post:"をフォローしました",follow:"フォローする"}}}})},{}]},{},[1]),I18n.addTranslations({en:{js:{"item_box-adcal":{expand:"Expand",action:{post:"posted",stock:"Stock",unstock:"Unstock",stocking:"Stock"}}}},ja:{js:{"item_box-adcal":{expand:"展開",action:{post:"が投稿しました",stock:"ストック",unstock:"ストックを解除",stocking:"ストックする"}}}}}),I18n.addTranslations({en:{js:{"item_box-team":{post:{pre:"posted ",post:"&nbsp;ago"}}}},ja:{js:{"item_box-team":{post:{pre:"が",post:"前に投稿しました"}}}}}),I18n.addTranslations({en:{js:{"item_box-user":{"private":"This post is Private.",stock:"Stock",unstock:"Unstock"}}},ja:{js:{"item_box-user":{"private":"この投稿は限定共有設定されています",stock:"ストック",unstock:"ストック解除"}}}}),I18n.addTranslations({en:{js:{item_box:{expand:"Expand",close:"Close",action:{post:{pre:"<span>posted</span> ",post:"&nbsp;ago"},coediting_post:{pre:"<span>created a coediting item</span> ",post:"&nbsp;ago"},comment:"<span>commented</span>",new_post:"new post",stock:"<span>stocked</span>"},stock_button:{stock:"Stock",unstock:"Unstock"},stocked_count:"stocked count",post:" posted",comment:"Comment"}}},ja:{js:{item_box:{expand:"展開",close:"閉じる",action:{post:{pre:"が",post:"前に<span>投稿</span>しました"},coediting_post:{pre:"が",post:"前に<span>共同編集記事を作成</span>しました"},comment:"が<span>コメント</span>しました",new_post:"に新しい投稿がありました",stock:"が<span>ストック</span>しました"},stock_button:{stock:"ストック",unstock:"ストックを解除"},stocked_count:"ストックされた数",post:"が投稿",comment:"コメントする"}}}}),I18n.addTranslations({en:{js:{item_edit_page:{alert_when_moving_after_input:"You haven't saved yet, do you want to leave without finishing?"}}},ja:{js:{item_edit_page:{alert_when_moving_after_input:"変更箇所の保存が完了していません。このまま移動しますか？"}}}}),I18n.addTranslations({en:{js:{no_posts_yet_html:"No posts found.<br /><a href='/drafts/new'>Why don't you share your programming tips or code snippets?</a>"}},ja:{js:{no_posts_yet_html:"投稿はまだありません。<br /><a href='/drafts/new'>Qiita全体の投稿</a>を見て、あなたの持っているtips、コードを投稿したり、タグやユーザーをフォローしてみましょう!"}}}),I18n.addTranslations({en:{js:{qiita:{follow:"Follow",unfollow:"Unfollow",stock:"Stock",unstock:"Unstock",expand:"Expand",close:"Close",no_notifications:"You have no notifications."}}},ja:{js:{qiita:{follow:"フォローする",unfollow:"フォロー解除",stock:"ストック",unstock:"ストック解除",expand:"展開",close:"閉じる",no_notifications:"通知はまだありません。"}}}}),I18n.addTranslations({en:{js:{qiita_toppage:{stock:"Stock",unstock:"Unstock",expand:"Expand",close:"Close",followed:"Followed"}}},ja:{js:{qiita_toppage:{stock:"ストックする",unstock:"ストック解除",expand:"展開",close:"閉じる",followed:"フォローしました"}}}}),I18n.addTranslations({en:{js:{stream:{more:"Show More",notification:"%{count} new Activity"}}},ja:{js:{stream:{more:"もっと見る",notification:"%{count} 件の新しいアクティビティ"}}}}),I18n.addTranslations({en:{js:{"tag-box":{pre:"followed",post:"tag",follow:"Follow"}}},ja:{js:{"tag-box":{pre:"が",post:"タグをフォローしました",follow:"フォローする"}}}}),I18n.addTranslations({en:{js:{"user-box":{pre:"followed",post:"&nbsp;",follow:"Follow"}}},ja:{js:{"user-box":{pre:"が",post:"をフォローしました",follow:"フォローする"}}}}),I18n.addTranslations({en:{js:{mixins:{image_uploadable:{image_is_compressed:"The image is compressed."}}}},ja:{js:{mixins:{image_uploadable:{image_is_compressed:"画像が圧縮されました。"}}}}}),I18n.addTranslations({en:{js:{mixins:{previewable:{fail:"Fail to preview. Please retry later."}}}},ja:{js:{mixins:{previewable:{fail:"プレビュー取得に失敗しました。後ほど再試行してください。"}}}}}),I18n.addTranslations({en:{js:{models:{AdventCalendarItem:{comment:{message:"Too long: maximum 127"}}}}},ja:{js:{models:{AdventCalendarItem:{comment:{message:"コメントが長過ぎます(最長127文字)"}}}}}}),I18n.addTranslations({en:{js:{models:{DraftItem:{comment:{required:"Comment is required."}}}}},ja:{js:{models:{DraftItem:{comment:{required:"コメントを入力してください"}}}}}}),I18n.addTranslations({en:{js:{routes:null}},ja:{js:{routes:null}}}),I18n.addTranslations({en:{js:{routes:{settings:{passwords:{password_mismatch:"Password does not much",min_word_count:"Password must be more than %{count} characters"}}}}},ja:{js:{routes:{settings:{passwords:{password_mismatch:"パスワードが一致していません",min_word_count:"パスワードは%{count}文字以上で入力して下さい"}}}}}}),I18n.addTranslations({en:{js:{templates:{draft_items:{tag_datum:{tag:"Tag",version:"Version"}}}}},ja:{js:{templates:{draft_items:{tag_datum:{tag:"タグ",version:"バージョン"}}}}}}),I18n.addTranslations({en:{js:{templates:{login_modal_view:{lead:{stock:"You need to sign up in order to stock this item :)",followUser:"You need to sign up in order to follow %{target} :)",followTag:"You need to sign up in order to follow %{target} tag :)",participate:"You need to sign up in order to join the Advent Calendar.",thank:"You need to sign up in order to thank the comment :)"},signup:"Sign Up",login:"Login",login_with_github:"Login with GitHub",login_with_twitter:"Login with Twitter",or:"or",already_have_account:"If you already have a Qiita account",login_with_password:"Login with password.",goto_login_page:"Goto login page (https)"}}}},ja:{js:{templates:{login_modal_view:{lead:{stock:"Qiita に登録すると投稿をストックできます。<br />ユーザ登録(無料)してお楽しみください :)",followUser:"%{target} をフォローするにはユーザ登録する必要があります。",followTag:"%{target} タグをフォローするにはユーザ登録する必要があります。",participate:"Advent Calendarに参加するにはユーザ登録する必要があります。",thank:"ユーザ登録するとコメントにThankできます:)"},signup:"ユーザ登録(無料)",login:"ログイン",login_with_github:"GitHubでログイン",login_with_twitter:"Twitterでログイン",or:"または",already_have_account:"すでにQiitaアカウントを持っている方は",login_with_password:"パスワードを使ってログインする。",goto_login_page:"ログインページ（https）に移動する"}}}}}),I18n.addTranslations({en:{js:{templates:{notification:{"public":{accept_patch:' <span class="bold">accepted</span> your edit request.',comment_mention:'<span class="bold">mentioned</span> you in a comment to the post <span class="title">%{title}</span>.',follow_user:'is <span class="bold">following</span> you.',item_mention:'<span class="bold">mentioned</span> you in the post <span class="title">%{title}</span>.',new_comment_for_stocker:'<span class="bold">commented</span> at the post <span class="title">%{title}</span> you stocked.',lgtm:'<span class="bold">liked</span> your post <span class="title">%{title}</span>.',refer_to_public_article:' <span class="bold">linked</span> to your post in the post <span class="title">%{title}</span>.',refer_to_public_comment:' <span class="bold">linked</span> to your comment in the post <span class="title">%{title}</span>.',receive_patch:' sent an <span class="bold">edit request</span> to your post <span class="title">%{title}</span>.',reply:'<span class="bold">commented</span> to your post <span class="title">%{title}</span>.',stock:'<span class="bold">stocked</span> your post <span class="title">%{title}</span>.',stocked_item_update:'<span class="bold">updated</span> the post <span class="title">%{title}</span> you stocked.',update_posted_chunk:'<span class="bold">commented</span> to a post <span class="title">%{title}</span>.',invite_advent_calendar:'<span class="bold">invited</span> to the <span class="title">%{title}</span> advent calendar.',post_advent_calendar_item:'<span class="bold">posted</span> to the <span class="title">%{title}</span> advent calendar.',remind_advent_calendar:'%{date} is <span class="bold">your turn</span> for the <span class="title">%{title}</span> advent calendar.',tweet:{one:'Your post <span class="title">%{title}</span> was <span class="bold">tweeted</span> on Twitter.',other:'Your post <span class="title">%{title}</span> was <span class="bold">tweeted</span> %{count} times on Twitter.'},like:{one:'Your post <span class="title">%{title}</span> was <span class="bold">liked</span> on Facebook.',other:'Your post <span class="title">%{title}</span> was <span class="bold">liked</span> %{count} times on Facebook.'},thanked:'<span class="bold">thanked</span> your comment.',other:"did something."},team:{accept_patch:' <span class="bold">accepted</span> your edit request in %{team_name} team.',comment_mention:'<span class="bold">mentioned</span> you in a comment to the post <span class="title">%{title}</span> in %{team_name} team.',item_mention:'<span class="bold">mentioned</span> you in the post <span class="title">%{title}</span> in %{team_name} team.',new_comment_for_stocker:'<span class="bold">commented</span> at the post <span class="title">%{title}</span> you stocked at %{team_name} team.',lgtm:'<span class="bold">liked</span> your post <span class="title">%{title}</span> in %{team_name} team',receive_patch:' sent an <span class="bold">edit request</span> to your post <span class="title">%{title}</span> in %{team_name} team',refer_to_team_article:'<span class="bold">linked</span> to your post <span class="title">%{title}</span> in %{team_name} team.',refer_to_team_project:'<span class="bold">linked</span> to your project <span class="title">%{title}</span> in %{team_name} team.',refer_to_team_comment:'<span class="bold">linked</span> to your comment on <span class="title">%{title}</span> in %{team_name} team.',reply:'<span class="bold">commented</span> to your post <span class="title">%{title}</span> in %{team_name} team.',stock:'<span class="bold">stocked</span> your post <span class="title">%{title}</span> in %{team_name} team.',stocked_item_update:'<span class="bold">updated</span> the post <span class="title">%{title}</span> you stocked in %{team_name} team.',update_posted_chunk:'<span class="bold">commented</span> to a post <span class="title">%{title}</span> in %{team_name} team.',update_stocked_chunk:'<span class="bold">commented</span> to your stocked post <span class="title">%{title}</span> in %{team_name} team.',thanked:'<span class="bold">thanked</span> your comment in %{team_name} team.',other:"did something."}}}}},ja:{js:{templates:{notification:{"public":{accept_patch:'があなたの編集リクエストを<span class="bold">採用</span>しました。',comment_mention:'が<span class="title">%{title}</span>のコメントで<span class="bold">メンション</span>しました。',follow_user:'があなたを<span class="bold">フォロー</span>しました。',item_mention:'が<span class="title">%{title}</span>で<span class="bold">メンション</span>しました。',new_comment_for_stocker:'があなたのストックした投稿<span class="title">%{title}</span>で<span class="bold">コメント</span>しました。',lgtm:'があなたの投稿<span class="title">%{title}</span>に<span class="bold">いいね!</span>しました。',refer_to_public_article:'が投稿<span class="title">%{title}</span>からあなたの投稿に<span class="bold">リンク</span>しました。',refer_to_public_comment:'が投稿<span class="title">%{title}</span>からあなたのコメントに<span class="bold">リンク</span>しました。',receive_patch:'があなたの投稿<span class="title">%{title}</span>へ<span class="bold">編集リクエスト</span>を送りました。',reply:'があなたの編集した投稿<span class="title">%{title}</span>に<span class="bold">コメント</span>しました。',stock:'があなたの投稿<span class="title">%{title}</span>を<span class="bold">ストック</span>しました。',stocked_item_update:'があなたのストックした投稿<span class="title">%{title}</span>を<span class="bold">編集</span>しました。',update_posted_chunk:'が<span class="title">%{title}</span>に<span class="bold">コメント</span>しました。',invite_advent_calendar:'がアドベントカレンダー<span class="title">%{title}</span>に<span class="bold">招待</span>しました。',post_advent_calendar_item:'が<span class="title">%{title}</span>アドベントカレンダーに<span class="bold">投稿</span>しました。',remind_advent_calendar:'%{date}は<span class="title">%{title}</span>アドベントカレンダーの<span class="bold">あなたの担当日</span>です。',tweet:{one:'あなたの投稿<span class="title">%{title}</span>が<span class="bold">ツイート</span>されました。',other:'あなたの投稿<span class="title">%{title}</span>が%{count}回<span class="bold">ツイート</span>されました。'},like:{one:'あなたの投稿<span class="title">%{title}</span>が<span class="bold">いいね</span>されました。',other:'あなたの投稿<span class="title">%{title}</span>が%{count}回<span class="bold">いいね</span>されました。'},thanked:'があなたのコメントに <span class="bold">Thank!</span> と言っています。',other:"が何かしました。"},team:{accept_patch:'が%{team_name}のあなたの編集リクエストを<span class="bold">採用</span>しました。',comment_mention:'が%{team_name}の<span class="title">%{title}</span>のコメントで<span class="bold">メンション</span>しました。',item_mention:'が%{team_name}の<span class="title">%{title}</span>で<span class="bold">メンション</span>しました。',new_comment_for_stocker:'が%{team_name}であなたのストックした投稿<span class="title">%{title}</span>で<span class="bold">コメント</span>しました。',lgtm:'が%{team_name}のあなたの投稿<span class="title">%{title}</span>に<span class="bold">いいね!</span>しました。',receive_patch:'が%{team_name}のあなたの投稿<span class="title">%{title}</span>へ<span class="bold">編集リクエスト</span>を送りました。',refer_to_team_article:'が%{team_name}のあなたの投稿<span class="title">%{title}</span>に<span class="bold">リンク</span>しました。',refer_to_team_project:'が%{team_name}のあなたのプロジェクト<span class="title">%{title}</span>に<span class="bold">リンク</span>しました。',refer_to_team_comment:'が%{team_name}の<span class="title">%{title}</span>のあなたのコメントに<span class="bold">リンク</span>しました。',reply:'が%{team_name}のあなたの編集した投稿<span class="title">%{title}</span>に<span class="bold">コメント</span>しました。',stock:'が%{team_name}のあなたの投稿<span class="title">%{title}</span>を<span class="bold">ストック</span>しました。',stocked_item_update:'が%{team_name}チームであなたのストックした投稿<span class="title">%{title}</span>を<span class="bold">編集</span>しました。',update_posted_chunk:'が%{team_name}の<span class="title">%{title}</span>に<span class="bold">コメント</span>しました。',update_stocked_chunk:'が%{team_name}のあなたのストックした投稿<span class="title">%{title}</span>に<span class="bold">コメント</span>しました。',thanked:'が%{team_name}のあなたのコメントに <span class="bold">Thank!</span> と言っています。',other:"が何かしました。"}}}}}}),I18n.addTranslations({en:{js:{templates:{project_pages:{tag_datum:{placeholder:"Tag"}}}}},ja:{js:{templates:{project_pages:{tag_datum:{placeholder:"タグ"}}}}}}),I18n.addTranslations({en:{js:{templates:{search_form:{more_results:"More results"}}}},ja:{js:{templates:{search_form:{more_results:"もっと見る"}}}}}),I18n.addTranslations({en:{js:{templates:null}},ja:{js:{templates:null}}}),I18n.addTranslations({en:{js:{templates:{stream:{search_form:{stock:"Search from stocked items",mine:"Search from your items"},fail_to_fetch:{fail_to_fetch_html:"Fail to fetch the feed. <br />\nPlease reload and try again."}}}}},ja:{js:{templates:{stream:{search_form:{stock:"ストック検索",mine:"自分の投稿の中から検索"},fail_to_fetch:{fail_to_fetch_html:"フィードの読み込みに失敗しました。<br />\n画面の再読み込みをお試しください。"}}}}}}),I18n.addTranslations({en:{js:{validators:{AbstractArticleValidator:{title:{cannot_be_empty:"Title is required.",too_long:"Title is too long (maximum is %{count} characters)."},raw_body:{cannot_be_empty:"Body is required."},visibility_id:{cannot_be_empty:"Group is required."}}}}},ja:{js:{validators:{AbstractArticleValidator:{title:{cannot_be_empty:"タイトルは必須です。",too_long:"タイトルは %{count} 文字以内で入力してください。"},raw_body:{cannot_be_empty:"本文は必須です。"},visibility_id:{cannot_be_empty:"投稿先グループを指定してください。"}}}}}}),I18n.addTranslations({en:{js:{validators:{TagDataValidator:{empty:"Tag cannot be empty.",invalid_syntax:"Invalid tag notation: “{{invalid_character}}”.",please_specify_up_to_five_tags:"Please specify up to 5 tags."}}}},ja:{js:{validators:{TagDataValidator:{empty:"タグを空にすることはできません。",invalid_syntax:"タグの記法が間違っています。 “{{invalid_character}}” が不正です。",please_specify_up_to_five_tags:"タグは5つ以内で指定してください。"}}}}}),I18n.addTranslations({en:{js:{validators:{TagDatumValidator:{name_too_long:"Tag name is too long (must be equal to or less than {{maximum}} characters).",contains_invalid_symbol:"Tag name cannot contain empty char or colon.",cannot_start_with_slash:"Tag name cannot start with slash.",cannot_end_with_slash:"Tag name cannot end with slash.",cannot_end_with_backslash:"Tag name cannot end with slash.",cannot_end_with_items:"Tag name cannot end with '/items'.",cannot_use_slash:"Tag name cannot contain slash.",cannot_use_backslash:"Tag name cannot contain backslash.",cannot_use_sequential_slash:"Tag name cannot contain sequential slashes."}}}},ja:{js:{validators:{TagDatumValidator:{name_too_long:"タグが長過ぎます（{{maximum}}文字まで）。",contains_invalid_symbol:"タグに空文字やコロンを含めることはできません。",cannot_start_with_slash:"タグはスラッシュで始めることはできません。",cannot_end_with_slash:"タグをスラッシュで終えることはできません。",cannot_end_with_backslash:"タグをバックスラッシュで終えることはできません。",cannot_end_with_items:"タグを '/items' で終えることはできません。",cannot_use_slash:"タグにスラッシュを含めることはできません。",cannot_use_backslash:"タグにバックスラッシュを含めることはできません。",cannot_use_sequential_slash:"タグに連続したスラッシュを含めることはできません。"}}}}}),I18n.addTranslations({en:{js:{views:{draft_items:{body_form_view:{select_image_or_drag_and_drop_html:"Select Image or Drag & Drop",remaining_upload_quota_in_this_month:"Remaining upload quota in this month",monthly_limit_will_rise_once_you_publish_first_post:"Monthly limit will rise to 100MB once you publish the first post."},form_view:{publish:{fail:"Failed to submit. Please try again later."},save:{success:"Saved successfully",fail:"Failed to save. Please try again later."},"delete":{success:"Deleted successfully",fail:"Failed to delete. Please try again later."},alert:{unload:"The draft has unsaved changes.","delete":"Are you sure to delete the draft? This action cannot be undone."},invalid:"Validation error.",input_body:"Input body",you_can_upload_images:"You can insert images",post_when_finished_writing:"Post when finished writing",diff_error:"Diff error",preview_error:"Preview error"},modal_view:{fail:"Failed to submit. Please try again later."},preview_view:{confirm:"Are you sure to delete the draft?\nThis action cannot be undone."}}}}},ja:{js:{views:{draft_items:{body_form_view:{select_image_or_drag_and_drop_html:"添付する画像を選択<br>またはドラッグ&ドロップ",remaining_upload_quota_in_this_month:"今月のアップロード残り容量",monthly_limit_will_rise_once_you_publish_first_post:"初めての記事を投稿すると、アップロード上限が100MBにアップします。"},form_view:{publish:{fail:"送信に失敗しました"},save:{success:"保存されました",fail:"保存に失敗しました"},"delete":{success:"削除されました",fail:"削除に失敗しました"},alert:{unload:"未保存の変更が失われますがよろしいですか？","delete":"削除した下書きは復元できません。本当に削除してもよろしいですか？"},invalid:"不正なデータが含まれています",input_body:"本文を入力",you_can_upload_images:"画像の挿入もできます",post_when_finished_writing:"書き終わったら投稿",diff_error:"差分の表示に失敗しました",preview_error:"プレビューの表示に失敗しました"},modal_view:{fail:"送信に失敗しました。後ほど再試行してください。"},preview_view:{confirm:"削除した下書きは復元できません。\n本当に削除してもよろしいですか？"}}}}}}),I18n.addTranslations({en:{js:{views:{follow_button:{follow:"Follow",following:"Following"}}}},ja:{js:{views:{follow_button:{follow:"フォローする",following:"フォロー中"}}}}}),I18n.addTranslations({en:{js:{views:{header:{draft:"Draft",drafts:"Drafts",label:"New","new":"Post",edit:"Edit",patch_requests:"Manage edit requests",template:"Template",management:"Management",stock_list:"Stocked Items",notifications:"Notifications",show_more_notifications:"See all",notification_setting:"Settings",mypage:"My page",patches:"Manage edit requests",settings:"Settings",account_settings:"Account settings",team_settings:"Team settings",help:"Help",logout:"Log out",admin_menu:"Administrator",placeholder:"Search",specify_the_user:"Specify the author",incremental_search_result_title_more:"View more",input_user_name:"ex. qiitan",specify_the_tag:"Specify the tag",input_tag_name:"ex. Ruby Framework",sort:"Sort"
,sort_by_rel:"Best match",sort_by_stock:"Most stocked",sort_by_date:"Newest",stocked_checkbox:"Search in stock",anonymous_menu:{signup:"Sign up",login:"Log in"}}}}},ja:{js:{views:{header:{draft:"下書き",drafts:"下書き一覧",label:"新規作成","new":"投稿する",edit:"編集する",patch_requests:"編集リクエスト",template:"テンプレート",management:"管理",stock_list:"ストック一覧",notifications:"お知らせ",show_more_notifications:"通知一覧を見る",notification_setting:"通知設定",mypage:"マイページ",patches:"編集リクエスト管理",settings:"設定",account_settings:"アカウント設定",team_settings:"チーム設定",help:"ヘルプ",logout:"ログアウト",admin_menu:"管理者メニュー",placeholder:"キーワードを入力",specify_the_user:"ユーザーを指定",incremental_search_result_title_more:"もっと見る",input_user_name:"例) qiitan",specify_the_tag:"タグを指定",input_tag_name:"例) Ruby フレームワーク",sort:"ソート",sort_by_rel:"関連度順",sort_by_stock:"ストック数降順",sort_by_date:"新規投稿順",stocked_checkbox:"ストックした投稿で絞り込む",anonymous_menu:{signup:"ユーザ登録",login:"ログイン"}}}}}}),I18n.addTranslations({en:{js:{views:{items:{editable_comment_view:{cancel:"Cancel"},stock_button:{active:"Stock this post",deactive:"Unstock",clicked:"Stocking",activating:"Stocking",deactivating:"Unstocking"},toc_view:{toc:"TOC"},comment_view:{thank_html:'<i class="fa fa-smile-o"></i>Thank',thanked_html:"Sent Thanks"},thank_button:{active:'<i class="fa fa-smile-o"></i>Thank',deactive:"Sent Thanks"},references_view:{show_old_links:"Show old %{count} links",hide_links_except_latest_ones:"Hide links except the latest %{count} ones"}}}}},ja:{js:{views:{items:{editable_comment_view:{cancel:"キャンセル"},stock_button:{active:"この投稿をストックする",deactive:"ストックを解除",activating:"ストック中",deactivating:"ストックを解除中"},toc_view:{toc:"目次"},comment_view:{thank_html:'<i class="fa fa-smile-o"></i>Thank',thanked_html:"Thankを伝えました"},thank_button:{active:'<i class="fa fa-smile-o"></i>Thank',deactive:"Thankを伝えました"},references_view:{show_old_links:"過去の%{count}件を表示する",hide_links_except_latest_ones:"最新の%{count}件以外隠す"}}}}}}),I18n.addTranslations({en:{js:{views:{registration:{"new":{email_suggestion_html:"Did you mean: %{address}@<b>%{domain}</b>?"}}}}},ja:{js:{views:{registration:{"new":{email_suggestion_html:"もしかして: %{address}@<b>%{domain}</b>"}}}}}}),I18n.addTranslations({en:{js:{views:{settings:{password_strength_view:{strength:{very_weak:"Very Weak",weak:"Weak",medium:"Medium",strong:"Strong",very_strong:"Very Strong"}},profiles:{form_view:{url_name:{valid:"Username is available.",invalid_length:"Please use between 3 and 32 characters.",invalid_characters:"Please use only letters (a-z), numbers, underscores, and dashes.",already_exists:"Someone already has that username. Try another?",please_merge:"Or, is this your other Qiita account? <a href='/settings/account'>You can merge it into current account.</a>"}}}}}}},ja:{js:{views:{settings:{password_strength_view:{strength:{very_weak:"とても弱い",weak:"弱い",medium:"まずまず",strong:"強い",very_strong:"とても強い"}},profiles:{form_view:{url_name:{valid:"このユーザ名は利用できます。",invalid_length:"3〜32文字の範囲で入力してください。",invalid_characters:"アルファベット（a〜z）、数字、ハイフン、アンダースコア以外は使用できません。",already_exists:"そのユーザ名を持つユーザが既に存在します。別の名前を入力してください。",please_merge:"もしくはこれがあなたの他のQiitaアカウントなら、<a href='/settings/account'>データを結合することができます。</a>"}}}}}}}}),I18n.addTranslations({en:{js:{views:{shared:{try_again_after_reloading_page:"Try again after reloading page."}}}},ja:{js:{views:{shared:{try_again_after_reloading_page:"ページを再読込後、再度お試しください"}}}}}),I18n.addTranslations({en:{js:{views:{tags:{follow_button_view:{active:"Follow",deactive:"Following",activating:"Following",deactivating:"Unfollowing"}}}}},ja:{js:{views:{tags:{follow_button_view:{active:"フォローする",deactive:"フォロー中",activating:"フォロー中",deactivating:"フォロー解除中"}}}}}}),I18n.addTranslations({en:{js:{views:{teams:{hooks:{form_view:{ping:{success:"Requested to send a ping.",error:"Failed to ping request. Please check your entry."}}}}}}},ja:{js:{views:{teams:{hooks:{form_view:{ping:{success:"テスト送信のリクエストを行いました。送信されるまで少し時間がかかる場合があります。",error:"テスト送信に失敗しました。フォームの入力内容を確認して下さい。"}}}}}}}}),I18n.addTranslations({en:{js:{views:{users:{follow_button_view:{active:"Follow",deactive:"Following",activating:"Following",deactivating:"Unfollowing"}}}}},ja:{js:{views:{users:{follow_button_view:{active:"フォローする",deactive:"フォロー中",activating:"フォロー中",deactivating:"フォロー解除中"}}}}}}),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";require("../../../client/src/public")},{"../../../client/src/public":86}],2:[function(require,module,exports){"use strict";var _require=require("../analysis"),wrap=_require.wrap,mixpanel=_require.mixpanel,analytics=_require.analytics;module.exports=wrap([mixpanel("Advertisement Click",function(props){return{logged_in:!!Qiita.user,place:props.place,ad_id:props.adId,type:props.type}}),analytics("Advertisement","Click",function(props){return{eventLabel:props.adId}})])},{"../analysis":5}],3:[function(require,module,exports){"use strict";var _require=require("./index"),wrap=_require.wrap,mixpanel=_require.mixpanel,analytics=_require.analytics,_require2=require("../../util/misc"),capitalize=_require2.capitalize;module.exports=wrap([mixpanel("Click login modal",function(props){return{provider:props.provider,type:props.type}}),analytics("LoginModal","Click",function(props){return{eventLabel:capitalize(props.type)}})])},{"../../util/misc":113,"./index":5}],4:[function(require,module,exports){"use strict";var _require=require("../analysis"),mixpanel=_require.mixpanel;module.exports=mixpanel("Click news",function(_props){return{logged_in:!!Qiita.user}})},{"../analysis":5}],5:[function(require,module,exports){"use strict";var distinctId=require("../../util/distinct_id"),browser=require("../../util/browser"),_require=require("../../util/misc"),capitalize=_require.capitalize,strategies=[{match:/^\/(public|mine|stock)?$/,type:function type(match){return match[1]?"home":"/"},id:function id(match){return match[1]?match[1]:"/"},detail:function detail(match){return match[1]?undefined:"/"}},{match:/^\/(about|asct|admin|docs|explorer|features|logout|pricing|registered|registration|settings|tags|templates|terms|privacy|organizations)(?:\/([^\/]+)(?:\/([^\/]+))?)?$/,type:1,id:2,detail:3},{match:/^\/advent-calendar(?:\/([^\/]+)(?:\/([^\/]+)(?:\/([^\/]+))?)?)?$/,type:"advent_calendars",id:function id(match){return match[1]?match[2]==="new"?"new":match[2]===undefined?match[1]:match[1]+"-"+match[2]:undefined},detail:3},{match:/^\/drafts\/([^\/]+)(\/edit)?$/,type:"items",id:1,detail:function detail(match){return match[1]==="new"?undefined:match[2]?"edit":"show_at_drafts"}},{match:/^\/(?:[^\/]+)\/items\/(\w+)(?:\/([^\/]+)(?:\/[^\/]+)?)?$/,type:"items",id:1,detail:2},{match:/^\/([^\/]+)(?:\/([^\/]+))?$/,type:"users",id:1,detail:2}],getPageInfo=function getPageInfo(){var pageInfo={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=undefined;try{var _loop=function _loop(){var strategy=_step.value,match=void 0;if(match=browser.getPathname().match(strategy.match)){var _arr=["type","id","detail"],_loop2=function _loop2(){var type=_arr[_i],prop=strategy[type];pageInfo["page"+capitalize(type)]=function(){return _.isNumber(prop)?match[prop]||undefined:_.isString(prop)?prop:_.isFunction(prop)?prop(match)||undefined:undefined}()};for(var _i=0;_i<_arr.length;_i++)_loop2();return"break"}};for(var _iterator=strategies[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _ret=_loop();if(_ret==="break")break}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return pageInfo};exports._isMixpanelAvailable=null,exports.mixpanel=function(default_event_name){var func=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];return function(){var props=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],ref=void 0,dfd=$.Deferred(),default_props=_.extend({distinct_id:distinctId(),team_name:(ref=Qiita.team)!=null?ref.name:void 0},getPageInfo()),merged_props=_.defaults(func(props)||{},default_props),event_name=merged_props.event_name?merged_props.event_name:default_event_name;return delete merged_props.event_name,typeof console.debug=="function"?console.debug("START","Mixpanel",event_name,merged_props):void 0,exports._isMixpanelAvailable===!0?mixpanel.track(event_name,merged_props,function(){return console.debug("DONE","Mixpanel",event_name,merged_props),dfd.resolve()}):exports._isMixpanelAvailable===!1?(console.warn("FAIL","Mixpanel",event_name,merged_props),dfd.reject()):(mixpanel.track(event_name,merged_props,function(){return exports._isMixpanelAvailable=!0,typeof console.debug=="function"?console.debug("DONE","Mixpanel",event_name,merged_props):void 0,dfd.resolve()}),dfd.fail(function(){return exports._isMixpanelAvailable=!1,console.warn("FAIL","Mixpanel",event_name,merged_props)}),setTimeout(function(){return dfd.reject()},2e3)),dfd.promise()}};var isAnalyticsAvailable=null;exports.analytics=function(category,action){var func=arguments.length<=2||arguments[2]===undefined?function(props){return props}:arguments[2];return function(){var _props=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],dfd=$.Deferred(),props=func(_props);return props.eventCategory!=null?props.eventCategory:props.eventCategory=category,props.eventAction!=null?props.eventAction:props.eventAction=action,props.nonInteraction=!0,typeof console.debug=="function"?console.debug("START","Analytics",category,action,props):void 0,isAnalyticsAvailable===!0?(props.hitCallback=function(){return typeof console.debug=="function"?console.debug("DONE","Analytics",category,action,props):void 0,dfd.resolve()},ga("send","event",props)):isAnalyticsAvailable===!1?(console.warn("FAIL","Analytics",category,action,props),dfd.reject()):(props.hitCallback=function(){return isAnalyticsAvailable=!0,typeof console.debug=="function"?console.debug("DONE","Analytics",category,action,props):void 0,dfd.resolve()},ga("send","event",props),dfd.fail(function(){return isAnalyticsAvailable=!1,console.warn("FAIL","Analytics",category,action,props)}),setTimeout(function(){return dfd.reject()},2e3)),dfd.promise()}},exports.wrap=function(trackers){return function(props){var dfd=$.Deferred();return $.when.apply($,_.map(trackers,function(tracker){return tracker(props)})).done(function(){return dfd.resolve()}).fail(function(){return dfd.reject()}),dfd.promise()}},exports.updateAnalyticsByTransition=function(){if(isAnalyticsAvailable)return ga("set","location",browser.getHref()),ga("set","page",browser.getPathname()),ga("set","title",browser.getTitle()),ga("send","pageview")}},{"../../util/browser":105,"../../util/distinct_id":109,"../../util/misc":113}],6:[function(require,module,exports){"use strict";var _require=require("../analysis"),wrap=_require.wrap,mixpanel=_require.mixpanel,analytics=_require.analytics;module.exports=wrap([mixpanel("Click a link",function(props){var result={};for(var key in props)if(props.hasOwnProperty(key)){var val=props[key];result[key.replace("__"," ")]=val}return result}),analytics("Link","Click",function(props){return{eventLabel:props.label||props.event_name}})])},{"../analysis":5}],7:[function(require,module,exports){"use strict";var _require=require("../analysis"),analytics=_require.analytics;module.exports=analytics("Advertisement","Show",function(props){return{eventLabel:props.adId}})},{"../analysis":5}],8:[function(require,module,exports){"use strict";var _require=require("../analysis"),wrap=_require.wrap,mixpanel=_require.mixpanel,analytics=_require.analytics,_require2=require("../../util/misc"),capitalize=_require2.capitalize;module.exports=wrap([mixpanel("Show login modal",function(props){return{type:props.type}}),analytics("LoginModal","Show",function(props){return{eventLabel:capitalize(props.type)}})])},{"../../util/misc":113,"../analysis":5}],9:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function fetchNotifications(){return _request2.default.get("/api/notifications")}function fetchNotificationCount(){return _request2.default.get("/api/notifications/count")}function makeNotificationRead(){return _request2.default.get("/api/notifications/read")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchNotifications=fetchNotifications,exports.fetchNotificationCount=fetchNotificationCount,exports.makeNotificationRead=makeNotificationRead;var _request=require("../util/request"),_request2=_interopRequireDefault(_request)},{"../util/request":115}],10:[function(require,module,exports){"use strict";function textizeWithPrefix(text,prefix){return text.split(" ").filter(function(s){return s!==""}).map(function(s){return prefix+":"+s}).join(" ")}function buildRawQuery(){var query=arguments.length<=0||arguments[0]===undefined?"":arguments[0],userText=arguments.length<=1||arguments[1]===undefined?"":arguments[1],tagText=arguments.length<=2||arguments[2]===undefined?"":arguments[2],ret=[query];if(userText.length>0){var userExpr=textizeWithPrefix(userText,"user");ret.push(userExpr)}if(tagText.length>0){var tagExpr=textizeWithPrefix(tagText,"tag");ret.push(tagExpr)}return ret.join(" ")}function parseRawQuery(rawQuery){var tags=[],users=[],leftQuery=[];return rawQuery.split(" ").forEach(function(chunk){var _chunk$split=chunk.split(":"),_chunk$split2=_slicedToArray(_chunk$split,2),type=_chunk$split2[0],val=_chunk$split2[1];val&&type==="user"?users.push(val):val&&type==="tag"?tags.push(val):chunk.length>0&&leftQuery.push(chunk)}),{leftQuery:leftQuery,tags:tags,users:users}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.buildRawQuery=buildRawQuery,exports.parseRawQuery=parseRawQuery},{}],11:[function(require,module,exports){"use strict";function buildTeamHost(teamUrlName){return teamUrlName+"."+Qiita.root_domain}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildTeamHost=buildTeamHost},{}],12:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _get=function get(object,property,receiver){object===null&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);return parent===null?undefined:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return getter===undefined?undefined:getter.call(receiver)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_events=require("events"),_team=require("../models/team"),_team2=_interopRequireDefault(_team),App=function(_EventEmitter){function App(globalProps){_classCallCheck(this,App);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(App).call(this));return _this.updateByGlobalProps(globalProps),_this}return _inherits(App,_EventEmitter),_createClass(App,[{key:"updateByGlobalProps",value:function updateByGlobalProps(_props){}}]),App}(_events.EventEmitter),PublicApp=function(_App){function PublicApp(){return _classCallCheck(this,PublicApp),_possibleConstructorReturn(this,Object.getPrototypeOf(PublicApp).apply(this,arguments))}return _inherits(PublicApp,_App),_createClass(PublicApp,[{key:"updateByGlobalProps",value:function updateByGlobalProps(props){_get(Object.getPrototypeOf(PublicApp.prototype),"updateByGlobalProps",this).call(this,props)}}]),PublicApp}(App),TeamApp=function(_App2){function TeamApp(){return _classCallCheck(this,TeamApp),_possibleConstructorReturn(this,Object.getPrototypeOf(TeamApp).apply(this,arguments))}return _inherits(TeamApp,_App2),_createClass(TeamApp,[{key:"updateByGlobalProps",value:function updateByGlobalProps(props){_get(Object.getPrototypeOf(TeamApp.prototype),"updateByGlobalProps",this).call(this,props),this.currentTeam=new _team2.default(props.team)}}]),TeamApp}(App);if(!global.Qiita)throw new Error("glabal Qiita is not set yet");Qiita.is_team_page?module.exports=new TeamApp(Qiita):module.exports=new PublicApp(Qiita)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../models/team":79,events:532}],13:[function(require,module,exports){(function(global){"use strict";module.exports=function(setupRouters){try{require("babel-polyfill")}catch(e){}try{require("core-js/fn/array")}catch(e){}global.Promise=require("bluebird"),global._=require("underscore"),require("./tasks/once/setup-jquery"),require("./tasks/once/setup-backbone"),require("./tasks/once/setup-i18n"),require("./tasks/once/setup-react"),require("../components"),require("./tasks/setup-once"),setupRouters(),window.addEventListener("DOMContentLoaded",function(){require("./tasks/setup-after-load")(),require("./tasks/setup-by-page-load")()})}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../components":43,"./tasks/once/setup-backbone":30,"./tasks/once/setup-i18n":32,"./tasks/once/setup-jquery":33,"./tasks/once/setup-react":36,"./tasks/setup-after-load":40,"./tasks/setup-by-page-load":41,"./tasks/setup-once":42,"babel-polyfill":228,bluebird:232,"core-js/fn/array":234,underscore:734}],14:[function(require,module,exports){"use strict";var ResponseView=require("../views/response_view"),notification=void 0;module.exports=notification={notify:function notify(type,message,params){return new ResponseView({type:type,message:_.escape(message),keep:params.keep,time:params.time,icon:params.icon})},alert:function alert(message){var params=arguments.length<=1||arguments[1]===undefined?{keep:!0,icon:"warning-sign fa-exclamation-triangle"}:arguments[1];return notification.notify("alert",message,params)},notice:function notice(message){var params=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return notification.notify("notice",message,params)},error:function error(message){var params=arguments.length<=1||arguments[1]===undefined?{keep:!0}:arguments[1];return notification.notify("error",message,params)}}},{"../views/response_view":149}],15:[function(require,module,exports){"use strict";module.exports=function(){$(".js-userJson").each(function(){_.extend(Qiita.user,JSON.parse(_.unescape($(this).text())))})}},{}],16:[function(require,module,exports){"use strict";module.exports=function(){var base=void 0;return typeof (base=$('[data-toggle="tooltip"]')).tooltip=="function"?base.tooltip({}):void 0}},{}],17:[function(require,module,exports){"use strict";var TagsFollowButtonView=require("../../../views/tags/follow_button_view");module.exports=function(){$(".js-tagFollowButton").each(function(){new TagsFollowButtonView({el:this})})}},{"../../../views/tags/follow_button_view":160}],18:[function(require,module,exports){"use strict";var notification=require("../../notification"),tasklist=require("tasklist.js");$(document).on("change",".task-list-item-checkbox",function(){var $checkbox=$(this),$container=$checkbox.closest(".js-task-list-container");if($container.length!==0){var $field=$container.find(".js-task-list-field").first();$field.val(tasklist.convert($field.val(),$container.find(".task-list-item-checkbox").index($checkbox)+1,$checkbox.prop("checked")));var $form=$field.closest(".js-task-list-update");$.rails.handleRemote($form)}}),$(document).on("ajax:send.rails",".js-task-list-update",function(){$(this).closest(".js-task-list-container").find(".task-list-item-checkbox").attr("disabled",!0)}),$(document).on("ajax:complete.rails",".js-task-list-update",function(){$(this).closest(".js-task-list-container").find(".task-list-item-checkbox").attr("disabled",null)}),$(document).on("ajax:success.rails",".js-task-list-update",function(_,resource){$(this).find(".js-task-list-updated-at").val(Date.parse(resource.updated_at)*.001)}),$(document).on("ajax:error.rails",".js-task-list-update",function(){notification.error(I18n.t("js.views.shared.try_again_after_reloading_page"))}),module.exports=function(){return $(".js-task-list-enabled .task-list-item-checkbox").attr("disabled",null)}},{"../../notification":14,"tasklist.js":732}],19:[function(require,module,exports){"use strict";var UsersFollowButtonView=require("../../../views/users/follow_button_view");module.exports=function(){$(".js-userFollowButton").each(function(){new UsersFollowButtonView({el:this})})}},{"../../../views/users/follow_button_view":163}],20:[function(require,module,exports){"use strict";function showMessage(type){var value=Qiita.flash[type];if(!Qiita.flash[type])return;var messages=_.isArray(value)?value:[value];_.each(messages,function(message){notification[type](message)})}var notification=require("../../notification");module.exports=function(){showMessage("error"),showMessage("alert"),showMessage("notice")}},{"../../notification":14}],21:[function(require,module,exports){"use strict";$(".js-developerMenu_close").click(function(){$(".js-developerMenu").fadeOut(150)})},{}],22:[function(require,module,exports){"use strict";var FeedbackFormView=require("../../../views/feedback_form_view");module.exports=function(){new FeedbackFormView}},{"../../../views/feedback_form_view":134}],23:[function(require,module,exports){"use strict";var _require=require("../../../api/analysis"),updateAnalyticsByTransition=_require.updateAnalyticsByTransition;Backbone.history&&function(){Backbone.history.start({pushState:!0,hashChange:!1});var onPageMoved=function onPageMoved(){return updateAnalyticsByTransition()};Backbone.history.on("route",onPageMoved),$(document).on("pjax:end",function(){return onPageMoved(),Backbone.history.checkUrl()})}(),$.support.pjax?$(document).on("click","a[data-pjax]",function(e){var container=$(this).data("pjax");_.isString(container)?undefined:container="#pjax-container";var opts={container:container};Qiita.variant==="phone"?opts.timeout=1e4:opts.timeout=2e3,$.pjax.click(e,opts)}):undefined},{"../../../api/analysis":5}],24:[function(require,module,exports){"use strict";var linkClickAnalysis=require("../../../api/analysis/link_click"),browser=require("../../../util/browser");$(document).on("click",'a[track="click"]',function(e){var $el=$(this),href=$el.attr("href"),isHashChange=href.charAt(0)==="#",promise=void 0;e.metaKey?linkClickAnalysis($el.data()):($el.attr("target")!=="_blank"&&!isHashChange?e.preventDefault():undefined,promise=linkClickAnalysis($el.data()),isHashChange?undefined:promise.always(function(){browser.navigate(href)}))})},{"../../../api/analysis/link_click":6,"../../../util/browser":105}],25:[function(require,module,exports){"use strict";var clickNewsAnalysis=require("../../../api/analysis/click_news");$("#news-content").on("click",function(){return clickNewsAnalysis()})},{"../../../api/analysis/click_news":4}],26:[function(require,module,exports){var app,browser,landingPage,onZopimLoaded,paidTeamOwner,ref,ref1,ref2,ref3,ref4,screen,trialTeam;screen=require("../../../util/screen"),browser=require("../../../util/browser"),app=require("../../app"),onZopimLoaded=function(){var ref,ref1,tenMinutesAgoInTime,twentyMinutesAgoInTime;return Qiita.user?($zopim.livechat.setName((ref=Qiita.user)!=null?ref.url_name:void 0),$zopim.livechat.setEmail((ref1=Qiita.user)!=null?ref1.email:void 0),$zopim.livechat.removeTags("notLoggedIn"),$zopim.livechat.addTags("loggedIn"),Qiita.user.isOwner?$zopim.livechat.addTags("owner"):$zopim.livechat.removeTags("owner"),Qiita.user.isFirstVisitToQiitaTeam?$zopim.livechat.addTags("firstVisitToQiitaTeam"):$zopim.livechat.removeTags("firstVisitToQiitaTeam")):($zopim.livechat.removeTags("loggedIn"),$zopim.livechat.addTags("notLoggedIn")),Qiita.is_landing_page&&$zopim.livechat.setGreetings({online:"トライアル前にご質問はありませんか?"}),Qiita.is_landing_page&&Qiita.action==="trial_troubleshootings"&&$zopim.livechat.setGreetings({online:"挙げられている事例以外でお悩みですか？"}),app.currentTeam&&($zopim.livechat.addTags("team: "+app.currentTeam.get("url_name")),$zopim.livechat.addTags("status: "+app.currentTeam.get("status")),app.currentTeam.get("members_count")===1?($zopim.livechat.removeTags("invitedTeam"),$zopim.livechat.addTags("lonelyTeam")):($zopim.livechat.removeTags("lonelyTeam"),$zopim.livechat.addTags("invitedTeam")),app.currentTeam.get("articles_count")<7?($zopim.livechat.removeTags("postedTeam"),$zopim.livechat.addTags("noArticlesTeam")):($zopim.livechat.removeTags("noArticlesTeam"),$zopim.livechat.addTags("postedTeam")),tenMinutesAgoInTime=Date.now()-6e5,app.currentTeam.createdAtInTime()<tenMinutesAgoInTime?$zopim.livechat.addTags("10MinutesHasPassed"):$zopim.livechat.removeTags("10MinutesHasPassed"),twentyMinutesAgoInTime=Date.now()-12e5,app.currentTeam.createdAtInTime()<twentyMinutesAgoInTime?$zopim.livechat.addTags("20MinutesHasPassed"):$zopim.livechat.removeTags("20MinutesHasPassed")),$zopim.livechat.setOnConnected(function(){return $zopim.livechat.addTags("visitor_name: "+$zopim.livechat.getName())})},trialTeam=(ref=app.currentTeam)!=null?ref.isTrial():void 0,paidTeamOwner=((ref1=app.currentTeam)!=null?ref1.isPaid():void 0)&&((ref2=Qiita.user)!=null?ref2.isOwner:void 0),landingPage=Qiita.controller_path==="teams_central/landing_pages";if(Qiita.env!=="production")return;if(!landingPage&&!trialTeam&&!paidTeamOwner)return;if(screen.isXs())return;if(Qiita.controller_path==="teams/draft_items"&&((ref3=Qiita.action)==="create"||ref3==="edit"||ref3==="new"||ref3==="update"))return;if(Qiita.controller_path==="teams/projects"&&((ref4=Qiita.action)==="create"||ref4==="edit"||ref4==="new"||ref4==="update"))return;$(document.body).append("<script type=\"text/javascript\">\n  window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=\n  d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.\n  _.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute('charset','utf-8')\n  $.src='//v2.zopim.com/?2TXk821R0njX5wtAdSwefP7HSNnRm37w';z.t=+new Date;$.\n  type='text/javascript';e.parentNode.insertBefore($,e)})(document,'script')\n</script>"),$zopim(onZopimLoaded)},{"../../../util/browser":105,"../../../util/screen":116,"../../app":12}],27:[function(require,module,exports){"use strict";var _require=require("../../../util/misc"),freeAll=_require.freeAll,browser=require("../../../util/browser");window.onerror=function(msg,url){var reg=new RegExp("^"+browser.getProtocol()+"//"+browser.getHost());reg.test(url)&&(console.debug("Exception:",msg),window.ga&&ga("send","exception",{exDesctiption:msg}),freeAll())}},{"../../../util/browser":105,"../../../util/misc":113}],28:[function(require,module,exports){(function(global){"use strict";global.QiitaAnalysis={clickAdvertisement:require("../../../api/analysis/click_advertisement"),showAdvertisement:require("../../../api/analysis/show_advertisement")}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../api/analysis/click_advertisement":2,"../../../api/analysis/show_advertisement":7}],29:[function(require,module,exports){"use strict";var Backbone=require("backbone");Backbone.sync_orig=Backbone.sync,Backbone.sync=function(method,model,opts){var name=model.constructor.name;return console.debug(name,"METHOD:",method,"URL:",_.result(model,"url")),Backbone.sync_orig(method,model,opts)},Backbone.emulateHTTP=!0},{backbone:231}],30:[function(require,module,exports){(function(global){"use strict";global.Backbone=require("backbone"),Backbone.$||(Backbone.$=jQuery)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{backbone:231}],31:[function(require,module,exports){(function(global){"use strict";global.__test__||(global.ZeroClipboard=require("zeroclipboard"))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{zeroclipboard:736}],32:[function(require,module,exports){"use strict";var _misc=require("../../../util/misc");I18n.defaultLocale=Qiita.config.default_locale,I18n.fallbacks=!0,I18n.locale=(0,_misc.getContextLocale)()||Qiita.config.locale},{"../../../util/misc":113}],33:[function(require,module,exports){(function(global){"use strict";var _misc=require("../../../util/misc");global.$=global.jQuery=require("jquery/dist/jquery.js");try{require("jquery-ujs")}catch(e){}jQuery.fn.size||(jQuery.fn.size=function(){return this.length}),I18n.locale&&function(){var orig=$.ajax;$.ajax=function(params){return params.data||(params.data={}),params.data.locale=(0,_misc.getContextLocale)()||I18n.locale,orig.call($,params)}}(),global.__test__||(require("@mizchi/jquery-pjax"),require("jquery-textcomplete"),require("@mizchi/jquery-formdata/jquery.formdata"),require("@mizchi/jquery-ui/ui/core"),require("@mizchi/jquery-ui/ui/widget"),require("@mizchi/jquery-ui/ui/mouse"),require("@mizchi/jquery-ui/ui/sortable"),require("typeahead.js/dist/typeahead.bundle"),require("@mizchi/jquery-scrollchaser/jquery.scrollchaser"),require("@mizchi/jquery-draghover/jquery.draghover"),require("@mizchi/jquery.hotkeys/jquery.hotkeys.js"),require("jquery-overlay/jquery.overlay"),require("../../../../vendor/bootstrap"),require("../../../../vendor/pwstrength-bootstrap"))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../../vendor/bootstrap":195,"../../../../vendor/pwstrength-bootstrap":196,"../../../util/misc":113,"@mizchi/jquery-draghover/jquery.draghover":199,"@mizchi/jquery-formdata/jquery.formdata":200,"@mizchi/jquery-pjax":201,"@mizchi/jquery-scrollchaser/jquery.scrollchaser":202,"@mizchi/jquery-ui/ui/core":203,"@mizchi/jquery-ui/ui/mouse":204,"@mizchi/jquery-ui/ui/sortable":205,"@mizchi/jquery-ui/ui/widget":206,"@mizchi/jquery.hotkeys/jquery.hotkeys.js":207,"jquery-overlay/jquery.overlay":574,"jquery-textcomplete":575,"jquery-ujs":576,"jquery/dist/jquery.js":577,"typeahead.js/dist/typeahead.bundle":733}],34:[function(require,module,exports){(function(global){"use strict";global.key=require("keymaster"),key.filter=function(event){var tagName=(event.target||event.srcElement).tagName;return tagName!=="SELECT"},require("backbone-shortcuts/backbone.shortcuts")}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"backbone-shortcuts/backbone.shortcuts":230,keymaster:578}],35:[function(require,module,exports){"use strict";var isCareerPages=Qiita.controller==="human_resources",token=function(){return Qiita.is_team_page||Qiita.is_landing_page?Qiita.config.mixpanel.team:isCareerPages?Qiita.config.mixpanel.career:Qiita.config.mixpanel.public}(),isDebugEnv=Qiita.env!=="production"||Qiita.DEBUG;mixpanel.init(token,{upgrade:!0,track_pageview:!1,verbose:
isDebugEnv,debug:isDebugEnv}),Qiita.user&&mixpanel.identify(Qiita.user.id.toString())},{}],36:[function(require,module,exports){(function(global){"use strict";global.React=require("react"),global.ReactDOM=require("react-dom"),require("../../../../vendor/react_ujs")}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../../../../vendor/react_ujs":198,react:729,"react-dom":591}],37:[function(require,module,exports){"use strict";Qiita.env&&Qiita.env!=="test"&&function(){var script=document.getElementsByTagName("script")[0],load=function load(src,id){var el=document.createElement("script");el.async=!0,el.src=src,el.id=id,script.parentNode.insertBefore(el,script)},_e=[];window.twttr={_e:_e,ready:function ready(f){_e.push(f)}},load("//platform.twitter.com/widgets.js","twitter-jssdk");if(!Qiita.is_team_page){var fbRoot=document.createElement("div");fbRoot.id="fb-root",document.getElementsByTagName("body")[0].appendChild(fbRoot),load("//connect.facebook.net/en_US/all.js#xfbml=1&appId=222621691108322","facebook-jssdk"),load("//apis.google.com/js/plusone.js","google-plusone-jssdk"),load("//widgets.getpocket.com/v1/j/btn.js?v=1","pocket-btn-js")}}()},{}],38:[function(require,module,exports){"use strict";var store=require("store"),app=require("../../app");store.enabled?app.store=store:app.store={set:function set(key,value){return value},get:function get(key,defaultVal){return defaultVal},remove:function remove(_key){},clear:function clear(){},transact:function transact(_key,_defaultVal,_transactionFn){},getAll:function getAll(){return{}},forEach:function forEach(_callback){},serialize:store.serialize,deserialize:store.deserialize}},{"../../app":12,store:730}],39:[function(require,module,exports){"use strict";require("../../../../vendor/qiita-team-templates")},{"../../../../vendor/qiita-team-templates":197}],40:[function(require,module,exports){"use strict";module.exports=function(){require("./once-after-load/setup-dev-panel"),require("./once-after-load/setup-feedback-form"),require("./once-after-load/setup-news-track"),require("./once-after-load/setup-link-track"),(Qiita.is_team_page||Qiita.is_landing_page)&&require("./once-after-load/setup-zopim"),require("./once-after-load/setup-history-manager")}},{"./once-after-load/setup-dev-panel":21,"./once-after-load/setup-feedback-form":22,"./once-after-load/setup-history-manager":23,"./once-after-load/setup-link-track":24,"./once-after-load/setup-news-track":25,"./once-after-load/setup-zopim":26}],41:[function(require,module,exports){"use strict";module.exports=function(){require("./by-page-load/load-embedded-data")(),require("./by-page-load/setup-user-follow-button")(),require("./by-page-load/setup-tag-follow-button")(),require("./by-page-load/show-flash-messages")(),require("./by-page-load/setup-bootstrap-modal")(),require("./by-page-load/setup-tasklist")()}},{"./by-page-load/load-embedded-data":15,"./by-page-load/setup-bootstrap-modal":16,"./by-page-load/setup-tag-follow-button":17,"./by-page-load/setup-tasklist":18,"./by-page-load/setup-user-follow-button":19,"./by-page-load/show-flash-messages":20}],42:[function(require,module,exports){(function(global){"use strict";require("./once/setup-jquery"),require("./once/setup-backbone"),require("./once/setup-store"),require("./once/setup-backbone-sync"),require("./once/setup-keymaster"),require("./once/catch-window-error"),require("./once/setup-team-templates"),require("./once/setup-clipboard"),global.__test__||require("./once/setup-mixpanel"),require("./once/setup-social-buttons"),require("./once/setup-analysis-export")}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./once/catch-window-error":27,"./once/setup-analysis-export":28,"./once/setup-backbone":30,"./once/setup-backbone-sync":29,"./once/setup-clipboard":31,"./once/setup-jquery":33,"./once/setup-keymaster":34,"./once/setup-mixpanel":35,"./once/setup-social-buttons":37,"./once/setup-store":38,"./once/setup-team-templates":39}],43:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _headerContainer=require("./containers/header-container"),_headerContainer2=_interopRequireDefault(_headerContainer),_categoryBrowser=require("./components/category-browser"),_categoryBrowser2=_interopRequireDefault(_categoryBrowser),_articleCategorizationButton=require("./components/article-categorization-button"),_articleCategorizationButton2=_interopRequireDefault(_articleCategorizationButton),_debugToolsContainer=require("./containers/debug-tools-container"),_debugToolsContainer2=_interopRequireDefault(_debugToolsContainer),_slideContainer=require("./containers/slide-container"),_slideContainer2=_interopRequireDefault(_slideContainer);global.T={},T.Header=_headerContainer2.default,T.CategoryBrowser=_categoryBrowser2.default,T.ArticleCategorizationButton=_articleCategorizationButton2.default,T.DebugToolsContainer=_debugToolsContainer2.default,T.SlideContainer=_slideContainer2.default}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./components/article-categorization-button":44,"./components/category-browser":45,"./containers/debug-tools-container":62,"./containers/header-container":63,"./containers/slide-container":64}],44:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Modal=require("react-modal"),jQuery=require("jquery"),renderCategories=function renderCategories(categories,categorizations,onCategorySelectionChanged){return categories.map(function(category){return React.createElement(Category,{key:category.id,category:category,categorizations:categorizations,onCategorySelectionChanged:onCategorySelectionChanged})})},_includesSelectedCategory=function _includesSelectedCategory(category,categorizations){var selfIsSelected=categorizations.some(function(categorization){return categorization.category_id===category.id});return selfIsSelected?!0:category.children.some(function(childCategory){return _includesSelectedCategory(childCategory,categorizations)})},Category=React.createClass({displayName:"Category",getInitialState:function getInitialState(){return{showsChildren:this.includesSelectedCategory()}},render:function render(){return React.createElement("li",{className:"teamArticleCategorization"},this.renderSelf(),this.renderChildren())},renderSelf:function renderSelf(){return React.createElement("div",{className:"teamArticleCategorization_self"},this.renderChildrenToggle(),React.createElement("div",{className:"teamArticleCategorization_category",onClick:this.select},React.createElement("input",{type:"checkbox",id:this.getCheckboxElementId(),checked:this.isSelected(),onChange:this.onSelectionChanged}),React.createElement("label",{htmlFor:this.getCheckboxElementId()},this.props.category.name)))},renderChildren:function renderChildren(){if(!this.state.showsChildren||this.props.category.children.length===0)return null;var childNodes=renderCategories(this.props.category.children,this.props.categorizations,this.props.onCategorySelectionChanged);return React.createElement("ul",{className:"teamArticleCategorization_children"},childNodes)},renderChildrenToggle:function renderChildrenToggle(){return this.props.category.children.length===0?null:React.createElement("div",{className:"teamArticleCategorization_childrenToggle",onClick:this.toggleChildren},React.createElement("i",{className:"fa fa-fw "+(this.state.showsChildren?"fa-chevron-down":"fa-chevron-right")}))},getCheckboxElementId:function getCheckboxElementId(){return"teamArticleCategorization_checkbox"+this.props.category.id},isSelected:function isSelected(){var _this=this;return this.props.categorizations.some(function(categorization){return categorization.category_id===_this.props.category.id})},includesSelectedCategory:function includesSelectedCategory(){return _includesSelectedCategory(this.props.category,this.props.categorizations)},toggleChildren:function toggleChildren(){this.setState({showsChildren:!this.state.showsChildren})},onSelectionChanged:function onSelectionChanged(event){var selected=event.target.checked;this.props.onCategorySelectionChanged(this.props.category,selected)}}),CategoryTree=React.createClass({displayName:"CategoryTree",render:function render(){return React.createElement("ul",{className:"teamArticleCategorizationModal_categoryTree"},this.renderRootCategories())},renderRootCategories:function renderRootCategories(){return renderCategories(this.props.rootCategories,this.props.categorizations,this.props.onCategorySelectionChanged)}}),ArticleCategorizationButton=React.createClass({displayName:"ArticleCategorizationButton",getInitialState:function getInitialState(){return{modalIsOpen:!1,categorizations:this.props.initialCategorizations}},openModal:function openModal(){this.setState({modalIsOpen:!0})},closeModal:function closeModal(){this.setState({modalIsOpen:!1})},render:function render(){return React.createElement("div",null,React.createElement("a",{onClick:this.openModal},React.createElement("i",{className:"fa fa-angle-double-right"})," カテゴリ登録"),React.createElement(Modal,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,style:this.getStyle()},React.createElement("div",{className:"teamArticleCategorizationModal"},React.createElement(CategoryTree,_extends({},this.props,{categorizations:this.state.categorizations,onCategorySelectionChanged:this.onCategorySelectionChanged})))))},getStyle:function getStyle(){return{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"35%",left:"50%",right:"50%",bottom:"0",marginRight:"-50%",transform:"translate(-50%, -40%)"}}},onCategorySelectionChanged:function onCategorySelectionChanged(category,selected){if(selected)this.createCategorization(category.id);else{var categorization=this.state.categorizations.find(function(categorization){return categorization.category_id===category.id});this.destroyCategorization(categorization.id)}},createCategorization:function createCategorization(category_id){var _this2=this;jQuery.ajax({method:"POST",url:"/categorizations",data:{"categorization[article_id]":this.props.articleId,"categorization[category_id]":category_id},dataType:"json",success:function success(categorization){var newCategorizations=_this2.state.categorizations.concat([categorization]);_this2.setState({categorizations:newCategorizations})},error:function error(xhr,status,_error){console.error("error",status,_error.toString())}})},destroyCategorization:function destroyCategorization(categorization_id){var _this3=this;jQuery.ajax({method:"DELETE",url:"/categorizations/"+categorization_id,dataType:"json",success:function success(){var newCategorizations=_this3.state.categorizations.filter(function(categorization){return categorization.id!==categorization_id});_this3.setState({categorizations:newCategorizations})},error:function error(xhr,status,_error2){console.error("error",status,_error2.toString())}})}});module.exports=ArticleCategorizationButton},{jquery:577,"react-modal":598}],45:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},Modal=require("react-modal"),jQuery=require("jquery"),renderCategories=function renderCategories(categories,selectedCategoryId,onCategorySelected){return categories.map(function(category){return React.createElement(Category,{key:category.id,category:category,selectedCategoryId:selectedCategoryId,onCategorySelected:onCategorySelected})})},_includesSelectedCategory=function _includesSelectedCategory(category,selectedCategoryId){return selectedCategoryId?category.id===selectedCategoryId?!0:category.children.some(function(childCategory){return _includesSelectedCategory(childCategory,selectedCategoryId)}):!1},CategoryToolbar=React.createClass({displayName:"CategoryToolbar",render:function render(){return React.createElement("div",{className:"teamCategoryBrowser_categoryToolbar"},React.createElement(NewRootCategoryButton,null))}}),NewCategoryModal=React.createClass({displayName:"NewCategoryModal",getDefaultProps:function getDefaultProps(){return{parentCategoryId:null}},getInitialState:function getInitialState(){return{name:""}},render:function render(){return React.createElement(Modal,_extends({},this.props,{style:this.getStyle()}),React.createElement("form",{method:"post",action:"/categories",onSubmit:this.onSubmit},React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"teamCategoryModal_nameField"},"Category name"),React.createElement("input",{id:"teamCategoryModal_nameField",ref:"nameField",className:"form-control",type:"text",name:"category[name]",placeholder:"Name",onChange:this.onNameChange})),React.createElement("input",{className:"btn btn-primary",type:"submit",value:"Create"})))},getStyle:function getStyle(){return{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"40%",left:"50%",right:"auto",bottom:"auto",width:"300px",marginRight:"-50%",transform:"translate(-50%, -50%)"}}},onNameChange:function onNameChange(event){this.setState({name:event.target.value})},onSubmit:function onSubmit(event){event.preventDefault();var data={"category[name]":this.state.name,"category[parent_id]":this.props.parentCategoryId};jQuery.ajax({method:"POST",url:"/categories",data:data,dataType:"json",success:function success(){document.location.reload()},error:function error(xhr,status,_error){console.error("error",status,_error.toString())}})}}),NewRootCategoryButton=React.createClass({displayName:"NewRootCategoryButton",getInitialState:function getInitialState(){return{isModalOpen:!1}},openModal:function openModal(){this.setState({isModalOpen:!0})},closeModal:function closeModal(){this.setState({isModalOpen:!1})},render:function render(){return React.createElement("div",{className:"teamCategoryBrowser_categoryToolbarItem",onClick:this.openModal},React.createElement("i",{className:"fa fa-plus fa-lg"}),"New Category",React.createElement(NewCategoryModal,{isOpen:this.state.isModalOpen,onRequestClose:this.closeModal}))}}),NewChildCategoryButton=React.createClass({displayName:"NewChildCategoryButton",getInitialState:function getInitialState(){return{isModalOpen:!1}},openModal:function openModal(){this.setState({isModalOpen:!0})},closeModal:function closeModal(){this.setState({isModalOpen:!1})},render:function render(){return React.createElement("span",null,React.createElement("span",{className:"teamCategory_action",onClick:this.openModal},React.createElement("i",{className:"fa fa-plus"})),React.createElement(NewCategoryModal,{isOpen:this.state.isModalOpen,onRequestClose:this.closeModal,parentCategoryId:this.props.category.id}))}}),RemoveCategoryButton=React.createClass({displayName:"RemoveCategoryButton",render:function render(){return React.createElement("span",{className:"teamCategory_action",onClick:this.onClick},React.createElement("i",{className:"fa fa-minus"}))},onClick:function onClick(){this.confirm()&&this.removeCategory()},confirm:function confirm(){return window.confirm('Are you sure to delete "'+this.props.category.name+'"?')},removeCategory:function removeCategory(){jQuery.ajax({method:"DELETE",url:"/categories/"+this.props.category.id,dataType:"json",success:function success(){document.location.href="/categories"},error:function error(xhr,status,_error2){console.error("error",status,_error2.toString())}})}}),Category=React.createClass({displayName:"Category",getInitialState:function getInitialState(){return{showsChildren:!this.isSelected()&&this.includesSelectedCategory()}},render:function render(){return React.createElement("li",{className:"teamCategory"},this.renderSelf(),this.renderChildren())},renderSelf:function renderSelf(){return React.createElement("div",{className:this.isSelected()?"teamCategory_self-selected":"teamCategory_self"},this.renderChildrenToggle(),React.createElement("div",{className:"teamCategory_name",onClick:this.select},this.props.category.name),React.createElement("div",{className:"teamCategory_actions"},React.createElement(NewChildCategoryButton,{category:this.props.category}),React.createElement(RemoveCategoryButton,{category:this.props.category})))},renderChildren:function renderChildren(){if(!this.state.showsChildren||this.props.category.children.length===0)return null;var childNodes=renderCategories(this.props.category.children,this.props.selectedCategoryId,this.props.onCategorySelected);return React.createElement("ul",{className:"teamCategory_children"},childNodes)},renderChildrenToggle:function renderChildrenToggle(){return this.props.category.children.length===0?React.createElement("div",{className:"teamCategory_childrenToggle-disabled"},React.createElement("i",{className:"fa fa-fw fa-minus"})):React.createElement("div",{className:"teamCategory_childrenToggle",onClick:this.toggleChildren},React.createElement("i",{className:"fa fa-fw "+(this.state.showsChildren?"fa-chevron-down":"fa-chevron-right")}))},isSelected:function isSelected(){return this.props.category.id===this.props.selectedCategoryId},includesSelectedCategory:function includesSelectedCategory(){return _includesSelectedCategory(this.props.category,this.props.selectedCategoryId)},toggleChildren:function toggleChildren(){this.setState({showsChildren:!this.state.showsChildren})},select:function select(){this.isSelected()||this.props.onCategorySelected(this.props.category)}}),CategoryTree=React.createClass({displayName:"CategoryTree",render:function render(){return React.createElement("div",{className:"teamCategoryBrowser_categories"},React.createElement("ul",{className:"teamCategoryBrowser_categoryTree"},this.renderRootCategories()),React.createElement(CategoryToolbar,null))},renderRootCategories:function renderRootCategories(){return renderCategories(this.props.rootCategories,this.props.selectedCategoryId,this.props.onCategorySelected)}}),ArticleList=React.createClass({displayName:"ArticleList",getInitialState:function getInitialState(){return{articles:[],isLoading:!1,lastError:null}},componentDidMount:function componentDidMount(){this.fetchArticles(this.props.categoryId)},componentWillReceiveProps:function componentWillReceiveProps(nextProps){this.fetchArticles(nextProps.categoryId)},fetchArticles:function fetchArticles(categoryId){var _this=this;if(!categoryId)return;this.setState({isLoading:!0}),jQuery.ajax({method:"GET",url:"/categories/"+categoryId+"/articles",dataType:"json",success:function success(data){_this.setState({articles:data,isLoading:!1,lastError:null})},error:function error(xhr,status,_error3){_this.setState({articles:[],isLoading:!1,lastError:_error3}),console.error("error",status,_error3.toString())}})},render:function render(){return React.createElement("ul",{className:"teamCategoryBrowser_articles"},this.renderContent())},renderContent:function renderContent(){return this.props.categoryId?this.state.isLoading?this.renderLoadingIndicator():this.state.lastError?this.renderErrorMessage():this.state.articles.length===0?this.renderNoArticleMessage():this.renderArticles():null},renderLoadingIndicator:function renderLoadingIndicator(){return React.createElement("div",{className:"teamCategoryBrowser_loadingIndicator"},React.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x"}))},renderErrorMessage:function renderErrorMessage(){return React.createElement("div",{className:"teamCategoryBrowser_message"},React.createElement("i",{className:"fa fa-exclamation-circle"})," ",this.state.lastError)},renderNoArticleMessage:function renderNoArticleMessage(){return React.createElement("div",{className:"teamCategoryBrowser_message"},"There’s no article in the category.")},renderArticles:function renderArticles(){return this.state.articles.map(this.renderArticle,this)},renderArticle:function renderArticle(article){var created_at=new Date(article.created_at);return React.createElement("li",{className:"teamCategoryArticle",key:article.id},React.createElement("img",{className:"teamCategoryArticle_userIcon",alt:"",src:article.user.profile_image_url,width:"20",height:"20"}),React.createElement("div",{className:"teamCategoryArticle_content"},React.createElement("a",{className:"teamCategoryArticle_title",href:article.url},article.title),React.createElement("div",{className:"teamCategoryArticle_metadata"},"created at ",created_at.toLocaleString()," by ",React.createElement("a",{className:"teamCategoryArticle_userName",href:"/"+article.user.id},article.user.id))))}}),CategoryBrowser=React.createClass({displayName:"CategoryBrowser",getInitialState:function getInitialState(){return{selectedCategoryId:this.props.initialSelectedCategoryId}},render:function render(){return React.createElement("div",{className:"teamCategoryBrowser"},React.createElement(CategoryTree,_extends({},this.props,this.state,{onCategorySelected:this.onCategorySelected})),React.createElement(ArticleList,_extends({},this.props,{categoryId:this.state.selectedCategoryId})))},onCategorySelected:function onCategorySelected(category){this.setState({selectedCategoryId:category.id}),window.history.replaceState(null,null,"/categories/"+category.id)}});module.exports=CategoryBrowser},{jquery:577,"react-modal":598}],46:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=require("react"),DebugTools=function(_Component){function DebugTools(){return _classCallCheck(this,DebugTools),_possibleConstructorReturn(this,Object.getPrototypeOf(DebugTools).apply(this,arguments))}return _inherits(DebugTools,_Component),_createClass(DebugTools,[{key:"render",value:function render(){var GIT_BRANCH=this.props.GIT_BRANCH;return React.createElement("div",{className:"debugTools"},React.createElement("span",{className:"debugTools_branchName"},"branch: ",GIT_BRANCH))}}]),DebugTools}(_react.Component);exports.default=DebugTools},{react:729}],47:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_headerContainer=require("../../containers/header-container"),_jsxHelper=require("../../util/jsx-helper"),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_react=require("react"),_mobileSearchModal=require("./modals/mobile-search-modal"),_mobileSearchModal2=_interopRequireDefault(_mobileSearchModal),_newItemButton=require("./menus/new-item-button"),_newItemButton2=_interopRequireDefault(_newItemButton),_notificationButton=require("./menus/notification-button"),_notificationButton2=_interopRequireDefault(_notificationButton),_searchMenu=require("./menus/search-menu"),_searchMenu2=_interopRequireDefault(_searchMenu),_userButton=require("./menus/user-button"),_userButton2=_interopRequireDefault(_userButton),_teamSelect=require("./menus/team-select"),_teamSelect2=_interopRequireDefault(_teamSelect),browser=require("../../util/browser"),Header=function(_Component){function Header(){return _classCallCheck(this,Header),_possibleConstructorReturn(this,Object.getPrototypeOf(Header).apply(this,arguments))}return _inherits(Header,_Component),_createClass(Header,[{key:"render",value:function render(){var props=this.props;return React.createElement("header",{className:(0,_jsxHelper.cn)("sharedHeader",props.is_team_page?"sharedHeader-team":"sharedHeader-public",props.is_fluid?"sharedHeader-absolutePosition":"")},React.createElement("div",{className:"sharedHeader_inner"+(props.is_fluid?"-fluid":"")},React.createElement("div",{className:"sharedHeader_left"},React.createElement(_teamSelect2.default,{showModal:props.activeModal===_headerContainer.ACTIVATABLE_MODALS.TEAM_SELECT,user:props.user,team:props.team,is_team_page:props.is_team_page,siteid_image:props.siteid_image,dispatch:props.dispatch}),props.show_search_menu&&React.createElement(_searchMenu2.default,{showIncrementalSearch:props.activeModal===_headerContainer.ACTIVATABLE_MODALS.INCREMETAL_SEARCH,showSearchQuerySupport:props.activeModal===_headerContainer.ACTIVATABLE_MODALS.SEARCH_QUERY_SUPPORT,canUseIncrementalSearch:!!props.team,dispatch:props.dispatch}),props.news&&React.createElement("div",{key:"navbar-text",className:(0,_jsxHelper.cn)("navbar-text","headerNews","hidden-xs","hidden-sm")},React.createElement("div",{key:"label",className:(0,_jsxHelper.cn)("headerNews_label","label","label-warning")},props.news.type),React.createElement("a",{key:"navbar-link",className:"navbar-link",target:"_blank",href:props.news.url},props.news.content))),function(){if(props.user)return React.createElement("div",{className:"sharedHeader_right"},React.createElement("div",{className:"sharedHeader_searchIcon"},React.createElement("a",{"data-toggle":"modal","data-target":"#js-searchModal"},React.createElement("i",{className:"fa fa-search"}))),React.createElement(_mobileSearchModal2.default,null),props.show_post_menu&&React.createElement(_newItemButton2.default,{team:props.team,is_team_page:props.is_team_page,showModal:props.activeModal===_headerContainer.ACTIVATABLE_MODALS.NEW_ITEM_BUTTON,dispatch:props.dispatch}),!props.is_team_page&&props.user&&React.createElement("div",{className:"sharedHeader_stockItems"},React.createElement("a",{href:"/"+props.user.url_name+"/stock"},I18n.t("js.views.header.stock_list"))),!props.is_team_page&&props.user&&React.createElement("div",{className:"sharedHeader_stockItems_xsStock"},React.createElement("a",{href:"/"+props.user.url_name+"/stock",title:I18n.t("js.views.header.stock_list")},React.createElement("i",{className:"fa fa-folder"}))),React.createElement(_notificationButton2.default,{showModal:props.activeModal===_headerContainer.ACTIVATABLE_MODALS.NOTIFICATION,initial_unread_count:props.initial_unread_count,dispatch:props.dispatch}),React.createElement(_userButton2.default,{user:props.user,is_team_page:props.is_team_page,showModal:props.activeModal===_headerContainer.ACTIVATABLE_MODALS.USER,dispatch:props.dispatch}));if(!props.is_team_page&&!props.user)return React.createElement("div",{className:"sharedHeader_right"},React.createElement("div",{className:"sharedHeader_registerUser"},React.createElement("a",{className:(0,_jsxHelper.cn)("btn","btn-warning","navbar-btn","navbar-right"),href:"/signup?redirect_to="+encodeURIComponent(browser.getPathname())},I18n.t("js.views.header.anonymous_menu.signup"))),React.createElement("div",{className:"sharedHeader_loginUser"},React.createElement("a",{track:"click","data-label":"LoginButtonAtNavbar",href:"/login?redirect_to="+encodeURIComponent(browser.getPathname())},I18n.t("js.views.header.anonymous_menu.login"))))}()))}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this,self=this;window.addEventListener("click",function(e){$(e.target).closest(_reactDom2.default.findDOMNode(_this2)).length===0&&self.props.dispatch("header:select-modal",null)})}}]),Header}(_react.Component);exports.default=Header},{"../../containers/header-container":63,"../../util/browser":105,"../../util/jsx-helper":111,"./menus/new-item-button":49,"./menus/notification-button":50,"./menus/search-menu":51,"./menus/team-select":52,"./menus/user-button":53,"./modals/mobile-search-modal":55,react:729,"react-dom":591}],48:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=require("underscore"),_searchMenu=require("../search-menu"),_searchMenu2=_interopRequireDefault(_searchMenu),_headerContainer=require("../../../../containers/header-container");exports.default=(0,_underscore.throttle)(function(self){if(self.props.showSearchQuerySupport)return;self.props.dispatch("header:select-modal",_headerContainer.ACTIVATABLE_MODALS.INCREMETAL_SEARCH,!0);var searchQuery=self.state.searchQuery;if(searchQuery===""){self.setState({searchResults:[],focusIndex:-1,onIncrementalSearching:!1});return}self.setState({onIncrementalSearching:!0}),$.getJSON("/search",{q:self.state.searchQuery,sort:"rel"}).then(function(data){console.log("search result",data);if(!self.props.showIncrementalSearch){self.setState({onIncrementalSearching:!1});return}self.setState({searchResults:data.slice(0,5),focusIndex:-1,onIncrementalSearching:!1})})},1e3,{trailing:!0})},{"../../../../containers/header-container":63,"../search-menu":51,underscore:734}],49:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jsxHelper=require("../../../util/jsx-helper"),_postModal=require("../modals/post-modal"),_postModal2=_interopRequireDefault(_postModal),_headerContainer=require("../../../containers/header-container");exports.default=function(_ref){var showModal=_ref.showModal,is_team_page=_ref.is_team_page,team=_ref.team,dispatch=_ref.dispatch;return React.createElement("div",{className:(0,_jsxHelper.cn)("sharedHeader_newItem","btn-group")},React.createElement("a",{className:(0,_jsxHelper.cn)("sharedHeader_newItem_btn","sharedHeader_newItem_post","btn"),href:"/drafts/new"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-lg","fa-edit")}),I18n.t("js.views.header.new")),React.createElement("a",{className:(0,_jsxHelper.cn)("sharedHeader_newItem_btn","dropdown-toggle","btn"),onClick:function onClick(_ev){return dispatch("header:select-modal",_headerContainer.ACTIVATABLE_MODALS.NEW_ITEM_BUTTON)}},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-caret-down")}),React.createElement("span",{className:"sharedHeader_newItem_xsEdit"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-edit")}))),showModal&&React.createElement(_postModal2.default,{is_team_page:is_team_page
,team:team}))}},{"../../../containers/header-container":63,"../../../util/jsx-helper":111,"../modals/post-modal":58}],50:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){return step("next",value)},function(err){return step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jsxHelper=require("../../../util/jsx-helper"),_notification=require("../../../api/notification"),_notificationModal=require("../modals/notification-modal"),_notificationModal2=_interopRequireDefault(_notificationModal),_headerContainer=require("../../../containers/header-container"),_react=require("react"),NotificationButton=function(_Component){function NotificationButton(props){_classCallCheck(this,NotificationButton);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NotificationButton).call(this,props));return _this.state={unreadCount:_this.props.initial_unread_count,notifications:[],isFetching:!1,notificationfetchedOnce:!1},_this}return _inherits(NotificationButton,_Component),_createClass(NotificationButton,[{key:"render",value:function render(){var _this2=this,_props=this.props,showModal=_props.showModal,dispatch=_props.dispatch,_state=this.state,unreadCount=_state.unreadCount,notifications=_state.notifications,notificationfetchedOnce=_state.notificationfetchedOnce,isFetching=_state.isFetching;return React.createElement("div",{className:"sharedHeader_notifications"},React.createElement("div",{className:(0,_jsxHelper.cn)("globalNotifications","open","active")},React.createElement("div",{className:"globalNotifications__surface",onClick:function(){var ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ev){var res;return regeneratorRuntime.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:dispatch("header:select-modal",_headerContainer.ACTIVATABLE_MODALS.NOTIFICATION);if(notificationfetchedOnce){_context.next=8;break}return _this2.setState({isFetching:!0}),_context.next=5,(0,_notification.fetchNotifications)();case 5:res=_context.sent,_this2.setState({notificationfetchedOnce:!0,isFetching:!1,unreadCount:0,notifications:res.data}),(0,_notification.makeNotificationRead)();case 8:case"end":return _context.stop()}},_callee,_this2)}));return function(_x){return ref.apply(this,arguments)}}()},React.createElement("div",{className:(0,_jsxHelper.cn)("globalNotifications_count",unreadCount>0?"unchecked":"")},unreadCount)),showModal&&React.createElement(_notificationModal2.default,{notifications:notifications,isFetching:isFetching})))}}]),NotificationButton}(_react.Component);exports.default=NotificationButton},{"../../../api/notification":9,"../../../containers/header-container":63,"../../../util/jsx-helper":111,"../modals/notification-modal":57,react:729}],51:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer)desc.writable=!0;return desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&desc.initializer!==void 0&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=undefined),desc.initializer===void 0&&(Object.defineProperty(target,property,desc),desc=null),desc}function syncFormFromSearchQuery(searchQuery,_userText,_tagText){var _parseRawQuery=(0,_queryBuilder.parseRawQuery)(searchQuery),users=_parseRawQuery.users,tags=_parseRawQuery.tags;return{searchQuery:searchQuery,userText:users.join(" "),tagText:tags.join(" ")}}function syncFormFromUserOrTag(searchQuery,userText,tagText){var _parseRawQuery2=(0,_queryBuilder.parseRawQuery)(searchQuery),leftQuery=_parseRawQuery2.leftQuery,q=(0,_queryBuilder.buildRawQuery)(leftQuery,userText,tagText);return{searchQuery:q,userText:userText,tagText:tagText}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_desc,_value,_class,_jsxHelper=require("../../../util/jsx-helper"),_constants=require("../../../util/constants"),_incrementalSearchResultList=require("../modals/incremental-search-result-list"),_incrementalSearchResultList2=_interopRequireDefault(_incrementalSearchResultList),_queryBuilder=require("../../../api/query-builder"),_headerContainer=require("../../../containers/header-container"),_react=require("react"),_autobindDecorator=require("autobind-decorator"),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),_updateIncrementalSearchResults=require("./helpers/update-incremental-search-results"),_updateIncrementalSearchResults2=_interopRequireDefault(_updateIncrementalSearchResults),SearchMenu=(_class=function(_Component){function SearchMenu(props){_classCallCheck(this,SearchMenu);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SearchMenu).call(this,props));return _this.state={searchQuerySupportOpenedAlready:!1,searchResults:[],focusIndex:-1,onIncrementalSearching:!1,searchQuery:"",userText:"",tagText:"",sortType:"rel",onlyStocked:!1},_this}return _inherits(SearchMenu,_Component),_createClass(SearchMenu,[{key:"render",value:function render(){var _this2=this,_props=this.props,showSearchQuerySupport=_props.showSearchQuerySupport,showIncrementalSearch=_props.showIncrementalSearch,dispatch=_props.dispatch;return React.createElement("form",{className:"navbar-form navbar-left searchForm",action:"/search",method:"get"},React.createElement("div",{className:"searchForm_queryWrapper"},React.createElement("input",{className:(0,_jsxHelper.cn)("form-control","searchForm_query"),ref:"searchInput",placeholder:I18n.t("js.views.header.placeholder"),autoComplete:"off",name:"q",value:this.state.searchQuery,onKeyDown:this.onKeyDownOnSearchQuery,onChange:this.onChangeOnSearchQuery,onFocus:this.onFocusOnSearchQuery}),React.createElement("div",{className:"searchForm_wiseSearchButton",style:{visibility:this.state.searchQuerySupportOpenedAlready?"visible":"none"},onClick:function onClick(_ev){return dispatch("header:select-modal",_headerContainer.ACTIVATABLE_MODALS.SEARCH_QUERY_SUPPORT)}},React.createElement("i",{className:this.state.onIncrementalSearching?(0,_jsxHelper.cn)("fa","fa-spinner","fa-spin"):(0,_jsxHelper.cn)("fa","fa-caret-down")})),showSearchQuerySupport&&React.createElement("div",{className:"searchQuerySupport",style:{display:showSearchQuerySupport?"block":"none"}},React.createElement("div",{className:"searchQuerySupport_userSearch"},React.createElement("label",{className:"searchQuerySupport_label"},I18n.t("js.views.header.specify_the_user")),React.createElement("input",{className:"searchQuerySupport_input",placeholder:I18n.t("js.views.header.input_user_name"),value:this.state.userText,onChange:function onChange(e){_this2.setState(syncFormFromUserOrTag(_this2.state.searchQuery,e.target.value,_this2.state.tagText))}})),React.createElement("div",{className:"searchQuerySupport_tagSearch"},React.createElement("label",{className:"searchQuerySupport_label"},I18n.t("js.views.header.specify_the_tag")),React.createElement("input",{className:"searchQuerySupport_input",placeholder:I18n.t("js.views.header.input_tag_name"),value:this.state.tagText,onChange:function onChange(e){_this2.setState(syncFormFromUserOrTag(_this2.state.searchQuery,_this2.state.userText,e.target.value))}}),React.createElement("div",{className:"searchQuerySupport_sort"},React.createElement("div",{className:"searchQuerySupport_sortLabel"},I18n.t("js.views.header.sort")),React.createElement("select",{name:"sort",value:this.state.sortType,onChange:function onChange(e){_this2.setState({sortType:e.target.value})}},React.createElement("option",{value:"rel"}," ",I18n.t("js.views.header.sort_by_rel")," "),React.createElement("option",{value:"created"}," ",I18n.t("js.views.header.sort_by_date")," "),React.createElement("option",{value:"stock"}," ",I18n.t("js.views.header.sort_by_stock")," ")),React.createElement("label",{clannName:"checkbox searchQuerySupport_stocked"},React.createElement("input",{className:"searchQuerySupport_checkbox",type:"checkbox",name:"stocked",id:"stocked",value:1}),React.createElement("label",{htmlFor:"stocked"}," ",I18n.t("js.views.header.stocked_checkbox")," "))))),showIncrementalSearch&&React.createElement(_incrementalSearchResultList2.default,{searchResults:this.state.searchResults,focusIndex:this.state.focusIndex,onFocusItemFactory:function onFocusItemFactory(i){return function(){_this2.setState({focusIndex:i})}},dispatch:dispatch})),showSearchQuerySupport&&React.createElement("input",{className:(0,_jsxHelper.cn)("searchForm_submitBtn","btn","btn-default","btn-sm","show"),ref:"searchSubmit",type:"submit",value:I18n.t("js.common.search")}))}},{key:"onKeyDownOnSearchQuery",value:function onKeyDownOnSearchQuery(e){var _props2=this.props,showIncrementalSearch=_props2.showIncrementalSearch,canUseIncrementalSearch=_props2.canUseIncrementalSearch;if(e.keyCode===_constants.KEYCODE_ENTER&&showIncrementalSearch&&this.state.focusIndex>-1){e.preventDefault();var browser=require("../../../util/browser"),selectedItem=this.state.searchResults[this.state.focusIndex];browser.navigate(selectedItem.url);return}if(canUseIncrementalSearch&&this.state.searchResults.length>0&&[_constants.KEYCODE_UP,_constants.KEYCODE_DOWN].includes(e.keyCode)){var nextIndex=this.getNextIncrementalSearchFocusIndexByKeyCode(e.keyCode);this.setState({focusIndex:nextIndex})}}},{key:"onChangeOnSearchQuery",value:function onChangeOnSearchQuery(e){var canUseIncrementalSearch=this.props.canUseIncrementalSearch;this.setState(syncFormFromSearchQuery(e.target.value,this.state.userText,this.state.tagText)),canUseIncrementalSearch&&(0,_updateIncrementalSearchResults2.default)(this)}},{key:"onFocusOnSearchQuery",value:function onFocusOnSearchQuery(e){e.preventDefault(),this.state.searchQuerySupportOpenedAlready||($(this.refs.searchInput).animate({width:"220px"},300),this.setState({searchQuerySupportOpenedAlready:!0}))}},{key:"getNextIncrementalSearchFocusIndexByKeyCode",value:function getNextIncrementalSearchFocusIndexByKeyCode(keyCode){var _state=this.state,focusIndex=_state.focusIndex,searchResults=_state.searchResults;return keyCode===_constants.KEYCODE_UP?focusIndex<0?focusIndex:focusIndex-1:keyCode===_constants.KEYCODE_DOWN?focusIndex>searchResults.length-1?focusIndex:focusIndex+1:focusIndex}}]),SearchMenu}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"onKeyDownOnSearchQuery",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onKeyDownOnSearchQuery"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onChangeOnSearchQuery",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onChangeOnSearchQuery"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onFocusOnSearchQuery",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onFocusOnSearchQuery"),_class.prototype),_class);exports.default=SearchMenu},{"../../../api/query-builder":10,"../../../containers/header-container":63,"../../../util/browser":105,"../../../util/constants":107,"../../../util/jsx-helper":111,"../modals/incremental-search-result-list":54,"./helpers/update-incremental-search-results":48,"autobind-decorator":208,react:729}],52:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jsxHelper=require("../../../util/jsx-helper"),_teamSelectModal=require("../modals/team-select-modal"),_teamSelectModal2=_interopRequireDefault(_teamSelectModal),_headerContainer=require("../../../containers/header-container");exports.default=function(_ref){var showModal=_ref.showModal,is_team_page=_ref.is_team_page,siteid_image=_ref.siteid_image,team=_ref.team,user=_ref.user,dispatch=_ref.dispatch;return React.createElement("span",{className:(0,_jsxHelper.cn)("sharedHeader_logo","open")},React.createElement("a",{key:"logo",className:"sharedHeader_logo_main",href:"/"},is_team_page?[React.createElement("span",{key:"logo_icon",className:"sharedHeader_logo_icon"},React.createElement("img",{src:siteid_image,alt:null,width:20,height:20})),React.createElement("span",{key:"logo_text",className:"sharedHeader_logo_text"},team?React.createElement("span",null,team.name):"Qiita:Team")]:React.createElement("img",{src:siteid_image,alt:null,width:74,height:26})),user&&user.teams.length>0&&React.createElement("div",{className:"sharedHeader_logo_caret",onClick:function onClick(_ev){return dispatch("header:select-modal",_headerContainer.ACTIVATABLE_MODALS.TEAM_SELECT)}},React.createElement("i",{className:"fa fa-caret-down"})),showModal&&React.createElement(_teamSelectModal2.default,{user:user,team:team,is_team_page:is_team_page}))}},{"../../../containers/header-container":63,"../../../util/jsx-helper":111,"../modals/team-select-modal":59}],53:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jsxHelper=require("../../../util/jsx-helper"),_userModal=require("../modals/user-modal"),_userModal2=_interopRequireDefault(_userModal),_headerContainer=require("../../../containers/header-container");exports.default=function(_ref){var user=_ref.user,is_team_page=_ref.is_team_page,showModal=_ref.showModal,dispatch=_ref.dispatch;return React.createElement("div",{className:(0,_jsxHelper.cn)("sharedHeader_user","open")},React.createElement("a",{className:"sharedHeader_user_clickable",onClick:function onClick(_ev){return dispatch("header:select-modal",_headerContainer.ACTIVATABLE_MODALS.USER)}},React.createElement("img",{className:"sharedHeader_user_image",src:user.profile_image_url,width:32,height:32})),showModal&&React.createElement(_userModal2.default,{user:user,is_team_page:is_team_page}))}},{"../../../containers/header-container":63,"../../../util/jsx-helper":111,"../modals/user-modal":60}],54:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=require("react"),IncrementalSearchResultList=function(_Component){function IncrementalSearchResultList(){return _classCallCheck(this,IncrementalSearchResultList),_possibleConstructorReturn(this,Object.getPrototypeOf(IncrementalSearchResultList).apply(this,arguments))}return _inherits(IncrementalSearchResultList,_Component),_createClass(IncrementalSearchResultList,[{key:"render",value:function render(){var _props=this.props,searchResults=_props.searchResults,focusIndex=_props.focusIndex,onFocusItemFactory=_props.onFocusItemFactory;return React.createElement("div",{className:"incrementalSearch",style:{display:searchResults.length>0?"block":"none"}},this.props.searchResults.map(function(r,i){return React.createElement("div",{key:"incrementalSearchResult:"+i,className:"incrementalSearchResult"+(focusIndex===i?" active":""),onMouseOver:onFocusItemFactory(i)},React.createElement("a",{href:r.url},React.createElement("span",{className:"incrementalSearchResult_title"},React.createElement("img",{className:"incrementalSearchResult_userIcon",src:r.user.profile_image_url}),React.createElement("span",{dangerouslySetInnerHTML:{__html:r.title}})),React.createElement("i",{className:"fa fa-angle-right incrementalSearchResult_arrow"})))}),React.createElement("div",{className:"incrementalSearchResult-moreResults"},React.createElement("input",{className:"incrementalSearchResult-moreResults_submit",type:"submit",value:I18n.t("js.views.header.incremental_search_result_title_more")})))}}]),IncrementalSearchResultList}(_react.Component);exports.default=IncrementalSearchResultList},{react:729}],55:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jsxHelper=require("../../../util/jsx-helper");exports.default=function(){return React.createElement("div",{className:(0,_jsxHelper.cn)("sharedHeader_searchModal","in","modal","fade"),"aria-hidden":"false",id:"js-searchModal"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-body"},React.createElement("form",{action:"/search",method:"get"},React.createElement("input",{type:"hidden",name:"sort",id:"sort",value:"rel"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-9"},React.createElement("input",{type:"text",name:"q",id:"q",className:"form-control"})),React.createElement("div",{className:"col-xs-3"},React.createElement("input",{type:"submit",name:"commit",value:"Search",className:"btn btn-default btn-sm"}))))))))}},{"../../../util/jsx-helper":111}],56:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var KNOWN_ACTIONS=["accept_patch","comment_mention","follow_user","item_mention","new_comment_for_stocker","lgtm","receive_patch","refer_to_public_article","refer_to_public_comment","refer_to_team_article","refer_to_team_project","refer_to_team_comment","reply","stock","stocked_item_update","update_posted_chunk","tweet","like","invite_advent_calendar","post_advent_calendar_item","remind_advent_calendar","thanked"];exports.default=function(props){var notice=props.notice,scope="js.templates.notification"+(notice.team_name?".team":".public")+(KNOWN_ACTIONS.includes(notice.action)?"."+notice.action:".other"),title=notice.short_title?'"'+notice.short_title+'"':"",user=["tweet","like"].includes(notice.action)?null:notice.users[0],src=user?user.profile_image_url:null,content_i18n=I18n.t(scope,{title:title,team_name:notice.team_name,date:notice.date,count:notice.count});return React.createElement("li",{className:"globalNotificationContents_listItem"},React.createElement("div",{className:"globalNotificationContents_itemLink"+(notice.seen?"":"-unread")},React.createElement("a",{href:notice.object},React.createElement("div",{className:"globalNotificationContents_itemIcon"},function(){switch(notice.action){case"tweet":return React.createElement("i",{className:"fa fa-twitter-square"});case"like":return React.createElement("i",{className:"fa fa-facebook-square"});default:return React.createElement("img",{src:src})}}()),React.createElement("div",{className:"globalNotificationContents_itemText"},user&&notice.has_subject&&React.createElement("span",{className:"bold"},notice.users.map(function(u){return u.url_name}).join(", "))," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:content_i18n}}),React.createElement("div",{className:"status"},I18n.t("js.common.ago",{distance_in_words:notice.created_at_in_words}))))))}},{}],57:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_notificationItem=require("./notification-item"),_notificationItem2=_interopRequireDefault(_notificationItem),_jsxHelper=require("../../../util/jsx-helper"),_react=require("react"),NotificationModal=function(_Component){function NotificationModal(){return _classCallCheck(this,NotificationModal),_possibleConstructorReturn(this,Object.getPrototypeOf(NotificationModal).apply(this,arguments))}return _inherits(NotificationModal,_Component),_createClass(NotificationModal,[{key:"render",value:function render(){var _props=this.props,notifications=_props.notifications,onFetching=_props.onFetching;return React.createElement("div",{className:"globalNotifications_container"},React.createElement("div",{className:"globalNotifications_arrow"}),React.createElement("div",{className:"globalNotifications_contents"},React.createElement("div",{className:"globalNotifications_contentsHeader"},React.createElement("span",{className:"globalNotifications_contentsHeader_header"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-bell-o")})," ",I18n.t("js.views.header.notifications")),React.createElement("span",{className:"globalNotifications_contentsHeader_setting"},React.createElement("a",{href:"/settings/notifications"},I18n.t("js.views.header.notification_setting")))),React.createElement("ul",{className:(0,_jsxHelper.cn)("list-unstyled","globalNotifications_contentsBody")},onFetching&&React.createElement("li",null,React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-spin","fa-spinner")}))||notifications.map(function(notice,i){return React.createElement(_notificationItem2.default,{notice:notice,key:"notifications:"+i})})),React.createElement("div",{className:"globalNotifications_contentsFooter"},React.createElement("a",{href:"/notifications"},I18n.t("js.views.header.show_more_notifications")))))}}]),NotificationModal}(_react.Component);exports.default=NotificationModal},{"../../../util/jsx-helper":111,"./notification-item":56,react:729}],58:[function(require,module,exports){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var is_team_page=_ref.is_team_page,team=_ref.team;return React.createElement("ul",{className:"dropdown-menu sharedHeader_newItem_dropdown"},[React.createElement(NewItemButton,null),is_team_page&&React.createElement(TeamManagement,null),React.createElement(DraftButton,null),React.createElement(PatchButton,null),is_team_page&&React.createElement(Divider,null),is_team_page&&React.createElement(TemplateHeader,null),team&&team.templates.map(function(template,i){return React.createElement(TemplateItem,{template:template,key:"template:"+i})}),is_team_page&&React.createElement(TemplatesButton,null)])};var NewItemButton=function NewItemButton(){return React.createElement("li",{className:"sharedHeader_newItem_dropdownPost",key:"post"},React.createElement("a",{href:"/drafts/new"},React.createElement("i",{className:"fa fa-fw fa-file-o"}),I18n.t("js.views.header.label")))},TeamManagement=function TeamManagement(){return React.createElement("li",{className:"dropdown-header",key:"team-management"},I18n.t("js.views.header.management"))},DraftButton=function DraftButton(){return React.createElement("li",{key:"drafts"},React.createElement("a",{href:"/drafts"},React.createElement("i",{className:"fa fa-fw fa-files-o"}),I18n.t("js.views.header.draft")))},PatchButton=function PatchButton(){return React.createElement("li",{key:"patches"},React.createElement("a",{href:"/patches"},React.createElement("i",{className:"fa fa-fw fa-code-fork"}),I18n.t("js.views.header.patch_requests")))},Divider=function Divider(){return React.createElement("li",{className:"divider",key:"divider1"})},TemplateHeader=function TemplateHeader(){return React.createElement("li",{className:"dropdown-header",key:"template-header"},I18n.t("js.views.header.template"))},TemplateItem=function TemplateItem(_ref2){var template=_ref2.template,key=_ref2.key;return React.createElement("li",_defineProperty({key:"template-items"},"key",key),React.createElement("a",{href:"/drafts/new?source_id="+template.domestic_id+"&source_type=Template"},React.createElement("i",{className:"fa fa-fw fa-file-text-o"}),React.createElement("span",null,template.name)))},TemplatesButton=function TemplatesButton(){return React.createElement("li",{key:"templates"},React.createElement("a",{href:"/templates"},React.createElement("i",{className:"fa fa-fw fa-cog"}),I18n.t("js.views.header.edit")))}},{}],59:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _urlBuilder=require("../../../api/url-builder"),_jsxHelper=require("../../../util/jsx-helper");exports.default=function(_ref){var user=_ref.user,team=_ref.team;return React.createElement("ul",{className:"dropdown-menu shaedHeader_logo_dropdown"},function(){var list=user.teams.map(function(t,i){return React.createElement("li",{key:"team:"+i},React.createElement("a",{href:"https://"+(0,_urlBuilder.buildTeamHost)(t.url_name)},!!team&&t.name===team.name&&React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-check")})||React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw")}),React.createElement("span",null," "),React.createElement("span",null,t.name)))});if(!user.team_only){var i=user.teams.length;list.push(React.createElement("li",{className:"divider active",key:"team-divider:"+ ++i})),list.push(React.createElement("li",{key:"team:"+ ++i},React.createElement("a",{href:"https://"+Qiita.root_domain},React.createElement("i",{className:"fa fa-fw"})," Qiita")))}return list}())}},{"../../../api/url-builder":11,"../../../util/jsx-helper":111}],60:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jsxHelper=require("../../../util/jsx-helper");exports.default=function(_ref){var user=_ref.user,is_team_page=_ref.is_team_page;return React.createElement("ul",{className:(0,_jsxHelper.cn)("dropdown-menu","sharedHeader_user_dropdown")},function(){var list=[React.createElement("li",{key:"mypage"},React.createElement("a",{href:"/"+user.url_name},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-user")}),I18n.t("js.views.header.mypage"))),React.createElement("li",{key:"setting"},React.createElement("a",{href:"/settings"+(is_team_page?"/profile":"")},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-cog")}),I18n.t("js.views.header.settings")))];return user.is_admin&&(list.push(React.createElement("li",{key:"divider1",className:"divider"})),list.push(React.createElement("li",{key:"admin-text",className:"dropdown-header"},I18n.t("js.views.header.admin_menu"))),list.push(React.createElement("li",{key:"admin"},React.createElement("a",{href:"/admin"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-building-o")})," ",I18n.t("js.views.header.team_settings")))),list.push(React.createElement("li",{key:"divider2",className:"divider"}))),list.push(React.createElement("li",{key:"help"},function(){var ret=[];return is_team_page?ret.push(React.createElement("a",{key:"team-help",href:"http://help.qiita.com/ja/categories/qiita-team/",target:"_blank"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-question")}),I18n.t("js.views.header.help"))):ret.push(React.createElement("a",{key:"qiita-help",href:"http://help.qiita.com/ja/categories/qiita/",target:"_blank"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-question")}),I18n.t("js.views.header.help"))),ret.push(React.createElement("a",{key:"logout",href:"/logout",rel:"nofollow","data-method":"post"},React.createElement("i",{className:(0,_jsxHelper.cn)("fa","fa-fw","fa-sign-out")}),I18n.t("js.views.header.logout"))),ret}())),list}())}},{"../../../util/jsx-helper":111}],61:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray
(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer)desc.writable=!0;return desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&desc.initializer!==void 0&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=undefined),desc.initializer===void 0&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_desc,_value,_class,_react=require("react"),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_fullscreen=require("../../util/fullscreen"),_underscore=require("underscore"),_autobindDecorator=require("autobind-decorator"),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),SlideViewer=(_class=function(_Component){function SlideViewer(){var _Object$getPrototypeO;_classCallCheck(this,SlideViewer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_Object$getPrototypeO=Object.getPrototypeOf(SlideViewer)).call.apply(_Object$getPrototypeO,[this].concat(_toConsumableArray(args))));return _this.state={directionalScrollMode:!1,showSettingModal:!1},_this}return _inherits(SlideViewer,_Component),_createClass(SlideViewer,[{key:"_selectPage",value:function _selectPage(page){this.props.dispatch("select-page",page)}},{key:"_scrollDown",value:function _scrollDown(ammount){this.refs.preview.scrollTop=Math.max(0,this.refs.preview.scrollTop+ammount)}},{key:"_scrollDownOrDispatchNext",value:function _scrollDownOrDispatchNext(ammount){var prevScrollTop=this.refs.preview.scrollTop;this._scrollDown(ammount);var nextScrollTop=this.refs.preview.scrollTop;prevScrollTop===nextScrollTop&&this.props.dispatch(ammount>0?"next":"prev")}},{key:"toggleFullscreen",value:function toggleFullscreen(ev){ev.preventDefault();var el=_reactDom2.default.findDOMNode(this);(0,_fullscreen.isFullscreen)()?(0,_fullscreen.exitFullscreen)():(0,_fullscreen.requestFullscreen)(el),this.forceUpdate()}},{key:"next",value:function next(ev){ev.preventDefault(),this.props.dispatch("next")}},{key:"prev",value:function prev(ev){ev.preventDefault(),this.props.dispatch("prev")}},{key:"onKeyDown",value:function onKeyDown(ev){(0,_fullscreen.isFullscreen)()&&ev.preventDefault();switch(ev.keyCode){case 37:this.state.directionalScrollMode?this._scrollDownOrDispatchNext(-30):this.props.dispatch("prev");break;case 39:this.state.directionalScrollMode?this._scrollDownOrDispatchNext(30):this.props.dispatch("next");break;case 38:(0,_fullscreen.isFullscreen)()&&this._scrollDown(-30);break;case 40:(0,_fullscreen.isFullscreen)()&&this._scrollDown(30)}}},{key:"onMouseDownContent",value:function onMouseDownContent(ev){if(ev.target!==this.refs.preview)return;this._mouseDownContentX=ev.clientX}},{key:"onMouseUpContent",value:function onMouseUpContent(ev){if(ev.target!==this.refs.preview){this._mouseDownContentX=null;return}if(this._mouseDownContentX==null||this._mouseDownContentX!==ev.clientX)return;this._mouseDownContentX=null;var rect=this.refs.preview.getBoundingClientRect(),x=ev.clientX-rect.left;rect.width/2>x?this.props.dispatch("prev"):this.props.dispatch("next")}},{key:"onChangeDirectionalScrollMode",value:function onChangeDirectionalScrollMode(ev){this.setState({directionalScrollMode:ev.target.checked})}},{key:"onClickSetting",value:function onClickSetting(){this.setState({showSettingModal:!this.state.showSettingModal})}},{key:"componentDidMount",value:function componentDidMount(){this.props.listenKeyDown&&window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.listenKeyDown&&window.removeEventListener("keydown",this.onKeyDown)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.refs.preview.scrollTop=0}},{key:"render",value:function render(){var _this2=this,_props=this.props,page=_props.page,maxPage=_props.maxPage,currentBody=_props.currentBody;return React.createElement("div",{className:"slide"},React.createElement("div",{className:"slide_preview markdownContent",onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDownContent,onMouseUp:this.onMouseUpContent,ref:"preview"},React.createElement("div",{dangerouslySetInnerHTML:{__html:currentBody}})),React.createElement("div",{className:"slide_controller"},React.createElement("div",{className:"slide_controller_btnGroup"},React.createElement("button",{className:"slide_controller_btn"+(page>0?" clickable":""),onClick:this.prev},React.createElement("i",{className:"fa fa-backward"})),React.createElement("button",{className:"slide_controller_btn"+(page+1<maxPage?" clickable":""),onClick:this.next},React.createElement("i",{className:"fa fa-forward"}))),React.createElement("span",{className:"slide_controller_pageCount"},page+1+" / "+maxPage),React.createElement("div",{className:"slide_controller_progress"},React.createElement("div",{className:"slide_controller_progress_container"},(0,_underscore.range)(maxPage).map(function(n){return React.createElement("span",{className:"slide_controller_progress_bar "+(page<n?"slide_controller_progress_remain":""),role:"progressbar",style:{width:100/maxPage+"%"},onClick:function onClick(){return _this2._selectPage(n)}})}))),React.createElement("div",{className:"slide_controller_fullscreen"},React.createElement("button",{className:"slide_controller_btn clickable",onClick:this.toggleFullscreen,dataToggle:"tooltip",dataPlacement:"bottom",title:"Fullscreen"},React.createElement("i",{className:"fa fa-desktop"}))),React.createElement("div",{className:"slide_controller_config"},React.createElement("button",{className:"slide_controller_btn clickable",onClick:this.onClickSetting},React.createElement("i",{className:"fa fa-cog"})),React.createElement("div",{className:"slide_controller_configPanel"},React.createElement("div",{className:"slide_controller_configPanel_wrap"},React.createElement("div",{className:"slide_controller_configPanel_body",style:{display:this.state.showSettingModal?"block":"none"}},React.createElement("input",{id:"directionalScrollMode",type:"checkbox",onChange:this.onChangeDirectionalScrollMode.bind(this)}),React.createElement("label",{htmlFor:"directionalScrollMode"},"ワイヤレスマウスモード"))))),this.props.siteid_path&&React.createElement("div",{className:"slide_controller_logo"},React.createElement("img",{src:this.props.siteid_path,width:"48"}))))}}]),SlideViewer}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"toggleFullscreen",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"toggleFullscreen"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"next",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"next"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"prev",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"prev"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onKeyDown",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onKeyDown"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onMouseDownContent",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onMouseDownContent"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onMouseUpContent",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onMouseUpContent"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onChangeDirectionalScrollMode",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onChangeDirectionalScrollMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onClickSetting",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"onClickSetting"),_class.prototype),_class);exports.default=SlideViewer},{"../../util/fullscreen":110,"autobind-decorator":208,react:729,"react-dom":591,underscore:734}],62:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=require("react"),_debugTools=require("../components/debug-tools/debug-tools"),_debugTools2=_interopRequireDefault(_debugTools),DebugToolsContainer=function(_Component){function DebugToolsContainer(){return _classCallCheck(this,DebugToolsContainer),_possibleConstructorReturn(this,Object.getPrototypeOf(DebugToolsContainer).apply(this,arguments))}return _inherits(DebugToolsContainer,_Component),_createClass(DebugToolsContainer,[{key:"render",value:function render(){return React.createElement(_debugTools2.default,{GIT_BRANCH:Qiita.GIT_BRANCH})}}]),DebugToolsContainer}(_react.Component);exports.default=DebugToolsContainer},{"../components/debug-tools/debug-tools":46,react:729}],63:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ACTIVATABLE_MODALS=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=require("react"),_header=require("../components/header"),_header2=_interopRequireDefault(_header),_misc=require("../util/misc"),_events=require("events"),_xtend=require("xtend"),_xtend2=_interopRequireDefault(_xtend),ACTIVATABLE_MODALS=exports.ACTIVATABLE_MODALS={SEARCH_QUERY_SUPPORT:1,INCREMETAL_SEARCH:2,TEAM_SELECT:3,USER:4,NOTIFICATION:5,NEW_ITEM_BUTTON:6},HeaderContainer=function(_Component){function HeaderContainer(props){_classCallCheck(this,HeaderContainer);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(HeaderContainer).call(this,props));return _this.state={activeModal:null},_this.emitter=new _events.EventEmitter,_this.emitter.on("header:select-modal",function(target,state){state?_this.setState({activeModal:target}):_this.setState({activeModal:_this.state.activeModal===target?null:target})}),_this}return _inherits(HeaderContainer,_Component),_createClass(HeaderContainer,[{key:"render",value:function render(){return I18n.locale=(0,_misc.getContextLocale)()||this.props.locale,React.createElement(_header2.default,(0,_xtend2.default)(this.props,this.state,{dispatch:this.emitter.emit.bind(this.emitter)}))}}]),HeaderContainer}(_react.Component);exports.default=HeaderContainer},{"../components/header":47,"../util/misc":113,events:532,react:729,xtend:735}],64:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer)desc.writable=!0;return desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&desc.initializer!==void 0&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=undefined),desc.initializer===void 0&&(Object.defineProperty(target,property,desc),desc=null),desc}function buildSlides(meta,html){return[firstSlideTemplate(meta)].concat(html.split(SPLITTER))}function detectChangedPage(prev,next){var prevP=prev.split(SPLITTER),nextP=next.split(SPLITTER),maxPage=Math.max(prevP.length,nextP.length);for(var i=0;i<maxPage;i++)if(nextP[i]!==prevP[i])return i;return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_desc,_value,_class,_react=require("react"),_events=require("events"),_slideViewer=require("../components/slide/slide-viewer"),_slideViewer2=_interopRequireDefault(_slideViewer),_underscore=require("underscore"),_autobindDecorator=require("autobind-decorator"),_autobindDecorator2=_interopRequireDefault(_autobindDecorator),SPLITTER="<hr>",firstSlideTemplate=(0,_underscore.template)('\n  <div class="slide_preview_firstSlide">\n    <h1><%= title %></h1>\n    <% if (url_name) { %>\n      <span>by <%= url_name %></span>\n    <% } %>\n  </div>\n'),SlideContainer=(_class=function(_Component){function SlideContainer(props){_classCallCheck(this,SlideContainer);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SlideContainer).call(this,props));_this.emitter=new _events.EventEmitter;var slides=buildSlides({title:_this.props.title,url_name:_this.props.url_name},_this.props.body);return _this.state={page:0,slides:slides},_this.emitter.on("prev",_this.prev),_this.emitter.on("next",_this.next),_this.emitter.on("select-page",_this.selectPage),_this}return _inherits(SlideContainer,_Component),_createClass(SlideContainer,[{key:"selectPage",value:function selectPage(page){this.setState({page:page})}},{key:"next",value:function next(){this.state.slides[this.state.page+1]&&this.setState({page:this.state.page+1})}},{key:"prev",value:function prev(){this.state.slides[this.state.page-1]&&this.setState({page:this.state.page-1})}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.body!==this.props.body||prevProps.title!==this.props.title){var changedPage=detectChangedPage(prevProps.body,this.props.body),newSlides=buildSlides({title:this.props.title,url_name:this.props.url_name},this.props.body);this.setState({page:changedPage?Math.min(changedPage+1,newSlides.length):this.state.page,slides:newSlides})}}},{key:"render",value:function render(){return React.createElement(_slideViewer2.default,{dispatch:this.emitter.emit.bind(this.emitter),page:this.state.page,maxPage:this.state.slides.length,currentBody:this.state.slides[this.state.page],listenKeyDown:this.props.listenKeyDown,siteid_path:this.props.siteid_path})}}]),SlideContainer}(_react.Component),_applyDecoratedDescriptor(_class.prototype,"selectPage",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"selectPage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"next",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"next"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"prev",[_autobindDecorator2.default],Object.getOwnPropertyDescriptor(_class.prototype,"prev"),_class.prototype),_class);exports.default=SlideContainer},{"../components/slide/slide-viewer":61,"autobind-decorator":208,events:532,react:729,underscore:734}],65:[function(require,module,exports){var AbstractArticle,AbstractArticleValidator,Model,Previewable,mixin,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Previewable=require("./concerns/previewable"),AbstractArticleValidator=require("./validators/abstract_article_validator"),mixin=require("../util/mixin"),Model=require("backbone").Model,module.exports=AbstractArticle=function(superClass){function AbstractArticle(){return AbstractArticle.__super__.constructor.apply(this,arguments)}return extend(AbstractArticle,superClass),AbstractArticle.prototype.initialize=function(){return this.initializePreviewable()},AbstractArticle.prototype.validate=function(attrs){return AbstractArticleValidator.validate(attrs)},AbstractArticle.prototype.toJSON=function(){return this.pick("title","raw_body","tag_data")},AbstractArticle}(Model),mixin(AbstractArticle,Previewable)},{"../util/mixin":114,"./concerns/previewable":75,"./validators/abstract_article_validator":81,backbone:231}],66:[function(require,module,exports){var Activity,Item,ItemList,Model,Tag,TagList,User,UserList,capitalize,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;capitalize=require("../util/misc").capitalize,Model=require("backbone").Model,ItemList=require("./collections/item_list"),TagList=require("./collections/tag_list"),UserList=require("./collections/user_list"),Item=require("./item"),Tag=require("./tag"),User=require("./user"),module.exports=Activity=function(superClass){function Activity(attrs,options){var db,id,modelClass;db=function(){switch(attrs.target_content_type){case"item":return new ItemList;case"tag":return new TagList;case"user":return new UserList}}(),id=attrs.target_content_type==="item"?"uuid":"url_name",(this.target=db.get(attrs.target_content[id]))||(modelClass=function(){switch(attrs.target_content_type){case"item":return Item;case"tag":return Tag;case"user":return User}}(),this.target=new modelClass(attrs.target_content),db.add(this.target)),attrs.target_content=null,Model.apply(this,[attrs,options])}return extend(Activity,superClass),Activity.prototype.target=null,Activity}(Model)},{"../util/misc":113,"./collections/item_list":69,"./collections/tag_list":70,"./collections/user_list":72,"./item":77,"./tag":78,"./user":80,backbone:231}],67:[function(require,module,exports){var Activity,ActivityList,Collection,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Collection=require("backbone").Collection,Activity=require("../activity"),module.exports=ActivityList=function(superClass){function ActivityList(){return ActivityList.__super__.constructor.apply(this,arguments)}return extend(ActivityList,superClass),ActivityList.prototype.model=Activity,ActivityList.prototype.interval=18e4,ActivityList.prototype.intervalId=null,ActivityList.prototype.comparator=function(model){return-parseInt(model.get("created_at_as_seconds"),10)},ActivityList.prototype.url=function(){return this.type==="stock"?"/"+Qiita.user.url_name+"/stock":"/api/"+this.type},ActivityList.prototype.initialize=function(models,options){return this.type=options.type},ActivityList.prototype.parse=function(resp){var action_type;return this.type==="following"?resp:(action_type=this.type==="mine"?"own_post":"public_post",_(resp).map(function(attrs){return{id:_.uniqueId("activity"),action_type:action_type,actors:[attrs.user],target_content_type:"item",target_content:attrs,created_at_as_seconds:attrs.created_at_as_seconds}}))},ActivityList.prototype.startPolling=function(){if(!this.intervalId)return this.intervalId=setInterval(function(_this){return function(){return _this.fetchPrevPage()}}(this),this.interval)},ActivityList.prototype.pausePolling=function(){return clearInterval(this.intervalId),this.intervalId=null},ActivityList.prototype.activate=function(){return this.isEmpty()?this.fetch({reset:!0,append:!0}):this.fetchPrevPage(),this.type!=="public"&&this.startPolling(),this.trigger("active",this)},ActivityList.prototype.deactivate=function(){return this.pausePolling(),this.trigger("deactive",this)},ActivityList.prototype.fetchPrevPage=function(){var data,ref,ref1,ref2;return data=this.type==="following"?{after:(ref=this.first())!=null?ref.id:void 0,type:"id"}:this.type==="public"?{after:(ref1=this.first())!=null?ref1.target.get("id"):void 0,type:"id"}:{after:(ref2=this.first())!=null?ref2.get("created_at_as_seconds"):void 0},this.fetch({data:data,remove:!1})},ActivityList.prototype.fetchNextPage=function(){var data,ref,ref1,ref2,ref3;return data=this.type==="following"?{before:(ref=this.last())!=null?ref.id:void 0,type:"id"}:(ref1=this.type)==="public"?{before:(ref2=this.last())!=null?ref2.target.get("id"):void 0,type:"id"}:{before:(ref3=this.last())!=null?ref3.get("created_at_as_seconds"):void 0},this.fetch({data:data,remove:!1,append:!0})},ActivityList}(Collection)},{"../activity":66,backbone:231}],68:[function(require,module,exports){var Collection,Comment,CommentList,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Comment=require("../comment"),Collection=require("backbone").Collection,module.exports=CommentList=function(superClass){function CommentList(){return CommentList.__super__.constructor.apply(this,arguments)}return extend(CommentList,superClass),CommentList.prototype.model=Comment,CommentList.prototype.initialize=function(models,options){options&&(this.item=options.item);if(this.item)return this.listenTo(this.item,"sync:assets",this.onSyncAssets)},CommentList.prototype.onSyncAssets=function(json){var removeComments;return removeComments=this.select(function(model){return!_.contains(json.comments.uuids,model.id)}),this.remove(removeComments),this.add(json.comments.updates,{merge:!0,remove:!1})},CommentList}(Collection)},{"../comment":73,backbone:231}],69:[function(require,module,exports){var Collection,Item,ItemList,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Item=require("../item"),Collection=require("backbone").Collection,module.exports=ItemList=function(superClass){function ItemList(){return ItemList.__super__.constructor.apply(this,arguments)}return extend(ItemList,superClass),ItemList.prototype.model=Item,ItemList.prototype.findByUuid=function(uuid){var dfd,item;return dfd=$.Deferred(),(item=this.get(uuid))?dfd.resolve(item):(item=new this.model({uuid:uuid}),item.fetch().done(function(_this){return function(){return _this.add(item),dfd.resolve(item)}}(this)).fail(function(){return dfd.reject()})),dfd.promise()},ItemList}(Collection)},{"../item":77,backbone:231}],70:[function(require,module,exports){var Collection,Tag,TagList,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Collection=require("backbone").Collection,Tag=require("../tag"),module.exports=TagList=function(superClass){function TagList(){return TagList.__super__.constructor.apply(this,arguments)}return extend(TagList,superClass),TagList.prototype.model=Tag,TagList.prototype.findByUrlName=function(urlName){var dfd,tag;return dfd=$.Deferred(),(tag=this.get(urlName))?dfd.resolve(tag):(tag=new Tag({url_name:urlName}),tag.fetch().done(function(_this){return function(){return _this.add(tag),dfd.resolve(tag)}}(this)).fail(function(){return dfd.reject()})),dfd.promise()},TagList}(Collection)},{"../tag":78,backbone:231}],71:[function(require,module,exports){var Collection,TrackList,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Collection=require("backbone").Collection,module.exports=TrackList=function(superClass){function TrackList(){return TrackList.__super__.constructor.apply(this,arguments)}var MAX_RECORDS_COUNT_PER_REQUEST;return extend(TrackList,superClass),MAX_RECORDS_COUNT_PER_REQUEST=20,TrackList.checkExistenceOfNextPage=function(response){return response.length===MAX_RECORDS_COUNT_PER_REQUEST},TrackList.prototype.activate=function(){return this.fetchFirstPage(),this.startPolling(),this.trigger("active",this)},TrackList.prototype.comparator=function(model){return-model.get("created_at_in_unixtime")},TrackList.prototype.deactivate=function(){return this.stopPolling(),this.trigger("deactive",this)},TrackList.prototype.fetchFirstPage=function(){return this.fetch({reset:!0,success:function(_this){return function(_,response){return _this.hasNext=_this.constructor.checkExistenceOfNextPage(response)}}(this)})},TrackList.prototype.fetchNextPage=function(){return this.fetch({data:{max_created_at:this.last().get("created_at_in_unixtime")},append:!0,remove:!1,success:function(_this){return function(_,response){return _this.hasNext=_this.constructor.checkExistenceOfNextPage(response)}}(this)})},TrackList.prototype.fetchPreviousPage=function(){return this.fetch({data:{min_created_at:this.first().get("created_at_in_unixtime")},remove:!1})},TrackList.prototype.getRepeatedElements=function(){var table;return table={},this.select(function(element){return element.get("mentioned_object_uuid")===null?!1:table[element.get("mentioned_object_uuid")]?!0:(table[element.get("mentioned_object_uuid")]=!0,!1)})},TrackList.prototype.initialize=function(){return this.hasNext=!0,this.listenTo(this,"reset sort",function(_this){return function(){return _this.markRepeatedMentionedObjects()}}(this))},TrackList.prototype.markRepeatedMentionedObjects=function(){return this.each(function(element){return element.unset("repeated")}),_.each(this.getRepeatedElements(),function(element){return element.set("repeated",!0)})},TrackList.prototype.pollingIntervalInMsec=18e4,TrackList.prototype.startPolling=function(){return this.intervalId=setInterval(function(_this){return function(){return _this.fetchPreviousPage()}}(this),this.pollingIntervalInMsec)},TrackList.prototype.stopPolling=function(){return clearInterval(this.intervalId),this.intervalId=null},TrackList.prototype.type="following",TrackList.prototype.url="/api/tracks",TrackList}(Collection)},{backbone:231}],72:[function(require,module,exports){var Collection,User,UserList,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;User=require("../user"),Collection=require("backbone").Collection,module.exports=UserList=function(superClass){function UserList(){return UserList.__super__.constructor.apply(this,arguments)}return extend(UserList,superClass),UserList.prototype.model=User,UserList.prototype.findByUrlName=function(urlName){var dfd,user;return dfd=$.Deferred(),(user=this.get(urlName))?dfd.resolve(user):(user=new User({url_name:urlName}),user.fetch().done(function(_this){return function(){return _this.add(user),dfd.resolve(user)}}(this)).fail(function(){return dfd.reject()})),dfd.promise()},UserList}(Collection)},{"../user":80,backbone:231}],73:[function(require,module,exports){var Comment,Model,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Model=require("backbone").Model,module.exports=Comment=function(superClass){function Comment(){return Comment.__super__.constructor.apply(this,arguments)}return extend(Comment,superClass),Comment.prototype.idAttribute="uuid"
,Comment.prototype.urlRoot="/comments/",Comment.prototype.isEditable=function(){var ref;return this.get("user_id")===((ref=Qiita.user)!=null?ref.id:void 0)},Comment.prototype.toggleThanked=function(){return this.get("thanked")?this.unThank():this.thank()},Comment.prototype.thank=function(){return $.ajax({url:this.url()+"/thanks",type:"post",dataType:"json"}).done(function(_this){return function(){return _this.set("thanked",!0)}}(this))},Comment.prototype.unThank=function(){return $.ajax({url:this.url()+"/thanks",type:"delete",dataType:"json"}).done(function(_this){return function(){return _this.set("thanked",!1)}}(this))},Comment.prototype.toJSON=function(){return{comment:_.pick(Comment.__super__.toJSON.apply(this,arguments),["item_id","item_type","raw_body"])}},Comment}(Model)},{backbone:231}],74:[function(require,module,exports){module.exports={comparable:!0,_compareDeferreds:null,_compareCache:null,_comparingRawBody:null,initializeComparable:function(){return this._compareDeferreds=[],this._compareCache={},_.bindAll(this,"_compareDone","_compareFail","_compareAlways")},fetchDiff:function(){var dfd;return dfd=$.Deferred(),this._compareDeferreds.push(dfd),this._comparingRawBody||(this._compareCache[this.get("raw_body")]?this._compareDone(this._compareCache[this.get("raw_body")]):(this._comparingRawBody=this.get("raw_body"),this._callDiffAPI())),dfd.promise()},_callDiffAPI:function(){var data;return data={text:this.get("raw_body")},$.ajax({type:"post",url:this.url()+"/diff",data:data}).done(this._compareDone).fail(this._compareFail).always(this._compareAlways)},_compareDone:function(html){return this._compareCache[this._comparingRawBody]=html,_.each(this._compareDeferreds,function(deferred){return deferred.resolve(html)}),this.set("diff",html)},_compareFail:function(){return _.each(this._compareDeferreds,function(deferred){return deferred.reject()}),this.unset("diff"),this.trigger("error:diff")},_compareAlways:function(){return _.defer(function(_this){return function(){return _this._compareDeferreds=[],_this._comparingRawBody=null}}(this))}}},{}],75:[function(require,module,exports){module.exports={previewable:!0,_previewDeferreds:null,_previewCache:null,_previewingRawBody:null,initializePreviewable:function(){return this._previewDeferreds=[],this._previewCache={},_.bindAll(this,"_previewDone","_previewFail","_previewAlways")},fetchPreview:function(){var dfd;return dfd=$.Deferred(),this._previewDeferreds.push(dfd),this._previewingRawBody||(this._previewCache[this.get("raw_body")]?this._previewDone(this._previewCache[this.get("raw_body")]):(this._previewingRawBody=this.get("raw_body"),this._callPreviewAPI())),dfd.promise()},_callPreviewAPI:function(){var data;return data={raw_body:this.get("raw_body")},$.ajax({type:"post",url:"/api/preview",data:data}).done(this._previewDone).fail(this._previewFail).always(this._previewAlways)},_previewDone:function(html){return this._previewCache[this._previewingRawBody]=html,_.each(this._previewDeferreds,function(deferred){return deferred.resolve(html)}),this.set("body",html)},_previewFail:function(){return _.each(this._previewDeferreds,function(deferred){return deferred.reject()}),this.unset("body"),this.trigger("error:preview")},_previewAlways:function(){return _.defer(function(_this){return function(){return _this._previewDeferreds=[],_this._previewingRawBody=null}}(this))}}},{}],76:[function(require,module,exports){var AbstractArticle,Comparable,DraftItem,DraftItemValidator,mixin,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;AbstractArticle=require("./abstract_article"),Comparable=require("./concerns/comparable"),DraftItemValidator=require("./validators/draft_item_validator"),mixin=require("../util/mixin"),module.exports=DraftItem=function(superClass){function DraftItem(){return DraftItem.__super__.constructor.apply(this,arguments)}var CREATING,EDITING,MERGING,NAMESPACE,PATCHING;return extend(DraftItem,superClass),CREATING=1,EDITING=2,PATCHING=3,MERGING=4,NAMESPACE="js.models.DraftItem.",DraftItem.prototype.editing=!1,DraftItem.prototype.idAttribute="item_uuid",DraftItem.prototype.urlRoot="/drafts",DraftItem.prototype.initialize=function(){return DraftItem.__super__.initialize.apply(this,arguments),this.initializeComparable(),this.diffs={},this.previews={},this.on("sync",this.takeSnapShot,this),this.takeSnapShot()},DraftItem.prototype.validate=function(attrs,options){var errors;return errors=DraftItemValidator.validate(attrs),this.isPatching()&&(options!=null?!options.comment:!void 0)&&(errors==null&&(errors=[]),errors.push({name:"comment",message:I18n.t(NAMESPACE+"comment.required")})),errors},DraftItem.prototype.escape=function(name){var datum,i,len,ref,tag_data,versions;if(name==="tag_data"){tag_data=[],ref=this.get("tag_data");for(i=0,len=ref.length;i<len;i++){datum=ref[i];if(!datum)continue;name=datum.name,versions=datum.versions,tag_data.push({name:_.escape(name),versions:versions?_.map(versions,function(version){return _.escape(version)}):[]})}return tag_data}return DraftItem.__super__.escape.apply(this,arguments)},DraftItem.prototype.toJSON=function(options){var datum,i,json,len,opts,ref;json=this.pick("title","raw_body","tag_data");if(json.tag_data){ref=json.tag_data;for(i=0,len=ref.length;i<len;i++)datum=ref[i],datum.versions||(datum.versions=[])}return this.isCreating()&&(json.secret=this.get("secret")),options?(opts={},options.comment&&(opts.comment=options.comment),options.create_update_notification&&(opts.create_update_notification=options.create_update_notification),options.tweet&&(opts.tweet=!0),options.gist&&(opts.gist=!0),{publish:!!options.publish,draft_item:json,options:opts}):json},DraftItem.prototype.save=function(attrs,options){var promise,willUpdated;return attrs==null&&(attrs={}),options==null&&(options={}),willUpdated=!options.publish&&!this.isNew(),willUpdated&&(options.silent=!0),(promise=DraftItem.__super__.save.call(this,attrs,options))&&willUpdated&&promise.done(function(_this){return function(){return _this.set({save_count:_this.get("save_count")+1,updated_at:new Date})}}(this)),promise},DraftItem.prototype.parse=function(repr){return repr&&(repr.raw_body&&(repr.raw_body=repr.raw_body.replace(/&#39;/g,"'")),repr.title&&(repr.title=repr.title.replace(/&#39;/g,"'")),repr.updated_at=repr.updated_at?new Date(repr.updated_at):new Date),repr},DraftItem.prototype.isCreating=function(){return this.get("type_int")===CREATING},DraftItem.prototype.isEditing=function(){return this.get("type_int")===EDITING},DraftItem.prototype.isPatching=function(){return this.get("type_int")===PATCHING},DraftItem.prototype.isMerging=function(){return this.get("type_int")===MERGING},DraftItem.prototype.getType=function(){switch(this.get("type_int")){case CREATING:return"creating";case EDITING:return"editing";case PATCHING:return"patching";case MERGING:return"merging"}},DraftItem.prototype.takeSnapShot=function(){return this.initAttributes=this.toJSON()},DraftItem.prototype.hasChangedFromInitAttrs=function(attrs){var fields;return fields=["title","tag_data","raw_body"],!_.isEqual(_.pick(this.initAttributes,fields),_.pick(attrs,fields))},DraftItem}(AbstractArticle),mixin(DraftItem,Comparable)},{"../util/mixin":114,"./abstract_article":65,"./concerns/comparable":74,"./validators/draft_item_validator":82}],77:[function(require,module,exports){var CommentList,Item,Model,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;CommentList=require("./collections/comment_list"),Model=require("backbone").Model,module.exports=Item=function(superClass){function Item(){return Item.__super__.constructor.apply(this,arguments)}return extend(Item,superClass),Item.prototype.idAttribute="uuid",Item.prototype.url=function(){return this.get("url")||"/items/"+this.get("uuid")},Item.prototype.initialize=function(){return this.lastCheckedAt=this.getTimestamp(),this.resetInterval(),this.comments=new CommentList([],{item:this})},Item.prototype.resetInterval=function(){return this.interval=4e4},Item.prototype.getTimestamp=function(){return Math.round(Date.now()/1e3)},Item.prototype.loadBody=function(){this.$body=$("#item-"+this.id);if(this.$body.length)return this.set({body:this.$body.html()})},Item.prototype.stock=function(){if(this.get("secret"))throw new Error("Can not stock a secret item");if(this.get("stocked"))return;return $.ajax({url:this.url()+"/stock",type:"post"}).done(function(_this){return function(){return _this.set({stocked:!0,stock_count:_this.get("stock_count")+1})}}(this))},Item.prototype.unstock=function(){if(this.get("secret"))throw new Error("Can not stock a secret item");if(!this.get("stocked"))return;return $.ajax({url:this.url()+"/unstock",type:"post"}).done(function(_this){return function(){return _this.set({stocked:!1,stock_count:_this.get("stock_count")-1})}}(this))},Item.prototype.like=function(){if(this.get("team_id")===0)throw new Error("Can not like a public item");if(this.get("liked"))return;return $.ajax({url:this.url()+"/like",type:"post",dataType:"json"}).done(function(_this){return function(){return _this.set({liked:!0,lgtm_count:_this.get("lgtm_count")+1})}}(this)).fail(function(_this){return function(){return _this.trigger("error")}}(this))},Item.prototype.unlike=function(){if(this.get("team_id")===0)throw new Error("Can not unlike a public item");if(!this.get("liked"))return;return $.ajax({url:this.url()+"/like",type:"delete",dataType:"json"}).done(function(_this){return function(){return _this.set({liked:!1,lgtm_count:_this.get("lgtm_count")-1})}}(this)).fail(function(_this){return function(){return _this.trigger("error")}}(this))},Item.prototype.toggleStock=function(){return this.get("stocked")?this.unstock():this.stock()},Item.prototype.toggleLike=function(){return this.get("liked")?this.unlike():this.like()},Item.prototype.fetchAssets=function(){return $.ajax({url:this.url()+"/assets",type:"get",data:{last_checked_at:this.lastCheckedAt}}).done(function(_this){return function(json){return _this.trigger("sync:assets",json)}}(this))},Item.prototype.beginCheckAssets=function(){var scheduledFetchAssets;return scheduledFetchAssets=function(_this){return function(){var checkedAt;return checkedAt=_this.getTimestamp(),_this.fetchAssets().done(function(){return _this.lastCheckedAt=checkedAt,_this.resetInterval()}).fail(function(){return _this.interval*=2}).always(function(){return _this.beginCheckAssets()})}}(this),setTimeout(scheduledFetchAssets,this.interval)},Item}(Backbone.Model)},{"./collections/comment_list":68,backbone:231}],78:[function(require,module,exports){var Model,Tag,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Model=require("backbone").Model,module.exports=Tag=function(superClass){function Tag(){return Tag.__super__.constructor.apply(this,arguments)}return extend(Tag,superClass),Tag.prototype.idAttribute="url_name",Tag.prototype.urlRoot="/tags/",Tag.prototype.url=function(){var base;return base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError(),this.isNew()?base:base.replace(/([^\/])$/,"$1/")+this.id},Tag.prototype.follow=function(){if(this.get("following"))return;return $.ajax({url:this.url()+"/follow",type:"post"}).done(function(_this){return function(){return _this.set("following",!0)}}(this))},Tag.prototype.unfollow=function(){if(!this.get("following"))return;return $.ajax({url:this.url()+"/unfollow",type:"post"}).done(function(_this){return function(){return _this.set("following",!1)}}(this))},Tag.prototype.toggleFollowing=function(){return this.get("following")?this.unfollow():this.follow()},Tag}(Backbone.Model)},{backbone:231}],79:[function(require,module,exports){var Model,Team,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Model=require("backbone").Model,module.exports=Team=function(superClass){function Team(){return Team.__super__.constructor.apply(this,arguments)}var BANNED,PAID,PAYMENT_EXTENSION,SUSPENDED,TRIAL;return extend(Team,superClass),TRIAL=0,PAID=1,PAYMENT_EXTENSION=2,SUSPENDED=3,BANNED=4,Team.prototype._searchResults={},Team.prototype.isTrial=function(){return this.get("status")===TRIAL},Team.prototype.isPaid=function(){return this.get("status")===PAID},Team.prototype.isPaymentExtension=function(){return this.get("status")===PAYMENT_EXTENSION},Team.prototype.isSuspended=function(){return this.get("status")===SUSPENDED},Team.prototype.isBanned=function(){return this.get("status")===BANNED},Team.prototype.search=function(rawQuery){var dfd;return this._searchResults[rawQuery]?(dfd=$.Deferred(),dfd.resolve(this._searchResults[rawQuery]),dfd.promise()):$.getJSON("/search",{q:rawQuery,sort:"rel"}).done(function(_this){return function(results){return _this._searchResults[rawQuery]=results}}(this))},Team.prototype.createdAtInTime=function(){return this.has("created_at")?this.get("created_at").getTime():null},Team}(Model)},{backbone:231}],80:[function(require,module,exports){var Model,User,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Model=require("backbone").Model,module.exports=User=function(superClass){function User(){return User.__super__.constructor.apply(this,arguments)}var URL_NAME_REG;return extend(User,superClass),User.prototype.idAttribute="url_name",User.prototype.urlRoot="/",URL_NAME_REG=/^[\w\-]{3,32}$/,User.prototype.validateUrlName=function(url_name){var dfd,ref;return url_name==null&&(url_name=""),dfd=$.Deferred(),3<=(ref=url_name.length)&&ref<=32?URL_NAME_REG.test(url_name)?$.ajax({url:"/api/users/"+url_name,type:"GET"}).done(function(){return dfd.resolve("valid")}).fail(function(){return dfd.reject("already_exists")}):dfd.reject("invalid_characters"):dfd.reject("invalid_length"),dfd.promise()},User.prototype.follow=function(){if(this.get("following"))return;return $.ajax({url:this.url(!1)+"/follow",type:"post"}).done(function(_this){return function(){return _this.set("following",!0)}}(this))},User.prototype.unfollow=function(){if(!this.get("following"))return;return $.ajax({url:this.url(!1)+"/unfollow",type:"post"}).done(function(_this){return function(){return _this.set("following",!1)}}(this))},User.prototype.toggleFollowing=function(){return this.get("following")?this.unfollow():this.follow()},User.prototype.url=function(forceJson){return forceJson==null&&(forceJson=!0),forceJson?User.__super__.url.apply(this,arguments)+".json":User.__super__.url.apply(this,arguments)},User}(Model)},{backbone:231}],81:[function(require,module,exports){var AbstractArticleValidator,TagDataValidator,Validator,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Validator=require("./validator"),TagDataValidator=require("./tag_data_validator"),module.exports=AbstractArticleValidator=function(superClass){function AbstractArticleValidator(){return AbstractArticleValidator.__super__.constructor.apply(this,arguments)}return extend(AbstractArticleValidator,superClass),AbstractArticleValidator.prototype.CLASSNAME="AbstractArticleValidator",AbstractArticleValidator.prototype.EMPTY_REGEXP=/^\s*$/,AbstractArticleValidator.prototype.commonRuleNames=["titleCannotBeEmpty","titleLength","tagDataValidations","rawBodyCannotBeEmpty"],AbstractArticleValidator.prototype.teamRuleNames=["visibilityIdCannotBeEmpty"],AbstractArticleValidator.prototype.titleCannotBeEmpty=function(item){if(this.EMPTY_REGEXP.test(item.title))return{name:"title",message:this.t("title.cannot_be_empty")}},AbstractArticleValidator.prototype.titleLength=function(item){if(item.title.length>255)return{name:"title",message:this.t("title.too_long",{count:255})}},AbstractArticleValidator.prototype.rawBodyCannotBeEmpty=function(item){if(this.EMPTY_REGEXP.test(item.raw_body))return{name:"raw_body",message:this.t("raw_body.cannot_be_empty")}},AbstractArticleValidator.prototype.tagDataValidations=function(item){var errors;if(errors=TagDataValidator.validate(item.tag_data))return{name:"tag_data",message:_.pluck(errors,"message").join(" ")}},AbstractArticleValidator.prototype.visibilityIdCannotBeEmpty=function(item){if(item.visibility_id==="")return{name:"visibility_id",message:this.t("visibility_id.cannot_be_empty")}},AbstractArticleValidator}(Validator)},{"./tag_data_validator":83,"./validator":85}],82:[function(require,module,exports){var AbstractArticleValidator;AbstractArticleValidator=require("./abstract_article_validator"),module.exports=AbstractArticleValidator},{"./abstract_article_validator":81}],83:[function(require,module,exports){var TagDataValidator,TagDatumValidator,Validator,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Validator=require("./validator"),TagDatumValidator=require("./tag_datum_validator"),module.exports=TagDataValidator=function(superClass){function TagDataValidator(){return TagDataValidator.__super__.constructor.apply(this,arguments)}var MAX_COUNT;return extend(TagDataValidator,superClass),TagDataValidator.prototype.CLASSNAME="TagDataValidator",MAX_COUNT=5,TagDataValidator.prototype.commonRuleNames=["countValidation","tagDatumValidations","syntaxValidation"],TagDataValidator.prototype.publicRuleNames=["presence"],TagDataValidator.prototype.presence=function(tagData){if(_.filter(tagData||[],function(datum){return datum.name}).length===0)return{name:"tag_data",message:this.t("empty")}},TagDataValidator.prototype.countValidation=function(tagData){return tagData.length>MAX_COUNT?{name:"tag_data",message:this.t("please_specify_up_to_five_tags")}:null},TagDataValidator.prototype.tagDatumValidations=function(tagData){var errors,validator;validator=new TagDatumValidator,errors=_.chain(tagData).map(function(tagDatum){return validator.validate(tagDatum)}).flatten().compact().value();if(errors.length)return{name:"tag_data",message:_.pluck(errors,"message").join(" ")}},TagDataValidator.prototype.syntaxValidation=function(tagData){var invalidCharacter;return tagData.syntaxError?(invalidCharacter=tagData.notation.substr(tagData.syntaxError.column-1,1),{name:"tag_data",message:this.t("invalid_syntax",{invalid_character:invalidCharacter})}):null},TagDataValidator}(Validator)},{"./tag_datum_validator":84,"./validator":85}],84:[function(require,module,exports){var TagDatumValidator,Validator,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Validator=require("./validator"),module.exports=TagDatumValidator=function(superClass){function TagDatumValidator(){return TagDatumValidator.__super__.constructor.apply(this,arguments)}return extend(TagDatumValidator,superClass),TagDatumValidator.prototype.CLASSNAME="TagDatumValidator",TagDatumValidator.prototype.commonRuleNames=["nameTooLong","containsInvalidSymbol"],TagDatumValidator.prototype.teamRuleNames=["cannotEndWithBackslash","cannotStartWithSlash","cannotEndWithSlash","cannotEndWithItems","cannotUseSequentialSlash"],TagDatumValidator.prototype.publicRuleNames=["cannotUseBackslash","cannotUseSlash"],TagDatumValidator.prototype.nameTooLong=function(tagDatum){if(tagDatum.name.length>30||encodeURI(tagDatum.name).length>512)return{message:this.t("name_too_long",{maximum:30})}},TagDatumValidator.prototype.containsInvalidSymbol=function(tagDatum){if(/[<>;:"'\s]/.test(tagDatum.name))return{message:this.t("contains_invalid_symbol")}},TagDatumValidator.prototype.cannotStartWithSlash=function(tagDatum){if(/^\//.test(tagDatum.name))return{message:this.t("cannot_start_with_slash")}},TagDatumValidator.prototype.cannotEndWithSlash=function(tagDatum){if(/\/$/.test(tagDatum.name))return{message:this.t("cannot_end_with_slash")}},TagDatumValidator.prototype.cannotEndWithBackslash=function(tagDatum){if(/\\$/.test(tagDatum.name))return{message:this.t("cannot_end_with_backslash")}},TagDatumValidator.prototype.cannotEndWithItems=function(tagDatum){if(/\/items$/.test(tagDatum.name))return{message:this.t("cannot_end_with_items")}},TagDatumValidator.prototype.cannotUseSlash=function(tagDatum){if(/\//.test(tagDatum.name))return{message:this.t("cannot_use_slash")}},TagDatumValidator.prototype.cannotUseBackslash=function(tagDatum){if(/\\/.test(tagDatum.name))return{message:this.t("cannot_use_backslash")}},TagDatumValidator.prototype.cannotUseSequentialSlash=function(tagDatum){if(/\/\//.test(tagDatum.name))return{message:this.t("cannot_use_sequential_slash")}},TagDatumValidator}(Validator)},{"./validator":85}],85:[function(require,module,exports){var Validator;module.exports=Validator=function(){function Validator(){this.i18nScope="js.validators."+this.CLASSNAME}return Validator.prototype.commonRuleNames=[],Validator.prototype.teamRuleNames=[],Validator.prototype.publicRuleNames=[],Validator.validate=function(model){var validator;return validator=new this,validator.validate(model)},Validator.prototype.validate=function(model){var errors;return this.model=model,errors=_.reduce(this._ruleNames(),this._iter,[],this),errors.length?errors:null},Validator.prototype.t=function(name,args){return I18n.t(this.i18nScope+"."+name,args)},Validator.prototype._ruleNames=function(){var ref,ruleNames;return ruleNames=((ref=Qiita.team)!=null?ref.name:void 0)?this.teamRuleNames:this.publicRuleNames,this.commonRuleNames.concat(ruleNames)},Validator.prototype._iter=function(errors,ruleName){var error;if(error=this[ruleName](this.model))_.isArray(error)?errors.push.apply(errors,error):errors.push(error);return errors},Validator}()},{}],86:[function(require,module,exports){"use strict";require("./application/initialize")(function(){require("./routers/public_index")})},{"./application/initialize":13,"./routers/public_index":96}],87:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),typeaheadTemplate=require("../views/view-helpers/t/typeahead"),_require=require("backbone"),Router=_require.Router,publicUsersSource=require("../views/view-helpers/tt_sources/public_users_source");$(document).on("ajax:before",".adventCalendarSubscriptionButton_subscribe",function(e){$(e.currentTarget).closest(".adventCalendarSubscriptionButton").addClass("subscribing")}).on("ajax:error",".adventCalendarSubscriptionButton_subscribe",function(e){$(e.currentTarget).closest(".adventCalendarSubscriptionButton").removeClass("subscribing")}).on("ajax:before",".adventCalendarSubscriptionButton_unsubscribe",function(e){$(e.currentTarget).closest(".adventCalendarSubscriptionButton").removeClass("subscribing")}).on("ajax:error",".adventCalendarSubscriptionButton_unsubscribe",function(e){$(e.currentTarget).closest(".adventCalendarSubscriptionButton").addClass("subscribing")}),module.exports=function(_Router){function AdventCalendarRouter(){return _classCallCheck(this,AdventCalendarRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(AdventCalendarRouter).apply(this,arguments))}return _inherits(AdventCalendarRouter,_Router),_createClass(AdventCalendarRouter,[{key:"show",value:function show(year,_name){publicUsersSource.initialize(),$("#advent_calendar_invitation_receiver").typeahead({highlight:!0,hint:!1},{name:"receiver",templates:{suggestion:typeaheadTemplate},source:publicUsersSource.ttAdapter()})}},{key:"routes",get:function get(){return{"advent-calendar/:year/:name":"show"}}}]),AdventCalendarRouter}(Router)},{"../views/view-helpers/t/typeahead":193,"../views/view-helpers/tt_sources/public_users_source":194,backbone:231}],88:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ApiV2ConsoleView=require("../../../views/api_v2_console_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function ConsolesRouter(){return _classCallCheck(this,ConsolesRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(ConsolesRouter).apply(this,arguments))}return _inherits(ConsolesRouter,_Router),_createClass(ConsolesRouter,[{key:"show",value:function show(){return new ApiV2ConsoleView}},{key:"routes",get:function get(){return{"api/v2/console":"show"}}}]),ConsolesRouter}(Router)},{"../../../views/api_v2_console_view":123,backbone:231}],89:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DeveloperPageView=require("../../../views/developer_page_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function APIDocsRouter(){return _classCallCheck(this,APIDocsRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(APIDocsRouter).apply(this,arguments))}return _inherits(APIDocsRouter,_Router),_createClass(APIDocsRouter,[{key:"show",value:function show(){return new DeveloperPageView}},{key:"routes",get:function get(){return{"api/v2/docs":"show"}}}]),APIDocsRouter}(Router)},{"../../../views/developer_page_view":127,backbone:231}],90:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DeveloperPageView=require("../views/developer_page_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function DocsRouter(){return _classCallCheck(this,DocsRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(DocsRouter).apply(this,arguments))}return _inherits(DocsRouter,_Router),_createClass(DocsRouter,[{key:"api",value:function api(){this._setUpToc(),new DeveloperPageView}},{key:"webhook",value:function webhook(){this._setUpToc(),new DeveloperPageView}},{key:"_setUpToc",value:function _setUpToc(){$(".js-markdown h2").each(function(idx){$(this).attr("id",idx);var text=$(this).text(),anchorLink=$("<a>",{href:"#"+idx}).text(text),list=$("<li>").append(anchorLink);$(".js-toc").append(list)})}},{key:"routes",get:function get(){return{"api/v1/docs":"api","api/webhook/docs":"webhook"}}}]),DocsRouter}(Router)},{"../views/developer_page_view":127,backbone:231}],91:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new 
TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer)desc.writable=!0;return desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&desc.initializer!==void 0&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=undefined),desc.initializer===void 0&&(Object.defineProperty(target,property,desc),desc=null),desc}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_desc,_value,_class,_once=require("../util/decorators/once"),_once2=_interopRequireDefault(_once),_require=require("backbone"),Router=_require.Router,ListView=require("../views/draft_items/list_view"),PreviewView=require("../views/draft_items/preview_view"),FormView=require("../views/draft_items/form_view"),beforeUnload=require("../util/before_unload");module.exports=(_class=function(_Router){function DraftItemRouter(){return _classCallCheck(this,DraftItemRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(DraftItemRouter).apply(this,arguments))}return _inherits(DraftItemRouter,_Router),_createClass(DraftItemRouter,[{key:"index",value:function index(){this.setupIndex(),this.itemLists[0].activate()}},{key:"show",value:function show(uuid){var _this2=this,ref=void 0;this.setupIndex(),this.preview.setElement(".js-draftPreview"),(ref=this.selectedModel)!=null?ref.trigger("unselected"):void 0,_.each(this.itemLists,function(list){var model=void 0;if(model=list.collection.get(uuid))model.trigger("selected"),_this2.selectedModel=model})}},{key:"new",value:function _new(){var model=this.createFormViewOnce().model;this.listenToOnce(model,"change:"+model.idAttribute,this.navigateToEdit)}},{key:"edit",value:function edit(uuid){this.createFormViewOnce(uuid).model}},{key:"setupIndex",value:function setupIndex(){var $tabs=$(".nav-tabs li");this.itemLists=[new ListView({el:"#creatingDrafts",tabEl:$tabs[0]}),new ListView({el:"#editingDrafts",tabEl:$tabs[1]})],this.preview=new PreviewView,this.itemLists[0].$el.removeClass("active"),this.itemLists[1].$el.removeClass("active"),$tabs.parent().removeClass("hidden")}},{key:"createFormViewOnce",value:function createFormViewOnce(uuid){var view=new FormView({el:".js-editor"});return uuid?view.model.set(view.model.idAttribute,uuid):undefined,view.render()}},{key:"navigateToEdit",value:function navigateToEdit(model){return beforeUnload.off(),this.navigate(model.url()+"/edit",{replace:!0})}},{key:"routes",get:function get(){return{drafts:function drafts(){Qiita.action==="index"?(this.index(),this.trigger("route","index")):(this.new(),this.trigger("route","new"))},"drafts/:uuid/edit":"edit","drafts/:path":function draftsPath(path){path==="new"?(this.new(),this.trigger("route","new")):Qiita.action==="show"?(this.show(path),this.trigger("route","show",path)):(this.edit(path),this.trigger("route","edit",path))}}}}]),DraftItemRouter}(Router),_applyDecoratedDescriptor(_class.prototype,"setupIndex",[_once2.default],Object.getOwnPropertyDescriptor(_class.prototype,"setupIndex"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createFormViewOnce",[_once2.default],Object.getOwnPropertyDescriptor(_class.prototype,"createFormViewOnce"),_class.prototype),_class)},{"../util/before_unload":104,"../util/decorators/once":108,"../views/draft_items/form_view":129,"../views/draft_items/list_view":131,"../views/draft_items/preview_view":132,backbone:231}],92:[function(require,module,exports){var ActivityList,HomeRouter,MailcheckView,PasswordStrengthView,Router,StreamContainerView,TYPE,TrackList,browser,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ActivityList=require("../models/collections/activity_list"),TrackList=require("../models/collections/track_list"),Router=require("backbone").Router,browser=require("../util/browser"),StreamContainerView=require("../views/stream_container_view"),MailcheckView=require("../views/mailcheck_view"),PasswordStrengthView=require("../views/settings/password_strength_view"),TYPE=["following","public","mine","stock"],module.exports=HomeRouter=function(superClass){function HomeRouter(){return HomeRouter.__super__.constructor.apply(this,arguments)}return extend(HomeRouter,superClass),HomeRouter.prototype.routes={"":"followingOrLanding",items:"items",mine:"mine",stock:"stock"},HomeRouter.prototype.followingOrLanding=function(){return Qiita.user?this.following():this.landingPage()},HomeRouter.prototype.following=function(){var i,len,results,type;if(Qiita.variant!=="phone"){this.setUpIndexPage(),this.collections.following.activate(),results=[];for(i=0,len=TYPE.length;i<len;i++)type=TYPE[i],type!=="following"&&results.push(this.collections[type].deactivate());return results}},HomeRouter.prototype.landingPage=function(){return $(".js-form-toggle-link").on("click",function(){return $(".js-oauth-signup-form").hide(),$(".js-signup-form").addClass("active")}),$(".js-cancel-link").on("click",function(){return $(".js-signup-form").removeClass("active"),$(".js-oauth-signup-form").show()}),new MailcheckView,new PasswordStrengthView({el:$("#js-password")})},HomeRouter.prototype.items=function(){var i,len,results,type;this.setUpIndexPage(),this.collections["public"].activate(),results=[];for(i=0,len=TYPE.length;i<len;i++)type=TYPE[i],type!=="public"&&results.push(this.collections[type].deactivate());return results},HomeRouter.prototype.mine=function(){var i,len,results,type;this.setUpIndexPage(),this.collections.mine.activate(),results=[];for(i=0,len=TYPE.length;i<len;i++)type=TYPE[i],type!=="mine"&&results.push(this.collections[type].deactivate());return results},HomeRouter.prototype.stock=function(){var i,len,results,type;this.setUpIndexPage(),this.collections.stock.activate(),results=[];for(i=0,len=TYPE.length;i<len;i++)type=TYPE[i],type!=="stock"&&results.push(this.collections[type].deactivate());return results},HomeRouter.prototype.setUpIndexPage=_.once(function(){browser.getUserAgent().indexOf("Mac")!==-1&&Qiita.tutorial&&$(".kobito-ad").show(),this.collections={following:new TrackList,"public":new ActivityList(null,{type:"public"}),mine:new ActivityList(null,{type:"mine"}),stock:new ActivityList(null,{type:"stock"})},new StreamContainerView({collections:this.collections});switch(browser.getHash()){case"#public":return Backbone.history.navigate("items",!0);case"#mine":return Backbone.history.navigate("mine",!0)}}),HomeRouter}(Router)},{"../models/collections/activity_list":67,"../models/collections/track_list":71,"../util/browser":105,"../views/mailcheck_view":146,"../views/settings/password_strength_view":152,"../views/stream_container_view":156,backbone:231}],93:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function HumanResourcesRouter(){return _classCallCheck(this,HumanResourcesRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(HumanResourcesRouter).apply(this,arguments))}return _inherits(HumanResourcesRouter,_Router),_createClass(HumanResourcesRouter,[{key:"new",value:function _new(){this.bindToggleTerms(),this.bindSendAHumanResourceEvent()}},{key:"bindToggleTerms",value:function bindToggleTerms(){$(".js-toggleLink").on("click",function(_ev){$($(this).data("target")).toggleClass("active")})}},{key:"bindSendAHumanResourceEvent",value:function bindSendAHumanResourceEvent(){$("#new_human_resource").one("submit",function(ev){ev.preventDefault(),this.submit()})}},{key:"routes",get:function get(){return{"new":"new"}}}]),HumanResourcesRouter}(Router)},{backbone:231}],94:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Item=require("../models/item"),DateTimeView=require("../views/date_time_view"),MathJaxHelper=require("../util/mathjax-helper"),_require=require("../util/misc"),parse=_require.parse,_require2=require("backbone"),Router=_require2.Router,CommentListView=require("../views/items/comment_list_view"),NewCommentView=require("../views/items/new_comment_view"),ReferencesView=require("../views/items/references_view"),TocView=require("../views/items/toc_view"),AnchorScrollView=require("../views/items/anchor_scroll_view"),StockButtonView=require("../views/stock_button_view"),AnonymousStockButtonView=require("../views/anonymous_stock_button_view"),app=require("../application/app");module.exports=function(_Router){function ItemsRouter(){return _classCallCheck(this,ItemsRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(ItemsRouter).apply(this,arguments))}return _inherits(ItemsRouter,_Router),_createClass(ItemsRouter,[{key:"show",value:function show(_uuid){app.currentTeam||(Qiita.user?new StockButtonView:new AnonymousStockButtonView);var item=new Item(parse($("#js-item").html()));new CommentListView({el:".js-comments",collection:item.comments,enableAsyncPost:!1}),new NewCommentView({el:".js-new-comment",collection:item.comments,enableAsyncPost:!1}),$(".js-referencesView").each(function(){new ReferencesView({el:this})}),(new DateTimeView).render(),$("#single-item-status-box ul li").hover(function(){$(this).find(".tooltip").toggle()});if(window.innerWidth>767){var tocView=new TocView({model:item});tocView.render().$el.insertBefore($(".js-tocAnchor")),$(".scroll-chaser").scrollChaser({wrapper:".scroll-chaser-wrapper",offsetTop:10})}(new AnchorScrollView).render();var _arr=["#item-"+item.id,"#comments"];for(var _i=0;_i<_arr.length;_i++){var id=_arr[_i];MathJaxHelper.run($(id))}}},{key:"routes",get:function get(){return{":user_id/:type/:id":function user_idTypeId(user_id,type,id){return["items","private"].includes(type)&&id!=="new"?this.show(id):undefined}}}}]),ItemsRouter}(Router)},{"../application/app":12,"../models/item":77,"../util/mathjax-helper":112,"../util/misc":113,"../views/anonymous_stock_button_view":122,"../views/date_time_view":126,"../views/items/anchor_scroll_view":136,"../views/items/comment_list_view":138,"../views/items/new_comment_view":141,"../views/items/references_view":142,"../views/items/toc_view":144,"../views/stock_button_view":155,backbone:231}],95:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),typeaheadTemplate=require("../../../views/view-helpers/t/typeahead"),publicUsersSource=require("../../../views/view-helpers/tt_sources/public_users_source"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function MembersRouter(){return _classCallCheck(this,MembersRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(MembersRouter).apply(this,arguments))}return _inherits(MembersRouter,_Router),_createClass(MembersRouter,[{key:"index",value:function index(_organization_id){return publicUsersSource.initialize(),$("#member_url_name").typeahead({highlight:!0,hint:!1},{name:"member",templates:{suggestion:typeaheadTemplate},source:publicUsersSource.ttAdapter()})}},{key:"routes",get:function get(){return{"organizations/:organization_id/settings/members":"index"}}}]),MembersRouter}(Router)},{"../../../views/view-helpers/t/typeahead":193,"../../../views/view-helpers/tt_sources/public_users_source":194,backbone:231}],96:[function(require,module,exports){"use strict";var AdventCalendarRouter=require("./advent_calendar_router"),ConsolesRouter=require("./api/v2/consoles_router"),APIDocsRouter=require("./api/v2/docs_router"),DocsRouter=require("./docs_router"),MembersRouter=require("./organizations/settings/members_router"),KobitoRouter=require("./sessions/kobito_router"),PasswordsRouter=require("./settings/passwords_router"),ProfilesRouter=require("./settings/profiles_router"),DraftItemRouter=require("./draft_items_router"),HomeRouter=require("./home_router"),HumanResourcesRouter=require("./human_resources_router"),ItemsRouter=require("./items_router"),RegistrationRouter=require("./registration_router"),SessionsRouter=require("./sessions_router"),StatsRouter=require("./site/stats_router"),UsersRouter=require("./users_router");new UsersRouter,new ItemsRouter,new HomeRouter,new AdventCalendarRouter,new ConsolesRouter,new APIDocsRouter,new DocsRouter,new MembersRouter,new KobitoRouter,new PasswordsRouter,new ProfilesRouter,new DraftItemRouter,new HumanResourcesRouter,new RegistrationRouter,new SessionsRouter,new StatsRouter},{"./advent_calendar_router":87,"./api/v2/consoles_router":88,"./api/v2/docs_router":89,"./docs_router":90,"./draft_items_router":91,"./home_router":92,"./human_resources_router":93,"./items_router":94,"./organizations/settings/members_router":95,"./registration_router":97,"./sessions/kobito_router":98,"./sessions_router":99,"./settings/passwords_router":100,"./settings/profiles_router":101,"./site/stats_router":102,"./users_router":103}],97:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MailcheckView=require("../views/mailcheck_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function RegistrationRouter(){return _classCallCheck(this,RegistrationRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(RegistrationRouter).apply(this,arguments))}return _inherits(RegistrationRouter,_Router),_createClass(RegistrationRouter,[{key:"new",value:function _new(){new MailcheckView,$("form").one("submit",function(ev){ev.preventDefault(),this.submit()})}},{key:"routes",get:function get(){return{registration:"new","registration/new":"new"}}}]),RegistrationRouter}(Router)},{"../views/mailcheck_view":146,backbone:231}],98:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MailcheckView=require("../../views/mailcheck_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function KobitoRouter(){return _classCallCheck(this,KobitoRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(KobitoRouter).apply(this,arguments))}return _inherits(KobitoRouter,_Router),_createClass(KobitoRouter,[{key:"new",value:function _new(){return new MailcheckView,$(".js-openSignupForm").on("click",function(){return $(".js-oauthSignupWrapper").removeClass("active"),$(".js-emailSignupWrapper").addClass("active")}),$(".js-openOauthForm").on("click",function(){return $(".js-oauthSignupWrapper").addClass("active"),$(".js-emailSignupWrapper").removeClass("active")})}},{key:"routes",get:function get(){return{"signup/kobito":"new"}}}]),KobitoRouter}(Router)},{"../../views/mailcheck_view":146,backbone:231}],99:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MailcheckView=require("../views/mailcheck_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function SessionsRouter(){return _classCallCheck(this,SessionsRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(SessionsRouter).apply(this,arguments))}return _inherits(SessionsRouter,_Router),_createClass(SessionsRouter,[{key:"new",value:function _new(){new MailcheckView}},{key:"routes",get:function get(){return{signup:"new"}}}]),SessionsRouter}(Router)},{"../views/mailcheck_view":146,backbone:231}],100:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PasswordStrengthView=require("../../views/settings/password_strength_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function PasswordsRouter(){return _classCallCheck(this,PasswordsRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(PasswordsRouter).apply(this,arguments))}return _inherits(PasswordsRouter,_Router),_createClass(PasswordsRouter,[{key:"new",value:function _new(){return this.bindEventHandlers()}},{key:"edit",value:function edit(){return this.bindEventHandlers()}},{key:"i18n",value:function i18n(name){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return args.unshift("js.routes.settings.passwords."+name),I18n.t.apply(I18n,args)}},{key:"bindEventHandlers",value:function bindEventHandlers(){var _this2=this;return this.$password=$(".password").on("change",function(){return _this2.validate()}),this.$message=$(".js-validMessage"),$("#password-form").on("submit",function(e){return _this2.validate()?undefined:e.preventDefault()}),new PasswordStrengthView({el:$("#js-password")})}},{key:"validate",value:function validate(){return this.$password.val().length<8?(this.$message.text(this.i18n("min_word_count",{count:8})).fadeIn(),!1):(this.$message.text("").hide(),!0)}},{key:"routes",get:function get(){return{"settings/password/new":"new","settings/password":"edit"}}}]),PasswordsRouter}(Router)},{"../../views/settings/password_strength_view":152,backbone:231}],101:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),User=require("../../models/user"),FormView=require("../../views/settings/profiles/form_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function ProfilesRouter(){return _classCallCheck(this,ProfilesRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(ProfilesRouter).apply(this,arguments))}return _inherits(ProfilesRouter,_Router),_createClass(ProfilesRouter,[{key:"edit",value:function edit(){return new FormView({el:$("form.user_form"),model:new User(Qiita.user)})}},{key:"routes",get:function get(){return{"settings/profile":"edit"}}}]),ProfilesRouter}(Router)},{"../../models/user":80,"../../views/settings/profiles/form_view":153,backbone:231}],102:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UserCountChartView=require("../../views/site/user_count_chart_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function StatsRouter(){return _classCallCheck(this,StatsRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(StatsRouter).apply(this,arguments))}return _inherits(StatsRouter,_Router),_createClass(StatsRouter,[{key:"index",value:function index(){return $(".js-userCountChartView").each(function(){var view=new UserCountChartView({el:this});return view.render()})}},{key:"routes",get:function get(){return{"site/stats":"index"}}}]),StatsRouter}(Router)},{"../../views/site/user_count_chart_view":154,backbone:231}],103:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||typeof call!="object"&&typeof call!="function"?self:call}function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ActivityChartView=require("../views/users/activity_chart_view"),_require=require("backbone"),Router=_require.Router;module.exports=function(_Router){function UsersRouter(){return _classCallCheck(this,UsersRouter),_possibleConstructorReturn(this,Object.getPrototypeOf(UsersRouter).apply(this,arguments))}return _inherits(UsersRouter,_Router),_createClass(UsersRouter,[{key:"show",value:function show(){this.renderActivityChart()}},{key:"followers",value:function followers(){this.renderActivityChart()}},{key:"items",value:function items(){this.renderActivityChart()}},{key:"contributions",value:function contributions(){this.renderActivityChart()}},{key:"renderActivityChart",value:function renderActivityChart(){if($(".js-userActivityChart").length){var view=new ActivityChartView({el:".js-userActivityChart"
});view.render()}}},{key:"routes",get:function get(){return{":user_id":"show",":user_id/followers":"followers",":user_id/items":"items",":user_id/contributions":"contributions"}}}]),UsersRouter}(Router)},{"../views/users/activity_chart_view":162,backbone:231}],104:[function(require,module,exports){"use strict";var _require=require("backbone"),history=_require.history,isBeforeUnloadTurnedOn=!1,message={set:function set(msg){return this.msg=msg},get:function get(){return this.msg||"Are you sure?"}};exports.on=function(msg){if(isBeforeUnloadTurnedOn)return;return isBeforeUnloadTurnedOn=!0,message.set(msg),$(window).on("beforeunload",function(){return message.get()})},exports.off=function(){if(!isBeforeUnloadTurnedOn)return;return isBeforeUnloadTurnedOn=!1,$(window).off("beforeunload")};var orig_navigate=history.navigate.bind(history);history.navigate=function(url,options){if(isBeforeUnloadTurnedOn){if(!window.confirm(message.get()))return;exports.off()}return orig_navigate(url,options)}},{backbone:231}],105:[function(require,module,exports){"use strict";exports.getTitle=function(){return window.document.title},exports.getPathname=function(){return window.location.pathname},exports.getHref=function(){return window.location.href},exports.getHost=function(){return window.location.host},exports.getProtocol=function(){return window.location.protocol},exports.getHash=function(){return window.location.hash},exports.getSearch=function(){return window.location.search},exports.getUserAgent=function(){return window.navigator.userAgent},exports.navigate=function(url){return window.location.href=url},exports.reload=function(){return window.location.reload()}},{}],106:[function(require,module,exports){"use strict";var dataURItoBlob=function dataURItoBlob(dataURI){var byteString=atob(dataURI.split(",")[1]),ab=new ArrayBuffer(byteString.length),ia=new Uint8Array(ab),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=undefined;try{for(var _iterator=_.range(0,byteString.length)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;ia[i]=byteString.charCodeAt(i)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return new Blob([ia])},compress=function compress(file,maxSize,currentSize){var dfd=$.Deferred(),reader=new FileReader;return reader.onload=function(e){var img=new Image;return img.onload=function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),compRatio=Math.sqrt(currentSize/file.size);canvas.width=img.width*compRatio,canvas.height=img.height*compRatio,ctx.drawImage(img,0,0,canvas.width,canvas.height);var blob=dataURItoBlob(canvas.toDataURL(file.type));return blob.size<maxSize?dfd.resolve(blob):compress(file,maxSize,currentSize*.8).done(dfd.resolve).fail(dfd.reject)},img.src=e.target.result},reader.readAsDataURL(file),dfd.promise()};module.exports=function(file,maxSize){return compress(file,maxSize,maxSize*.8)}},{}],107:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var KEYCODE_ENTER=exports.KEYCODE_ENTER=13,KEYCODE_UP=exports.KEYCODE_UP=38,KEYCODE_DOWN=exports.KEYCODE_DOWN=40},{}],108:[function(require,module,exports){"use strict";function once(target,name,descriptor){return descriptor.value&&function(){var original=descriptor.value.bind(target),onced=_.once(original);descriptor.value=function(){var val=onced.apply(undefined,arguments);return val}}(),descriptor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=once},{}],109:[function(require,module,exports){"use strict";module.exports=function(){return Qiita.user?Qiita.user.id:undefined}},{}],110:[function(require,module,exports){"use strict";function isFullscreen(){var d=document;return!!(d.fullscreenElement||d.webkitFullscreenElement||d.mozFullscreenElement||d.msFullscreenElement)}function requestFullscreen(el){el.requestFullscreen?el.requestFullscreen():el.msRequestFullscreen?el.msRequestFullscreen():el.mozRequestFullScreen?el.mozRequestFullScreen():el.webkitRequestFullscreen&&el.webkitRequestFullscreen()}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFullscreen=isFullscreen,exports.requestFullscreen=requestFullscreen,exports.exitFullscreen=exitFullscreen},{}],111:[function(require,module,exports){"use strict";function cn(){for(var _len=arguments.length,names=Array(_len),_key=0;_key<_len;_key++)names[_key]=arguments[_key];return(0,_underscore.compact)(names).join(" ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cn=cn;var _underscore=require("underscore")},{underscore:734}],112:[function(require,module,exports){"use strict";module.exports={run:function run($el){if(!$el.find('[data-lang="math"]').length&&!/\$[^\$\n]*\$/.test($el.text()))return;var outputElems=this.prepareOutputElements($el);return this.compile($el).done(function(){if(!outputElems.length)return;$el.find('[data-lang="math"]').remove();var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=undefined;try{for(var _iterator=outputElems[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var $output=_step.value;$output.css("visibility","")}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}})},compile:function compile($el){var dfd=$.Deferred();return this.load().done(function(MathJax){return MathJax.Hub.Queue(function(){return MathJax.Hub.config.elements=[$el[0]],MathJax.Hub.Typeset(null,function(){return dfd.resolve()})})}),dfd.promise()},prepareOutputElements:function prepareOutputElements($el){var outputElems=[];return $el.find('[data-lang="math"]').each(function(){var $code=$(this),$output=$("<div style='visibility: hidden'>$${"+_.escape($code.find("pre").text())+"}$$</div>");return outputElems.push($output),$code.after($output)}),outputElems},state:"",load:function load(){var promise=void 0;if(this.state===""){this.dfd=$.Deferred(),promise=this.dfd.promise(),this.config();var script=document.createElement("script");script.src="https://cdn.qiita.com/MathJax/2.6.0/MathJax.js?config=TeX-AMS_HTML-full,Safe",document.getElementsByTagName("head")[0].appendChild(script),this.state="loading",this.checkLoaded(100)}else this.state!=="ready"?promise=this.dfd.promise():(this.dfd=$.Deferred(),promise=this.dfd.promise(),this.dfd.resolve(MathJax));return promise},loaded:function loaded(){var _this=this;return MathJax.isReady?(this.state="ready",this.dfd.resolve(MathJax)):(this.state="loaded",MathJax.Hub.Register.StartupHook("End",function(){return _this.state="ready",_this.dfd.resolve(MathJax)}))},config:function config(){if(window.MathJax)return;var script=document.createElement("script");return script.type="text/x-mathjax-config",script[window.opera?"innerHTML":"text"]="MathJax.Hub.Config({ skipStartupTypeset: true, showProcessingMessages: false, tex2jax: { inlineMath: [['$', '$']], displayMath: [['$$', '$$']], processEscapes: true, processEnvironments: false, processRefs: false, skipTags: ['script','noscript','style','textarea','pre','code','a','h1','h2','h3','h4','h5','h6'] } })",$("head").append(script)},checkLoaded:function checkLoaded(wait){var _this2=this;return setTimeout(function(){if(window.MathJax)return _this2.loaded();if(wait<5e3)return _this2.checkLoaded(wait*2)},wait)}}},{}],113:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol?"symbol":typeof obj},lockTable=exports.lockTable={},KEY_FOR_LOCK_UTILITIES="lock",browser=require("../util/browser");exports.capitalize=function capitalize(string){return string.charAt(0).toUpperCase()+string.substring(1).toLowerCase()},exports.freeAll=function freeAll(){exports.lockTable=lockTable={}},exports.lock=function lock(func){var funcId=_.uniqueId(KEY_FOR_LOCK_UTILITIES);return function(){if(lockTable[funcId])return lockTable[funcId].memo;lockTable[funcId]={};var args=[];args.push(function(){lockTable[funcId]=!1});var result=func.apply(this,args.concat(_.toArray(arguments)));return lockTable[funcId]&&(lockTable[funcId].memo=result),result}},exports.numberToHumanSize=function numberToHumanSize(number){if(number===Number.POSITIVE_INFINITY)return"&infin;";var units=["B","KB","MB","GB","TB"],i=0,tmp=number;while(tmp>1024)i++,tmp/=1024;var ret=Math.round(tmp*100)/100;return ret+units[i]},exports.parse=function parse(escaped_json){return JSON.parse(_.unescape(escaped_json))},exports.getContextLocale=function(){if((typeof window=="undefined"?"undefined":_typeof(window))!=="object")return null;var match=browser.getSearch().match(/(?:\?|&)locale=([^&]+)/);return match&&match[1]}},{"../util/browser":105}],114:[function(require,module,exports){"use strict";module.exports=function mixin(Class){var proto=Class.prototype;return _.chain(arguments).rest(1).each(function(Mixin){if(!Mixin)return;_.each(Mixin,function(value,prop){var prev=proto[prop];prev?_.isFunction(value)?_.isFunction(prev)?proto[prop]=function(){prev.apply(this,arguments),value.apply(this,arguments)}:(proto[prop]=value,_.extend(proto[prop],prev)):_.extend(prev,value):proto[prop]=value})}),Class}},{}],115:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _axios=require("axios"),_axios2=_interopRequireDefault(_axios),_misc=require("./misc"),requester=_axios2.default.create();requester.interceptors.request.use(function(config){return console.info("request =>",config),config.method==="get"?(config.params||(config.params={}),config.params.locale=(0,_misc.getContextLocale)()||I18n.locale):(config.data||(config.data={}),config.data.locale=(0,_misc.getContextLocale)()||I18n.locale),config},function(err){return Promise.reject(err)}),exports.default=requester},{"./misc":113,axios:209}],116:[function(require,module,exports){"use strict";var SCREEN_XS=768,SCREEN_SM=768,SCREEN_MD=992,SCREEN_LG=1200,SCREEN_SM_MAX=SCREEN_SM-1,SCREEN_MD_MAX=SCREEN_MD-1;module.exports={isXs:function isXs(){return window.outerWidth<SCREEN_XS},isSm:function isSm(){return this.isXs()},isMd:function isMd(){return SCREEN_SM_MAX<window.outerWidth<SCREEN_MD},isLg:function isLg(){return SCREEN_MD_MAX<window.outerWidth<SCREEN_LG}}},{}],117:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function updateEditingSlide(el,meta,body){_reactDom2.default.render(React.createElement(_slideContainer2.default,{title:meta.title,body:body,url_name:"",listenKeyDown:!1,siteid_path:""}),el)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=updateEditingSlide;var _slideContainer=require("../containers/slide-container"),_slideContainer2=_interopRequireDefault(_slideContainer),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom)},{"../containers/slide-container":64,"react-dom":591}],118:[function(require,module,exports){var ActivityView,ItemActivityView,MathJaxHelper,circleLoadingTemplate,lock,template,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ActivityView=require("../activity_view"),MathJaxHelper=require("../../util/mathjax-helper"),template=require("../view-helpers/t/activity/item"),circleLoadingTemplate=require("../view-helpers/t/stream/circle-loading"),lock=require("../../util/misc").lock,module.exports=ItemActivityView=function(superClass){function ItemActivityView(){return ItemActivityView.__super__.constructor.apply(this,arguments)}return extend(ItemActivityView,superClass),ItemActivityView.prototype.className="item-box",ItemActivityView.prototype.template=template,ItemActivityView.prototype.shown=!1,ItemActivityView.prototype.animDuration=100,ItemActivityView.prototype.expandWidth=30,ItemActivityView.prototype.shiftWidth=20,ItemActivityView.prototype.events={"click .expand":"onClickExpand","click a":"onClickATag","click .close":"onClickClose","click .item-box-container-inner":"onClickExpand","dblclick .item-box-container-inner":"onClickClose","click .stock-button":"toggleStock"},ItemActivityView.prototype.initialize=function(){return ItemActivityView.__super__.initialize.apply(this,arguments),this.listenTo(this.target,"change:stocked",this.renderStockIcon)},ItemActivityView.prototype.expand=function(){var $loading;return this.$el.addClass("expanding"),this.model.target.get("body")?this.inserted?this._expand():(this.insert(),this._expand()):($loading=this.$(".loading"),$loading.html(circleLoadingTemplate()),this.model.target.fetch().done(function(_this){return function(){return $loading.remove(),_this.insert(),_this._expand()}}(this)))},ItemActivityView.prototype.insert=function(){var $el;return $el=this.$(".item-body"),$el.html(this.model.target.get("body")),MathJaxHelper.run($el),this.inserted=!0},ItemActivityView.prototype._expand=function(){return this.$itemBodyWrapper==null&&(this.$itemBodyWrapper=this.$(".item-body-wrapper")),this.elWidth==null&&(this.elWidth=this.$el.width()),this.itemBodyHeight==null&&(this.itemBodyHeight=this.$(".item-body").height()),this.$containerInner==null&&(this.$containerInner=this.$(".item-box-container-inner")),this.$itemBodyWrapper.animate({height:this.itemBodyHeight},{duration:this.animDuration,complete:function(_this){return function(){return _this.$itemBodyWrapper.removeAttr("style"),_this.$el.removeClass("expanding").addClass("expanded")}}(this)}),this.$el.animate({width:this.elWidth+this.expandWidth,left:-this.shiftWidth},this.animDuration),this.$containerInner.animate({"margin-left":10,"padding-left":10,"padding-right":10},this.animDuration)},ItemActivityView.prototype.close=function(){var headerHeight,position,scrollTo;this.$el.addClass("expanding").removeClass("expanded"),this.$itemBodyWrapper.animate({height:0},{duration:this.animDuration,complete:function(_this){return function(){return _this.$el.removeClass("expanding")}}(this)}),this.$el.animate({width:this.elWidth,left:0},this.animDuration),this.$containerInner.animate({"margin-left":0,"padding-left":0,"padding-right":0},this.animDuration),position=this.$el.position().top,headerHeight=$(".js-globalNavigation").height(),scrollTo=position-headerHeight*2;if($(window).scrollTop()>scrollTo)return $("html,body").animate({scrollTop:scrollTo},this.animDuration)},ItemActivityView.prototype.renderStockIcon=function(){return this.$(".js-stock-button").toggleClass("unstock"),this.$(".js-stock-count").text(this.model.target.get("stock_count"))},ItemActivityView.prototype.onClickExpand=function(e){if(this.shown)return;return _.defer(function(_this){return function(){var ref;if((ref=e.originalEvent)!=null?ref[_this.cid]:void 0)return;return _this.shown=!0,_this.expand()}}(this))},ItemActivityView.prototype.onClickClose=function(){if(!this.shown)return;return this.shown=!1,this.close()},ItemActivityView.prototype.onClickATag=function(e){return e.originalEvent[this.cid]=!0},ItemActivityView.prototype.toggleStock=lock(function(free,e){return e.originalEvent[this.cid]=!0,this.target.toggleStock().done(function(_this){return function(){var position;return _this.model.target.get("stocked")&&(position=_this.streamType==="following"?"feed":_this.streamType),free()}}(this))}),ItemActivityView.prototype.presenter=function(){return{item:this.target.toJSON(),actors:this.model.get("actors"),actionType:this.model.get("action_type")}},ItemActivityView}(ActivityView)},{"../../util/mathjax-helper":112,"../../util/misc":113,"../activity_view":121,"../view-helpers/t/activity/item":169,"../view-helpers/t/stream/circle-loading":184}],119:[function(require,module,exports){var ActivityView,TagActivityView,lock,template,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ActivityView=require("../activity_view"),lock=require("../../util/misc").lock,template=require("../view-helpers/t/activity/tag"),module.exports=TagActivityView=function(superClass){function TagActivityView(){return TagActivityView.__super__.constructor.apply(this,arguments)}return extend(TagActivityView,superClass),TagActivityView.prototype.className="tag-box",TagActivityView.prototype.template=template,TagActivityView.prototype.events={"click .follow-button":"follow"},TagActivityView.prototype.follow=lock(function(free){return this.target.follow().done(function(_this){return function(){return _this.$(".follow-button").remove(),free()}}(this))}),TagActivityView.prototype.presenter=function(){return{actor:this.model.get("actors")[0],target:this.target}},TagActivityView}(ActivityView)},{"../../util/misc":113,"../activity_view":121,"../view-helpers/t/activity/tag":170}],120:[function(require,module,exports){var ActivityView,UserActivityView,lock,template,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ActivityView=require("../activity_view"),lock=require("../../util/misc").lock,template=require("../view-helpers/t/activity/user"),module.exports=UserActivityView=function(superClass){function UserActivityView(){return UserActivityView.__super__.constructor.apply(this,arguments)}return extend(UserActivityView,superClass),UserActivityView.prototype.className="user-box",UserActivityView.prototype.template=template,UserActivityView.prototype.events={"click .follow-button":"follow"},UserActivityView.prototype.follow=lock(function(free){return this.target.follow().done(function(_this){return function(){return _this.$(".follow-button").remove(),free()}}(this))}),UserActivityView.prototype.presenter=function(){return{actor:this.model.get("actors")[0],target:this.target}},UserActivityView}(ActivityView)},{"../../util/misc":113,"../activity_view":121,"../view-helpers/t/activity/user":171}],121:[function(require,module,exports){var ActivityView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=ActivityView=function(superClass){function ActivityView(){return ActivityView.__super__.constructor.apply(this,arguments)}return extend(ActivityView,superClass),ActivityView.prototype.streamType=null,ActivityView.prototype.initialize=function(options){return this.target=this.model.target,this.streamType=options.streamType},ActivityView.prototype.render=function(){return this.$el.html(this.template(this.presenter())),this},ActivityView}(Backbone.View)},{}],122:[function(require,module,exports){var AnonymousStockButtonView,LoginModalView,StockButtonView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;LoginModalView=require("./login_modal_view"),StockButtonView=require("./stock_button_view"),module.exports=AnonymousStockButtonView=function(superClass){function AnonymousStockButtonView(){return AnonymousStockButtonView.__super__.constructor.apply(this,arguments)}return extend(AnonymousStockButtonView,superClass),AnonymousStockButtonView.prototype.stockItem=function(e){var $el,view;return e.preventDefault(),$el=$(e.currentTarget),view=new LoginModalView({action:"stock",target:$el.data("uuid"),type:"stock:"+$el.data("position")}),$("body").append(view.render().el)},AnonymousStockButtonView}(StockButtonView)},{"./login_modal_view":145,"./stock_button_view":155}],123:[function(require,module,exports){var ApiV2ConsoleView,app,browser,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;browser=require("../util/browser"),app=require("../application/app"),module.exports=ApiV2ConsoleView=function(superClass){function ApiV2ConsoleView(){return ApiV2ConsoleView.__super__.constructor.apply(this,arguments)}var LOCAL_STORAGE_KEY;return extend(ApiV2ConsoleView,superClass),LOCAL_STORAGE_KEY="lastUsedAccessToken",ApiV2ConsoleView.prototype.initialize=function(){this.$accessTokenInputElement=this.$(".js-accessToken"),this.$pathInputElement=this.$(".js-path"),this.$responseElement=this.$(".js-response"),this.$responseElement.hide();if(this.$accessTokenInputElement.val()==="")return this.$accessTokenInputElement.val(app.store.get(LOCAL_STORAGE_KEY))},ApiV2ConsoleView.prototype.el=".js-apiV2Console",ApiV2ConsoleView.prototype.events={"ajax:before":function(){return app.store.set(LOCAL_STORAGE_KEY,this.$accessTokenInputElement.val()),Backbone.history.navigate(browser.getPathname()+"?path="+this.$pathInputElement.val())},"ajax:success":function(event,data,status,xhr){return this.$responseElement.show().text(data.formatted_result)}},ApiV2ConsoleView}(Backbone.View)},{"../application/app":12,"../util/browser":105}],124:[function(require,module,exports){var AUTO_PREVIEW_INTERVAL,AutocompleteMixin,AutoindentMixin,BodyFormView,EmojiPickerView,ImageAuthorshipMixin,KEY,MathJaxHelper,app,mixin,numberToHumanSize,previewHandlerFactory,updateEditingSlide,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;EmojiPickerView=require("../views/emoji_picker_view"),MathJaxHelper=require("../util/mathjax-helper"),mixin=require("../util/mixin"),numberToHumanSize=require("../util/misc").numberToHumanSize,AutocompleteMixin=require("./view-helpers/mixins/autocomplete_mixin"),AutoindentMixin=require("./view-helpers/mixins/autoindent_mixin"),ImageAuthorshipMixin=require("./view-helpers/mixins/image_authorship_mixin"),updateEditingSlide=require("../util/update-editing-slide")["default"],AUTO_PREVIEW_INTERVAL=1e3,app=require("../application/app"),KEY="draft_items/form_view:previewing",app.store.get(KEY)===void 0&&($(window).width()>=768?app.store.set(KEY,"half"):app.store.set(KEY,!1)),previewHandlerFactory=function(state){return function(){return state&&!app.store.get(KEY)&&this.fetchPreview(),app.store.set(KEY,state),this.renderPreviewPanel(state)}},module.exports=BodyFormView=function(superClass){function BodyFormView(){return this.chasePreviewArea=bind(this.chasePreviewArea,this),this.renderPreviewPanel=bind(this.renderPreviewPanel,this),this.togglePreviewAsSlide=bind(this.togglePreviewAsSlide,this),this.renderPreview=bind(this.renderPreview,this),BodyFormView.__super__.constructor.apply(this,arguments)}var I18N_NAMESPACE,TOOLTIP_TEMPLATE;return extend(BodyFormView,superClass),I18N_NAMESPACE="js.views.draft_items.body_form_view.",TOOLTIP_TEMPLATE='<div class="tooltip editorImagePickerTooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',BodyFormView.prototype.el=".js-bodyFormView",BodyFormView.prototype.events={"click .js-helpModal":"showMarkdownHelpModal","click .js-noPreview":previewHandlerFactory(!1),"click .js-fullPreview":previewHandlerFactory("full"),"click .js-halfPreview":previewHandlerFactory("half"),"click .js-emojiPickerLauncher":function(){return this.emojiPicker.toggle()},"click .js-filePicker":"openFilePicker","keyup textarea":"updateRawBody","change textarea":"updateRawBody","change .js-preview-as-slide":"togglePreviewAsSlide"},BodyFormView.prototype.initialize=function(options){return this.assignElements(),this.emojiPicker=new EmojiPickerView({textarea:this.textarea}),this.bindEventListeners(),this.bindMixin(),$("#draft_item_title").on("keyup",function(_this){return function(ev){var isSlideActive;isSlideActive=$(".js-preview-as-slide").prop("checked");if(isSlideActive)return _this.model.set("title",ev.target.value)}}(this))},BodyFormView.prototype.render=function(){return this.renderPreviewPanel(app.store.get(KEY)),this.emojiPicker.render().$el.appendTo(this.$el),app.store.get(KEY)&&this.model.fetchPreview(),this},BodyFormView.prototype.openFilePicker=function(){return this.$fileInput.click()},BodyFormView.prototype.updateRawBody=function(){return this.model.set("raw_body",this.getValue(),{silent:!app.store.get(KEY)})},BodyFormView.prototype.fetchPreview=_.throttle(function(){return this.model.fetchPreview()},AUTO_PREVIEW_INTERVAL,{leading:!1}),BodyFormView.prototype.renderUploadableSize=function(){var additionalHtml;return this.remainingSize!=null&&this.monthlySizeLimit!=null&&(additionalHtml='<div class="editorImagePickerTooltip_attachment">'+('<p class="editorImagePickerTooltip_label">'+I18n.t(I18N_NAMESPACE+"remaining_upload_quota_in_this_month")+"</p>")+("<p>"+numberToHumanSize(this.remainingSize)+" / "+numberToHumanSize(this.monthlySizeLimit)+"</p>"),this.everPosted||(additionalHtml+="<p>"+I18n.t(I18N_NAMESPACE+"monthly_limit_will_rise_once_you_publish_first_post")+"</p>"),additionalHtml+="</div>"),this.activateFilePickerTooltip(additionalHtml)},BodyFormView.prototype.activateFilePickerTooltip=function(additionalHtml){var $filePicker;return additionalHtml==null&&(additionalHtml=""),$filePicker=this.$(".js-filePicker"),$filePicker.tooltip("destroy"),$filePicker.tooltip({title:""+I18n.t(I18N_NAMESPACE+"select_image_or_drag_and_drop_html")+additionalHtml,html:!0,template:TOOLTIP_TEMPLATE,trigger:"hover",placement:"bottom",container:".js-bodyFormView",viewport:".js-bodyFormView"})},BodyFormView.prototype.renderPreview=function(){var html,isSlideActive;isSlideActive=$(".js-preview-as-slide").prop("checked"),html=this.model.get("body"),!isSlideActive&&html===""?this.$cheetsheet.show():this.$cheetsheet.hide();if(Qiita.user.staff&&isSlideActive){updateEditingSlide(this.$previewEl[0],{title:this.model.get("title")},html);return}return this.$previewEl.html(html),MathJaxHelper.run(this.$previewEl)},BodyFormView.prototype.togglePreviewAsSlide=function(){var ReactDOM;return $(".js-preview-as-slide").prop("checked")||(ReactDOM=require("react-dom"),ReactDOM.unmountComponentAtNode(this.$previewEl[0])),this.renderPreview()},BodyFormView.prototype.renderPreviewPanel=function(state){return this.$el.removeClass("uninitialized"),state==="full"?this.$el.removeClass("halfPreviewing").removeClass("notPreviewing").addClass("fullPreviewing"):state==="half"?this.$el.removeClass("fullPreviewing").removeClass("notPreviewing").addClass("halfPreviewing"):this.$el.removeClass("fullPreviewing").removeClass("halfPreviewing").addClass("notPreviewing")},BodyFormView.prototype.showMarkdownHelpModal=function(){return $(".js-markdownHelpModal").modal("show")},BodyFormView.prototype.chasePreviewArea=function(){var scrollRate;if(!app.store.get(KEY))return;return scrollRate=this.$textarea.scrollTop()/(this.textarea.scrollHeight-this.$textarea.innerHeight()),this.$previewEl.scrollTop(scrollRate*(this.previewEl.scrollHeight-this.$previewEl.innerHeight()))},BodyFormView.prototype.bindEventListeners=function(){return this.listenTo(this.model,"change:raw_body",this.fetchPreview),this.listenTo(this.model,"change:body",this.renderPreview),this.listenTo(this.model,"change:title",this.renderPreview),this.listenTo(this.model,"change:previewing",this.renderPreviewPanel),this.listenTo(this.emojiPicker,"pick",this.updateRawBody),this.textarea.onscroll=this.chasePreviewArea},BodyFormView.prototype.assignElements=function(){return this.$previewEl=this.$(".js-preview"),this.previewEl=this.$previewEl.get(0),this.$textarea=this.$("textarea"),this.textarea=this.$textarea.get(0),this.$cheetsheet=this.$(".js-editorPreview_cheatsheet")},BodyFormView.prototype.getValue=function(){return this.textarea.value.replace(/\r\n?/g,"\n")},BodyFormView}(Backbone.View),mixin(BodyFormView,AutocompleteMixin,AutoindentMixin,ImageAuthorshipMixin)},{"../application/app":12,"../util/mathjax-helper":112,"../util/misc":113,"../util/mixin":114,"../util/update-editing-slide":117,"../views/emoji_picker_view":133,"./view-helpers/mixins/autocomplete_mixin":164,"./view-helpers/mixins/autoindent_mixin":165,"./view-helpers/mixins/image_authorship_mixin":167,"react-dom":591}],125:[function(require,module,exports){var BodyFormView,ComparableBodyFormView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;BodyFormView=require("./body_form_view"),module.exports=ComparableBodyFormView=function(superClass){function ComparableBodyFormView(){return ComparableBodyFormView.__super__.constructor.apply(this,arguments)}return extend(ComparableBodyFormView,superClass),ComparableBodyFormView.prototype.events={"click .js-tab":"clickTab"},ComparableBodyFormView.prototype.initialize=function(){return this.events=_.extend({},this.events,BodyFormView.prototype.events),ComparableBodyFormView.__super__.initialize.apply(this,arguments)},ComparableBodyFormView.prototype.clickTab=function(e){var $tab;e.preventDefault(),$tab=$(e.currentTarget);if(!$tab.hasClass("active")){this.switchTabs($tab);if($tab.data("type")==="diff")return this.model.set({raw_body:this.$("#draft_item_raw_body").val()}),this.model.fetchDiff()}},ComparableBodyFormView.prototype.renderDiff=function(){return this.$("#diff").html(this.model.get("diff"))},ComparableBodyFormView.prototype.renderDiffError=function(){return this.$("#diff").html("ERROR")},ComparableBodyFormView.prototype.switchTabs=function($tab){return this.$(".js-draftBody .active").removeClass("active"),$tab.addClass("active"),$($tab.attr("href")).addClass("active")},ComparableBodyFormView.prototype.bindEventListeners=function(){return ComparableBodyFormView.__super__.bindEventListeners.apply(this,arguments),this.listenTo(this.model,"change:diff",this.renderDiff),this.listenTo(this.model,"error:diff",this.renderDiffError)},ComparableBodyFormView}(BodyFormView)},{"./body_form_view":124}],126:[function(require,module,exports){var DateTimeView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=DateTimeView=function(superClass){function DateTimeView(){return DateTimeView.__super__.constructor.apply(this,arguments)}return extend(DateTimeView,superClass),DateTimeView.prototype.el=".js-dateTimeView",DateTimeView.prototype.render=function(){return this.$el.each(function(){var $time,date,dateTimeString;return $time=$(this),dateTimeString=$time.attr("datetime"),date=new Date(dateTimeString),$time.attr("title",date.toLocaleString())}),this},DateTimeView}(Backbone.View)},{}],127:[function(require,module,exports){var DeveloperPageView,ScrollChaserView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ScrollChaserView=require("../views/scroll_chaser_view"),module.exports=DeveloperPageView=function(superClass){function DeveloperPageView(){return DeveloperPageView.__super__.constructor.apply(this,arguments)}var WIDTH_FOR_DOUBLE_COLUMNS
;return extend(DeveloperPageView,superClass),WIDTH_FOR_DOUBLE_COLUMNS=768,DeveloperPageView.prototype.initialize=function(){if(this._isScrollChasable())return new ScrollChaserView},DeveloperPageView.prototype._isScrollChasable=function(){return window.innerWidth>=WIDTH_FOR_DOUBLE_COLUMNS},DeveloperPageView}(Backbone.View)},{"../views/scroll_chaser_view":151}],128:[function(require,module,exports){var FormActionsView,KEY,app,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;app=require("../../application/app"),KEY="DraftItemForm:initAction",app.currentTeam&&(KEY+=app.currentTeam.id),app=require("../../application/app"),module.exports=FormActionsView=function(superClass){function FormActionsView(){return FormActionsView.__super__.constructor.apply(this,arguments)}return extend(FormActionsView,superClass),FormActionsView.prototype.el=".js-submitButtonWrapper",FormActionsView.prototype.submitType=null,FormActionsView.prototype.events={"click .js-dropdownButton":"toggleDropdown","click .js-dropdownMenu a":"clickDropdownItem","click .js-dropdownMenu":function(e){return e.originalEvent[this.cid]=!0}},FormActionsView.prototype.initialize=function(){var initAction;return this.bindEventListeners(),initAction=$("[href='#"+app.store.get(KEY)+"']").length?app.store.get(KEY):"post",this.switchSubmitButton(initAction)},FormActionsView.prototype.clickDropdownItem=function(e){return e.preventDefault(),this.switchSubmitButton($(e.currentTarget).attr("href").substr(1))},FormActionsView.prototype.toggleDropdown=function(e){return e.originalEvent[this.cid]=!0,this.$(".js-dropdownMenu").toggleClass("active")},FormActionsView.prototype.closeDropdown=function(){return this.$(".js-dropdownMenu").removeClass("active")},FormActionsView.prototype.switchSubmitButton=function(submitType){return this.$(".active").removeClass("active"),this.$("[href='#"+submitType+"']").addClass("active"),this.$("#"+submitType).addClass("active"),this.setSubmitType(submitType),this.closeDropdown()},FormActionsView.prototype.setSubmitType=function(value){return this.submitType=value,app.store.set(KEY,value),$("#draft_item_secret").val(value==="secret-post"?1:0),$("#draft_item_publish").val(value==="save"?"":1),$("#draft_item_coediting").val(value==="coediting-post"?1:0)},FormActionsView.prototype.bindEventListeners=function(){return this.listenTo(Backbone,"click",function(_this){return function(e){var ref;if((ref=e.originalEvent)!=null?!ref[_this.cid]:!void 0)return _this.closeDropdown()}}(this))},FormActionsView}(Backbone.View)},{"../../application/app":12}],129:[function(require,module,exports){var AUTO_SAVE_INTERVAL,ComparableBodyFormView,DraftItem,FormActionsView,FormView,TagFormView,beforeUnload,draftItemTagTemplate,lock,notification,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ComparableBodyFormView=require("../../views/comparable_body_form_view"),TagFormView=require("../../views/tag_form_view"),FormActionsView=require("./form_actions_view"),notification=require("../../application/notification"),draftItemTagTemplate=require("../view-helpers/t/draft_items/tag"),beforeUnload=require("../../util/before_unload"),lock=require("../../util/misc").lock,DraftItem=require("../../models/draft_item"),AUTO_SAVE_INTERVAL=1e4,module.exports=FormView=function(superClass){function FormView(){return FormView.__super__.constructor.apply(this,arguments)}var I18N_NAMESPACE,TUTORIAL_POPOVER_TEMPLATE,VALIDATION_POPOVER_TEMPLATE;return extend(FormView,superClass),I18N_NAMESPACE="js.views.draft_items.form_view",VALIDATION_POPOVER_TEMPLATE='<div class="popover editorValidationError" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="editorValidationError_label"><i class="fa fa-exclamation-triangle"></i></div><div class="popover-content"></div></div>',TUTORIAL_POPOVER_TEMPLATE='<div class="popover editorTutorialPopover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',FormView.prototype.events={"click .js-dropdownButton":"toggleDropdown","click .js-dropdownMenu a":"clickDropdownItem","click .js-dropdownMenu":function(e){return e.originalEvent[this.cid]=!0},"click .js-submitButton":"clickSubmitButton","change .js-confirmationCheckbox":"toggleSubmitButton",keyup:"checkModelHasChanged"},FormView.prototype.shortcuts={"ctrl+s":function(){return this.saveModel("Keyboard")}},FormView.prototype.initialize=function(options1){return this.options=options1,this.model=new DraftItem,this.initializeSubViews(),this.initializeModel(),this.bindEventListeners(),_.extend(this,Backbone.Shortcuts.prototype),this.delegateShortcuts()},FormView.prototype.render=function(){var ref;return _.each(this.subViews,function(view){return view.render()}),this.$("noscript").remove(),((ref=Qiita.team)!=null?!ref.name:!void 0)&&this.$el.data("belongToTeam")&&this.activateConfirmation(),this.showAllValidationErrors(),this.$el.data("tutorial")&&this.showTutorialPopovers(),this},FormView.prototype.updateFormAction=function(){return this.$el.attr("action",this.model.url()).append('<input type="hidden" name="_method" value="put"></input>'),this.$(".js-preview").attr("id","item-"+this.model.id)},FormView.prototype.renderValidationMessages=function(){var error,fn,i,len,ref;this.$(".js-validationError").popover("destroy"),ref=this.model.validationError,fn=function(error){var $error,popover;return $error=this.$(".js-"+error.name+"ValidationError"),$error.popover({content:error.message,trigger:"manual",template:VALIDATION_POPOVER_TEMPLATE}).popover("show"),popover=$error.data("bs.popover"),popover.tip().on("click",function(_this){return function(){return popover.destroy()}}(this))};for(i=0,len=ref.length;i<len;i++)error=ref[i],fn(error);return scrollTo(0,0)},FormView.prototype.activateConfirmation=function(){return this.$(".js-creatingModal button").attr("disabled",!0),this.$(".js-modalConfirmation").show()},FormView.prototype.showAllValidationErrors=function(){return this.$(".js-validationError").popover({trigger:"manual",template:VALIDATION_POPOVER_TEMPLATE}).popover("show")},FormView.prototype.showAutoSaveNotification=function(){var $autoSaveNotification;return $autoSaveNotification=this.$(".js-autoSaveNotification"),$autoSaveNotification.addClass("js-showAndHideAnimation"),setTimeout(function(){return $autoSaveNotification.removeClass("js-showAndHideAnimation")},4200)},FormView.prototype.showDiffErrorNotification=function(){return notification.error(this.t("diff_error"),{keep:!1})},FormView.prototype.showPreviewErrorNotification=function(){return notification.error(this.t("preview_error"),{keep:!1})},FormView.prototype.toggleSubmitButton=function(e){return this.$(".js-creatingModal button").attr("disabled",!e.currentTarget.checked)},FormView.prototype.clickSubmitButton=function(e){var comment,ref,submitType;this.dismissAllTutorialPopovers(),this.generateTagDataForm(),submitType=this.subViews.actionsView.submitType;if(submitType==="save")return this.submit();comment=$("#options_comment").val();if(!this.model.set(this.getAttributes(),{validate:!0,comment:comment}))return e.preventDefault();if(this.model.isCreating()&&((ref=Qiita.team)!=null?!ref.name:!void 0)&&submitType==="post")return e.preventDefault(),this.$(".js-creatingModal").modal("show")},FormView.prototype.onSubmit=function(e){if(this.submitting==="submitting"||this.subViews.actionsView.submitType==="save")return;e.preventDefault();if(this.submitting==="tracking")return;return this.submitting="tracking",this.submit()},FormView.prototype.submit=_.once(function(){return this.submitting="submitting",beforeUnload.off(),this.$el.submit()}),FormView.prototype.getAttributes=function(){return this.titleInput==null&&(this.titleInput=this.$(".js-titleForm input").get(0)),{title:this.titleInput.value,tag_data:this.subViews.tagFormView.getValue(),raw_body:this.subViews.bodyView.getValue(),visibility_id:this.$(".js-visibility-id").val()}},FormView.prototype.checkModelHasChanged=function(){return this.model.hasChangedFromInitAttrs(this.getAttributes())?(this.updated=!0,this.autoSave(),beforeUnload.on(this.t("alert.unload"))):(this.updated=!1,beforeUnload.off())},FormView.prototype.saveModel=lock(function(free,action){return this.updated?this.model.save(this.getAttributes(),this.getParamsForSavingModel()).done(function(_this){return function(){return _this.updated=!1,beforeUnload.off()}}(this)).always(function(){return free()}):free()}),FormView.prototype.autoSave=_.debounce(function(){if(this.model.hasChangedFromInitAttrs(this.getAttributes()))return this.saveModel("AutoSave")},AUTO_SAVE_INTERVAL),FormView.prototype.initializeSubViews=function(){var actionsView,bodyView,tagFormView;return actionsView=new FormActionsView({model:this.model}),bodyView=new ComparableBodyFormView({model:this.model}),tagFormView=new TagFormView({model:this.model}),this.subViews={actionsView:actionsView,bodyView:bodyView,tagFormView:tagFormView}},FormView.prototype.initializeModel=function(){var attrs;return attrs=this.getAttributes(),attrs.type_int=this.$el.data("type-int"),this.model.set(attrs,{silent:!0}),this.model.takeSnapShot()},FormView.prototype.bindEventListeners=function(){return this.listenTo(this.model,"change",this.checkModelHasChanged),this.listenTo(this.model,"change:"+this.model.idAttribute,this.updateFormAction),this.listenTo(this.model,"invalid",this.renderValidationMessages),this.listenTo(this.model,"sync",this.showAutoSaveNotification),this.listenTo(this.model,"error:diff",this.showDiffErrorNotification),this.listenTo(this.model,"error:preview",this.showPreviewErrorNotification),this.$el.on("submit",_.bind(this.onSubmit,this))},FormView.prototype.generateTagDataForm=function(){var html,tagData;return tagData=this.model.get("tag_data"),html=_.map(tagData,function(tag){return draftItemTagTemplate({tag:tag})}).join(""),$(".js-tagData").html(html)},FormView.prototype.showTutorialPopovers=function(){var bodyPopover,filePickerPopover,submissionButtonPopover;return filePickerPopover=this.showTutorialPopover(".js-filePicker",this.t("you_can_upload_images"),"bottom"),bodyPopover=this.showTutorialPopover(".editorMarkdown_textareaWrapper",this.t("input_body"),"top"),submissionButtonPopover=this.showTutorialPopover(".js-submitButtonWrapper",this.t("post_when_finished_writing"),"top"),this.tutorialPopovers=[filePickerPopover,bodyPopover,submissionButtonPopover],this.bodyTutorialPopovers=[filePickerPopover,bodyPopover],this.listenTo(this.model,"change:raw_body",this.dismissBodyTutorialPopovers)},FormView.prototype.dismissAllTutorialPopovers=function(){var i,len,popover,ref;if(this.tutorialPopovers==null)return;ref=this.tutorialPopovers;for(i=0,len=ref.length;i<len;i++)popover=ref[i],popover.destroy();return this.tutorialPopovers=null},FormView.prototype.dismissBodyTutorialPopovers=function(){var i,len,popover,ref;this.stopListening(this.model,"change:raw_body",this.dismissBodyTutorialPopovers),ref=this.bodyTutorialPopovers;for(i=0,len=ref.length;i<len;i++)popover=ref[i],popover.destroy();return this.bodyTutorialPopovers=null},FormView.prototype.showTutorialPopover=function(selector,message,placement){var $element,popover;return $element=this.$(selector),$element.popover({content:message,placement:placement,container:".editor_content",viewport:".editor_content",template:TUTORIAL_POPOVER_TEMPLATE,trigger:"manual"}).popover("show"),popover=$element.data("bs.popover"),popover.tip().on("click",function(_this){return function(){return popover.destroy()}}(this)),popover},FormView.prototype.t=function(name,args){return I18n.t(I18N_NAMESPACE+"."+name,args)},FormView.prototype.getParamsForSavingModel=function(){var $el,params;return params={wait:!0,validate:!1,action:"save"},this.model.isCreating()&&this.model.isNew()&&($el=this.$('[name="reserved_item_uuid"]')).length===1&&(params.beforeSend=function(_xhr,options){var data;return data=_.extend(JSON.parse(options.data),{reserved_item_uuid:$el.val()}),options.data=JSON.stringify(data)}),params},FormView}(Backbone.View)},{"../../application/notification":14,"../../models/draft_item":76,"../../util/before_unload":104,"../../util/misc":113,"../../views/comparable_body_form_view":125,"../../views/tag_form_view":159,"../view-helpers/t/draft_items/tag":178,"./form_actions_view":128}],130:[function(require,module,exports){var DraftItem,ItemView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;DraftItem=require("../../models/draft_item"),module.exports=ItemView=function(superClass){function ItemView(){return ItemView.__super__.constructor.apply(this,arguments)}return extend(ItemView,superClass),ItemView.prototype.initialize=function(){return this.model=new DraftItem(this.$el.data()),this.listenTo(this.model,"selected",this.activate),this.listenTo(this.model,"unselected",this.deactivate)},ItemView.prototype.activate=function(){return this.$el.addClass("active")},ItemView.prototype.deactivate=function(){return this.$el.removeClass("active")},ItemView}(Backbone.View)},{"../../models/draft_item":76}],131:[function(require,module,exports){var ItemView,ListView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ItemView=require("../../views/draft_items/item_view"),module.exports=ListView=function(superClass){function ListView(){return ListView.__super__.constructor.apply(this,arguments)}return extend(ListView,superClass),ListView.prototype.initialize=function(options){var draftItems;return this.$tabEl=$(options.tabEl),draftItems=_.map(this.$el.children(),function(el){var view;return view=new ItemView({el:el}),view.model}),this.collection=new Backbone.Collection(draftItems),this.listenTo(this.collection,"selected",this.activate),this.listenTo(this.collection,"unselected",this.deactivate)},ListView.prototype.activate=function(){return this.$tabEl.addClass("active"),this.$el.addClass("active")},ListView.prototype.deactivate=function(){return this.$tabEl.removeClass("active"),this.$el.removeClass("active")},ListView}(Backbone.View)},{"../../views/draft_items/item_view":130}],132:[function(require,module,exports){var PreviewView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=PreviewView=function(superClass){function PreviewView(){return PreviewView.__super__.constructor.apply(this,arguments)}return extend(PreviewView,superClass),PreviewView.prototype.events={"click .js-deleteButton":"deleteDraft"},PreviewView.prototype.deleteDraft=function(e){if(!window.confirm(this.t("confirm")))return e.preventDefault()},PreviewView.prototype.t=function(name,args){return I18n.t("js.views.draft_items.preview_view."+name,args)},PreviewView}(Backbone.View)},{}],133:[function(require,module,exports){var Draggable,EmojiPickerView,emojiPickerTemplate,mixin,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;mixin=require("../util/mixin"),emojiPickerTemplate=require("./view-helpers/t/emoji_picker"),Draggable=require("./view-helpers/mixins/draggable"),module.exports=EmojiPickerView=function(superClass){function EmojiPickerView(){return EmojiPickerView.__super__.constructor.apply(this,arguments)}return extend(EmojiPickerView,superClass),EmojiPickerView.prototype.className="emojiPicker",EmojiPickerView.prototype.events={"click .close":"hide","click .js-item":"onClickEmoji","mouseover .js-item":"onMouseOver","mousedown .js-topBar":"dragStart"},EmojiPickerView.prototype.initialize=function(options){return options==null&&(options={}),this.textarea=options.textarea,this.bindEventListeners(),this.initializeDraggable()},EmojiPickerView.prototype.remove=function(){return this.removeDraggable(),EmojiPickerView.__super__.remove.apply(this,arguments)},EmojiPickerView.prototype.render=function(){return this.$el.html(emojiPickerTemplate({presenter:this})).hide(),this.assignElements(),this},EmojiPickerView.prototype.loadRemotePane=function(e){var $tab;if(($tab=$(e.target)).data("loaded"))return;return $.ajax({url:$tab.data("url"),type:"GET"}).done(function(_this){return function(emojis){var html;return emojis=_.compact(emojis.split("\n")),html=_.map(emojis,function(emoji){return'<span class="js-item" data-emoji="'+emoji+'">\n  <img class="emojiPicker_icon" src="'+_this.link(emoji)+'"/>\n</span>'}).join(""),_this.$($tab.attr("href")).html(html),$tab.data("loaded",!0)}}(this))},EmojiPickerView.prototype.onClickEmoji=function(e){return this.insertEmoji($(e.currentTarget).data("emoji"))},EmojiPickerView.prototype.onMouseOver=function(e){return this.previewEmoji($(e.currentTarget).data("emoji"))},EmojiPickerView.prototype.insertEmoji=function(emoji){var post,pre,selectionEnd;return emoji=":"+emoji+": ",selectionEnd=this.textarea.selectionEnd,pre=this.textarea.value.substring(0,selectionEnd),post=this.textarea.value.substring(selectionEnd),pre!==""&&!_.include([" ","\n"],pre.charAt(pre.length-1))&&(emoji=" "+emoji),post.charAt(0)===" "&&(post=post.substr(1)),this.textarea.value=""+pre+emoji+post,this.textarea.selectionStart=this.textarea.selectionEnd=pre.length+emoji.length,this.trigger("pick")},EmojiPickerView.prototype.previewEmoji=function(emoji){return this.$preview.html('<img src="'+this.link(emoji)+'"/>\n<span>:'+emoji+":</span>")},EmojiPickerView.prototype.toggle=function(){return this.$("a:first").tab("show"),this.$el.toggle()},EmojiPickerView.prototype.hide=function(){return this.$el.hide()},EmojiPickerView.prototype.idWith=function(suffix){return this.cid+"-"+suffix},EmojiPickerView.prototype.link=function(emoji){return"https://cdn.qiita.com/emoji/"+encodeURIComponent(emoji)+".png"},EmojiPickerView.prototype.bindEventListeners=function(){return this.$el.on("show.bs.tab",_.bind(this.loadRemotePane,this))},EmojiPickerView.prototype.assignElements=function(){return this.$preview=this.$(".emojiPicker_preview")},EmojiPickerView}(Backbone.View),mixin(EmojiPickerView,Draggable)},{"../util/mixin":114,"./view-helpers/mixins/draggable":166,"./view-helpers/t/emoji_picker":179}],134:[function(require,module,exports){var FeedbackFormView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=FeedbackFormView=function(superClass){function FeedbackFormView(){return FeedbackFormView.__super__.constructor.apply(this,arguments)}return extend(FeedbackFormView,superClass),FeedbackFormView.prototype.el=".js-feedback-form",FeedbackFormView.prototype.events={"shown.bs.modal":"focusOnTextArea"},FeedbackFormView.prototype.focusOnTextArea=function(){return this.getTextArea().focus()},FeedbackFormView.prototype.getTextArea=function(){return this.$el.find(".js-feedback-form-text-area")},FeedbackFormView.prototype.initialize=function(){return this.getTextArea().bind("keydown","ctrl+return",function(_this){return function(){return _this.submit()}}(this)),this.getTextArea().bind("keydown","meta+return",function(_this){return function(){return _this.submit()}}(this))},FeedbackFormView.prototype.submit=function(){return this.$el.find(".js-feedback-form-form").submit()},FeedbackFormView}(Backbone.View)},{}],135:[function(require,module,exports){var FollowingUserTrackView,TrackView,template,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;TrackView=require("../views/track_view"),template=require("./view-helpers/t/tracks/following_user"),module.exports=FollowingUserTrackView=function(superClass){function FollowingUserTrackView(){return FollowingUserTrackView.__super__.constructor.apply(this,arguments)}return extend(FollowingUserTrackView,superClass),FollowingUserTrackView.prototype.className="user-box",FollowingUserTrackView.prototype.template=template,FollowingUserTrackView}(TrackView)},{"../views/track_view":161,"./view-helpers/t/tracks/following_user":190}],136:[function(require,module,exports){var AnchorScrollView,browser,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;browser=require("../../util/browser"),module.exports=AnchorScrollView=function(superClass){function AnchorScrollView(){return AnchorScrollView.__super__.constructor.apply(this,arguments)}var SCROLL_DURATION;return extend(AnchorScrollView,superClass),SCROLL_DURATION=500,AnchorScrollView.prototype.el="body",AnchorScrollView.prototype.render=function(){return $(document).ready(function(_this){return function(){return setTimeout(function(){return _this.performRender()},0)}}(this)),this},AnchorScrollView.prototype.performRender=function(){var element;return element=this.getTargetElement(),element?(this.highlightElement(element),this.scrollToElement(element)):this},AnchorScrollView.prototype.highlightElement=function(element){return element.addClass("anchor-target")},AnchorScrollView.prototype.scrollToElement=function(element){var position;return position=element.offset().top-($(window).height()-element.height())/2,this.$el.animate({scrollTop:position},SCROLL_DURATION)},AnchorScrollView.prototype.getTargetElement=function(){var element,error,targetId;targetId=this.getTargetId();if(!targetId)return null;try{element=$(targetId)}catch(error){return null}return element.length===0?null:element},AnchorScrollView.prototype.getTargetId=function(){var fragment;return fragment=browser.getHash(),/^#_[a-z0-9_\-]+$/i.test(fragment)?"#"+fragment.replace(/^#_/,""):null},AnchorScrollView}(Backbone.View)},{"../../util/browser":105}],137:[function(require,module,exports){var AutocompleteMixin,AutoindentMixin,CommentFormView,EmojiPickerView,ImageAuthorshipMixin,PreviewableMixin,lock,mixin,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;mixin=require("../../util/mixin"),EmojiPickerView=require("../../views/emoji_picker_view"),lock=require("../../util/misc").lock,AutocompleteMixin=require("../view-helpers/mixins/autocomplete_mixin"),AutoindentMixin=require("../view-helpers/mixins/autoindent_mixin"),PreviewableMixin=require("../view-helpers/mixins/previewable_mixin"),ImageAuthorshipMixin=require("../view-helpers/mixins/image_authorship_mixin"),module.exports=CommentFormView=function(superClass){function CommentFormView(){return this.onKeyDown=bind(this.onKeyDown,this),CommentFormView.__super__.constructor.apply(this,arguments)}return extend(CommentFormView,superClass),CommentFormView.prototype.expanded=!1,CommentFormView.prototype.isAsyncPostEnabled=!1,CommentFormView.prototype.events={"click .js-commentRawBody":"onClickCommentBody","click .js-emojiPickerLauncher":"toggleEmojiPicker","click .js-submitBtn":"onClickSubmit",keydown:"onKeyDown"},CommentFormView.prototype.initialize=function(options){var ref;this.options=options,this.isAsyncPostEnabled=(ref=this.options)!=null?ref.enableAsyncPost:void 0,this.bindMixin();if(document.activeElement===this.$(".js-commentRawBody").get(0))return this.showContents()},CommentFormView.prototype.onKeyDown=function(ev){var ref;if(((ref=ev.keyCode)===10||ref===13)&&(ev.ctrlKey||ev.metaKey))return ev.preventDefault(),this.submit()},CommentFormView.prototype.onClickCommentBody=function(e){return this.showContents()},CommentFormView.prototype.onClickSubmit=function(e){return e.preventDefault(),this.submit()},CommentFormView.prototype.showContents=function(){var content;if(this.expanded)return;return this.expanded=!0,this.renderUploadableSize(),content=this.$(".js-commentContent"),content.find(".js-commentRawBody").css({"min-height":140}).animate({height:"10em"},150),content.find(".js-commentFadein").fadeIn(),content.addClass("image-uploadable-textarea")},CommentFormView.prototype.hideTooltips=function(){var ref;return(ref=this.emojiPicker)!=null?ref.hide():void 0},CommentFormView.prototype.remove=function(){var ref;return(ref=this.emojiPicker)!=null&&ref.remove(),this.emojiPicker=null,CommentFormView.__super__.remove.apply(this,arguments)},CommentFormView.prototype.toggleEmojiPicker=function(){return this.emojiPicker||(this.emojiPicker=new EmojiPickerView({textarea:this.$("textarea")[0]}),this.emojiPicker.render().$el.appendTo(document.body),setTimeout(function(_this){return function(){return _this.emojiPicker.$el.offset(_this._emojiPickerInitPos())}}(this),0)),this.emojiPicker.toggle()},CommentFormView.prototype.submit=lock(function(free){var $submitBtn;return $submitBtn=this.$(".js-submitBtn").addClass("disabled"),/^\s*$/.test(this.$("textarea").val())?($submitBtn.removeClass("disabled"),free()):this.isAsyncPostEnabled?this.asyncPost().always(function(){return $submitBtn.removeClass("disabled"),free()}):this.model.isNew()?($submitBtn.removeClass("disabled"),this.$el.submit()):this.$el.submit()}),CommentFormView.prototype.asyncPost=function(){var xhr;return(xhr=this.model.save(this.$el.formData().comment))?xhr:jQuery.Deferred().reject()},CommentFormView.prototype._emojiPickerInitPos=function(){var offset;return offset=this.$el.offset(),{top:offset.top,left:offset.left+this.$el.width()+10}},CommentFormView}(Backbone.View),mixin(CommentFormView,PreviewableMixin,AutocompleteMixin,ImageAuthorshipMixin,AutoindentMixin)},{"../../util/misc":113,"../../util/mixin":114,"../../views/emoji_picker_view":133,"../view-helpers/mixins/autocomplete_mixin":164,"../view-helpers/mixins/autoindent_mixin":165,"../view-helpers/mixins/image_authorship_mixin":167,"../view-helpers/mixins/previewable_mixin":168}],138:[function(require,module,exports){var CommentListView,CommentView,EditableCommentView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;CommentView=require("../../views/items/comment_view"),EditableCommentView=require("../../views/items/editable_comment_view"),module.exports=CommentListView=function(superClass){function CommentListView(){return CommentListView.__super__.constructor.apply(this,arguments)}return extend(CommentListView,superClass),CommentListView.prototype.initialize=function(arg){return this.enableAsyncPost=(arg!=null?arg:{}).enableAsyncPost,this.$(".comment").each(function(_this){return function(index,el){var view;view=CommentView.parse($(el),{enableAsyncPost:_this.enableAsyncPost});if(view)return _this.collection.add(view.model,{silent:!0})}}(this)),this.listenTo(this.collection,"add",this.appendComment)},CommentListView.prototype.appendComment=function(model){var view;return view=CommentView.createByModel(model,{enableAsyncPost:this.enableAsyncPost}),this.$el.append(view.render().el),view.$(".task-list-item-checkbox").attr("disabled",null)},CommentListView}(Backbone.View)},{"../../views/items/comment_view":139,"../../views/items/editable_comment_view":140}],139:[function(require,module,exports){var Comment,CommentView,ThankView,parse,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Comment=require("../../models/comment"),parse=require("../../util/misc").parse,ThankView=require("./thank_view"),module.exports=CommentView=function(superClass){function CommentView(){return CommentView.__super__.constructor.apply(this,arguments)}return extend(CommentView,superClass),CommentView.prototype.initialize=function(){return this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:html",this.render),this.listenTo(this.model,"change:thanked",this.renderThankBtn)},CommentView.prototype.render=function(){var ref;return this.model.has("html")&&((ref=this.view)!=null&&ref.remove(),this.view=null,this.$el.html(this.model.get("html")),this.trigger("change:html")),this.view||(this.view=new ThankView({model:this.model,el:this.$(".js-thank-btn")})),this},CommentView.prototype.renderThankBtn=function(){var $btn;return $btn=this.$(".js-thank-btn"),this.model.get("thanked")?$btn.addClass("thanked").html(I18n.t("js.views.items.comment_view.thanked_html")):$btn.removeClass("thanked").html(I18n.t("js.views.items.comment_view.thank_html"))},CommentView.prototype.remove=function(){var ref;return(ref=this.view)!=null&&ref.remove(),CommentView.__super__.remove.apply(this,arguments)},CommentView.parse=function($el,options){var attrs,html,model;html=$el.find(".js-comment").html();if(!html)return;return attrs=parse(html),model=new Comment(attrs),this.create(model,$el,options).render()},CommentView.createByModel=function(model,options){return this.create(model,null,options)},CommentView.create=function(model,$el,options){var EditableCommentView,viewClass;return EditableCommentView=require("./editable_comment_view"),viewClass=model.isEditable()?EditableCommentView:this,new viewClass(_.extend({model:model,el:$el},options))},CommentView}(Backbone.View)},{"../../models/comment":73,"../../util/misc":113,"./editable_comment_view":140,"./thank_view":143}],140:[function(require,module,exports){var CommentFormView,CommentView,EditableCommentView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;CommentView=require("./comment_view"),CommentFormView=require("./comment_form_view"),module.exports=EditableCommentView=function(superClass){function EditableCommentView(){return EditableCommentView.__super__.constructor.apply(this,arguments)}return extend(EditableCommentView,superClass),EditableCommentView.prototype.events={"click .js-edit":"onClickEdit","click .js-cancel-btn":"onClickCancel"},EditableCommentView.prototype.initialize=function(arg){return this.enableAsyncPost=(arg!=null?arg:{}).enableAsyncPost,EditableCommentView.__super__.initialize.apply(this,arguments),this.listenTo(this,"change:html",this._resetFormView),this.formView=this._createFormView()},EditableCommentView.prototype.onClickEdit=function(e){return e.preventDefault(),this.$(".js-comment-body").hide(),this.$(".js-embedded-comment-form").show(),this.formView.showContents()},EditableCommentView.prototype.onClickCancel=function(e){return this.$(".js-comment-body").show(),this.$(".js-embedded-comment-form").hide(),this.formView.hideTooltips()},EditableCommentView.prototype._resetFormView=function(){var ref;return(ref=this.formView)!=null&&ref.remove(),this.formView=this._createFormView()},EditableCommentView.prototype._createFormView=function(){return new CommentFormView({el:this.$("form"),model:this.model,enableAsyncPost:this.enableAsyncPost})},EditableCommentView}(CommentView)},{"./comment_form_view":137,"./comment_view":139}],141:[function(require,module,exports){var Comment,CommentFormView,NewCommentView,extend=function(
child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Comment=require("../../models/comment"),CommentFormView=require("./comment_form_view"),module.exports=NewCommentView=function(superClass){function NewCommentView(){return NewCommentView.__super__.constructor.apply(this,arguments)}return extend(NewCommentView,superClass),NewCommentView.prototype.initialize=function(arg){return this.collection=arg.collection,this.enableAsyncPost=arg.enableAsyncPost,this.initialFormEl=this.$("form").clone(!1),this.resetFormView()},NewCommentView.prototype.resetFormView=function(){return this.formView&&(this.$el.append(this.initialFormEl.clone()),this.formView.remove()),this.resetModel(),this.formView=new CommentFormView({el:this.$("form"),model:this.model,enableAsyncPost:this.enableAsyncPost})},NewCommentView.prototype.resetModel=function(){return this.model&&this.stopListening(this.model),this.model=new Comment,this.listenTo(this.model,"sync",this.onPostComment)},NewCommentView.prototype.onPostComment=function(comment){return this.collection.add(comment),this.resetFormView()},NewCommentView}(Backbone.View)},{"../../models/comment":73,"./comment_form_view":137}],142:[function(require,module,exports){var ReferencesView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=ReferencesView=function(superClass){function ReferencesView(){return ReferencesView.__super__.constructor.apply(this,arguments)}var I18N_SCOPE,TOGGLE_DURATION;return extend(ReferencesView,superClass),I18N_SCOPE="js.views.items.references_view",TOGGLE_DURATION=200,ReferencesView.prototype.events={"click .js-toggleOldReferences":"toggleOldReferences"},ReferencesView.prototype.initialize=function(){return this.areOldReferencesShown=!1,this.$oldReferences=this.$(".js-oldReference"),this.$toggleIcon=this.$(".js-toggleOldReferencesIcon"),this.$toggleText=this.$(".js-toggleOldReferencesText"),this.newReferenceCount=this.$(".js-reference").length-this.$oldReferences.length},ReferencesView.prototype.toggleOldReferences=function(event){return event.preventDefault(),this.areOldReferencesShown?(this.$oldReferences.hide(TOGGLE_DURATION),this.$toggleIcon.removeClass("fa-compress").addClass("fa-expand"),this.$toggleText.text(I18n.t(I18N_SCOPE+".show_old_links",{count:this.$oldReferences.length}))):(this.$oldReferences.show(TOGGLE_DURATION),this.$toggleIcon.removeClass("fa-expand").addClass("fa-compress"),this.$toggleText.text(I18n.t(I18N_SCOPE+".hide_links_except_latest_ones",{count:this.newReferenceCount}))),this.areOldReferencesShown=!this.areOldReferencesShown},ReferencesView}(Backbone.View)},{}],143:[function(require,module,exports){var ResponsiveButtonView,ThankView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ResponsiveButtonView=require("../../views/responsive_button_view"),module.exports=ThankView=function(superClass){function ThankView(){return ThankView.__super__.constructor.apply(this,arguments)}return extend(ThankView,superClass),ThankView.prototype.namespace="js.views.items.thank_button",ThankView.prototype.activeClass=null,ThankView.prototype.activatingText=null,ThankView.prototype.deactivatingText=null,ThankView.prototype.isActive=function(){return!this.model.get("thanked")},ThankView.prototype.execute=function(){return this.model.toggleThanked()},ThankView.prototype.bindRenderEvent=function(){return this.model.set("thanked",this.$el.hasClass("thanked")),this.listenTo(this.model,"change:thanked",this.render)},ThankView.prototype.modalSettings=function(){return{action:"thank",target:this.model.id,type:"thank"}},ThankView}(ResponsiveButtonView)},{"../../views/responsive_button_view":150}],144:[function(require,module,exports){var TocView,key,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;key="items#show:toc-collapsed",module.exports=TocView=function(superClass){function TocView(){return this.renderContents=bind(this.renderContents,this),TocView.__super__.constructor.apply(this,arguments)}return extend(TocView,superClass),TocView.prototype.collapsed=null,TocView.prototype.promise=null,TocView.prototype.className="tocTree",TocView.prototype.initialize=function(options){return options==null&&(options={}),this.$bodyEl=options.$bodyEl,this.promise=this.buildTocTree().done(this.renderContents).fail(function(_this){return function(){return _this.remove(),_this.trigger("empty")}}(this))},TocView.prototype.adjustToScreenHeight=function(offset){var screenHeight;return offset==null&&(offset=10),screenHeight=$(window).height(),this.promise.done(function(_this){return function(){var padding;return padding=parseInt(_this.$el.css("padding-top"),10)*2,_this.$(".js-tocTreeContents").css({maxHeight:screenHeight-padding-offset*2})}}(this)),this},TocView.prototype.renderContents=function($contents){return this.$contentsEl=$('<div class="tocTree_contents js-tocTreeContents"></div>').append($contents).appendTo(this.$el),this.adjustToScreenHeight(),this.runScrollspy()},TocView.prototype.activateScrollspy=function($body){var className;return className=this.$el.attr("class").split(" ")[0],$body.scrollspy({target:"."+className})},TocView.prototype.runScrollspy=function(){return $("body").scrollspy({target:".js-tocTreeContents"})},TocView.prototype.buildTocTree=function(){var dfd,tocArray;return dfd=$.Deferred(),tocArray=this.parseBody(),_.defer(function(_this){return function(){var $contents;return tocArray.length>0?($contents=_this.parseTocArray(tocArray),dfd.resolve($contents)):dfd.reject()}}(this)),dfd.promise()},TocView.prototype.parseBody=function(){var currentArray,prevLevel,tocArray;return tocArray=currentArray=[],tocArray.level=prevLevel=0,this.$bodyEl||(this.model.$body||this.model.loadBody(),this.$bodyEl=this.model.$body),this.$bodyEl.children().each(function(i,el){var childArray,currentLevel,match;match=el.tagName.match(/^H(\d)/);if(!match||!$(el).text())return;currentLevel=parseInt(match[1],10);if(prevLevel>currentLevel)while(currentArray.parent.level>=currentLevel)currentArray=currentArray.parent;else prevLevel<currentLevel&&(childArray=[],childArray.parent=currentArray,childArray.level=currentLevel,currentArray.push(childArray),currentArray=childArray);return currentArray.push(el),prevLevel=currentLevel}),tocArray[0]||[]},TocView.prototype.parseTocArray=function(tocArray){var $el,el,fragment,j,len,text,ul;ul=$('<ul class="nav"></ul>');for(j=0,len=tocArray.length;j<len;j++){el=tocArray[j];if(_.isArray(el))ul.children(":last-child").append(this.parseTocArray(el));else{$el=$(el),text=_.escape($el.text());if(fragment=$el.find("a").attr("href"))text="<a href='"+fragment+"' track='click' data-label='TOC'>"+text+"</a>";ul.append($("<li>"+text+"</li>"))}}return ul},TocView}(Backbone.View)},{}],145:[function(require,module,exports){var LoginModalView,ModalView,browser,clickLoginModalAnalysis,loginModalViewTemplate,showLoginModalAnalysis,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ModalView=require("./modal_view"),clickLoginModalAnalysis=require("../api/analysis/click_login_modal"),showLoginModalAnalysis=require("../api/analysis/show_login_modal"),loginModalViewTemplate=require("./view-helpers/t/login_modal_view"),browser=require("../util/browser"),module.exports=LoginModalView=function(superClass){function LoginModalView(){return LoginModalView.__super__.constructor.apply(this,arguments)}return extend(LoginModalView,superClass),LoginModalView.prototype.events={"click a":"onClickLogin","click .modal-backdrop":"onClickDismiss","click .dismiss":"onClickDismiss","click .success":"onSubmit"},LoginModalView.prototype.initialize=function(options){this.options=options},LoginModalView.prototype.render=function(){return showLoginModalAnalysis({type:this.options.type}),LoginModalView.__super__.render.apply(this,arguments)},LoginModalView.prototype.onClickLogin=function(e){var $el,href;return e.preventDefault(),$el=$(e.target),href=$el.attr("href"),clickLoginModalAnalysis({provider:$el.data("provider"),type:this.options.type}).always(function(){return browser.navigate(href)})},LoginModalView.prototype.presenter=function(){return{html:loginModalViewTemplate({action:this.options.action,target:this.options.target})}},LoginModalView}(ModalView)},{"../api/analysis/click_login_modal":3,"../api/analysis/show_login_modal":8,"../util/browser":105,"./modal_view":147,"./view-helpers/t/login_modal_view":180}],146:[function(require,module,exports){var ACCEPTABLE_TLD,Mailcheck,MailcheckView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Mailcheck=require("mailcheck"),ACCEPTABLE_TLD=Mailcheck.defaultTopLevelDomains.concat(["co.jp","ne.jp"]),module.exports=MailcheckView=function(superClass){function MailcheckView(){return MailcheckView.__super__.constructor.apply(this,arguments)}return extend(MailcheckView,superClass),MailcheckView.prototype.el="#user_email",MailcheckView.prototype.events={"keyup input":"mailcheck"},MailcheckView.prototype.initialize=function(){return this.$el.wrap($("<div></div>")),this.$input=this.$el,this.setElement(this.$input.parent()),this.$message=$('<div class="help-block"></div>'),this.$message.hide().appendTo(this.$el)},MailcheckView.prototype.mailcheck=function(e){if(!/@([^.]+\.)+.+$/.test(e.target.value))return;return this.$input.mailcheck({topLevelDomains:ACCEPTABLE_TLD,suggested:function(_this){return function(element,suggestion){var suggestion_html;return suggestion_html=I18n.t("js.views.registration.new.email_suggestion_html",{address:suggestion.address,domain:suggestion.domain}),_this.$message.fadeIn(200).html(suggestion_html)}}(this),empty:function(_this){return function(){return _this.$message.slideUp(200).html("")}}(this)})},MailcheckView}(Backbone.View)},{mailcheck:589}],147:[function(require,module,exports){var ModalView,modalTemplate,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;modalTemplate=require("./view-helpers/t/modal"),module.exports=ModalView=function(superClass){function ModalView(){return ModalView.__super__.constructor.apply(this,arguments)}return extend(ModalView,superClass),ModalView.prototype.events=function(){return{"click .modal-backdrop":"onClickDismiss","click .dismiss":"onClickDismiss","click .success":"onSubmit"}},ModalView.prototype.render=function(){return this.$el.html(modalTemplate({source:this.presenter()})),this.$("form").on("submit",_.bind(this.onSubmit,this)),this},ModalView.prototype.initialize=function(options){this.options=options},ModalView.prototype.disablePrimaryButton=function(){return this.$(".btn-primary").addClass("disabled")},ModalView.prototype.enableButtons=function(){return this.$(".btn").removeClass("disabled")},ModalView.prototype.onSubmit=function(e){e.preventDefault(),this.disablePrimaryButton(),this.trigger("success",this);if(!this.options.keepalive)return this.remove()},ModalView.prototype.onClickDismiss=function(){this.trigger("dismiss",this);if(!this.options.keepalive)return this.remove()},ModalView.prototype.presenter=function(){return{html:this.options.html,header:this.options.header,body:this.options.body,footer:this.options.footer}},ModalView.prototype.getValues=function(){return this.$("form").formData()},ModalView}(Backbone.View)},{"./view-helpers/t/modal":181}],148:[function(require,module,exports){var PublicDomainArticleTrackView,TrackView,template,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;TrackView=require("../views/track_view"),template=require("./view-helpers/t/tracks/public_domain_article"),module.exports=PublicDomainArticleTrackView=function(superClass){function PublicDomainArticleTrackView(){return PublicDomainArticleTrackView.__super__.constructor.apply(this,arguments)}return extend(PublicDomainArticleTrackView,superClass),PublicDomainArticleTrackView.prototype.className=function(){var name;return name="item-box track",this.model.get("repeated")&&(name+=" hidden"),name},PublicDomainArticleTrackView.prototype.template=template,PublicDomainArticleTrackView}(TrackView)},{"../views/track_view":161,"./view-helpers/t/tracks/public_domain_article":191}],149:[function(require,module,exports){var CONTAINER_CLASS,CONTAINER_ID,ResponseView,responseTemplate,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;responseTemplate=require("./view-helpers/t/response"),CONTAINER_ID="js-response-container",CONTAINER_CLASS="response-container response_container",module.exports=ResponseView=function(superClass){function ResponseView(){return ResponseView.__super__.constructor.apply(this,arguments)}return extend(ResponseView,superClass),ResponseView.prototype.events={"click .close-btn":"hide"},ResponseView.prototype.initialize=function(options){var base;return this.options=options,(base=this.options).type==null&&(base.type="notice"),this.render()},ResponseView.prototype.render=function(){return this.$el.html(responseTemplate(this.presenter())).addClass(this.options.type+"-response response_message-"+this.options.type).appendTo(this.findContainer()),this.shown=!0,this.options.keep||setTimeout(function(_this){return function(){return _this.hide()}}(this),this.options.time||3e3),this},ResponseView.prototype.hide=function(){if(this.shown)return this.$el.fadeOut({done:function(_this){return function(){return _this.shown=!1,_this.$el.remove()}}(this)})},ResponseView.prototype.findContainer=function(){return this.$container||(this.$container=$("#"+CONTAINER_ID),this.$container.length||(this.$container=$("<div id='"+CONTAINER_ID+"' class='"+CONTAINER_CLASS+"'></div>"),this.$container.appendTo("body"))),this.$container},ResponseView.prototype.presenter=function(){return{keep:this.options.keep,message:this.options.message,type:this.options.type,icon:this.options.icon}},ResponseView}(Backbone.View)},{"./view-helpers/t/response":183}],150:[function(require,module,exports){var LoginModalView,ResponsiveButtonView,lock,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;LoginModalView=require("./login_modal_view"),lock=require("../util/misc").lock,module.exports=ResponsiveButtonView=function(superClass){function ResponsiveButtonView(){return ResponsiveButtonView.__super__.constructor.apply(this,arguments)}var textRenderer;return extend(ResponsiveButtonView,superClass),ResponsiveButtonView.prototype.activeClass="btn-primary",ResponsiveButtonView.prototype.deactiveClass="btn-default",textRenderer=function(name){return function(){return I18n.t(this.namespace+"."+name)}},ResponsiveButtonView.prototype.namespace="js.views.responsive_button_view",ResponsiveButtonView.prototype.activeText=textRenderer("active"),ResponsiveButtonView.prototype.deactiveText=textRenderer("deactive"),ResponsiveButtonView.prototype.activatingText=textRenderer("activating"),ResponsiveButtonView.prototype.deactivatingText=textRenderer("deactivating"),ResponsiveButtonView.prototype.execute=function(){return this.model.toggleFollowing()},ResponsiveButtonView.prototype.modalSettings={action:null,target:null,type:"ResponsiveButtonView"},ResponsiveButtonView.prototype.isActive=function(){return!this.model.get("following")},ResponsiveButtonView.prototype.bindRenderEvent=function(){return this.listenTo(this.model,"change:following",this.render)},ResponsiveButtonView.prototype.events={click:"onClick"},ResponsiveButtonView.prototype.initialize=function(){return this.bindRenderEvent()},ResponsiveButtonView.prototype.onClick=lock(function(free,e){var prevText;return Qiita.user?(prevText=this.$el.text(),this.disable(),this.isActive()?this.showActivatingText():this.showDeactivatingText(),this.execute().always(function(_this){return function(){return _this.enable(),free()}}(this)).fail(function(_this){return function(){return _this.$el.text(prevText)}}(this))):this.showLoginModal?this.showLoginModal(free):free()}),ResponsiveButtonView.prototype.render=function(){return this.isActive()?(this.activeClass&&this.$el.addClass(this.activeClass),this.deactiveClass&&this.$el.removeClass(this.deactiveClass),this.$el.html(_.result(this,"activeText"))):(this.deactiveClass&&this.$el.addClass(this.deactiveClass),this.activeClass&&this.$el.removeClass(this.activeClass),this.$el.html(_.result(this,"deactiveText")))},ResponsiveButtonView.prototype.disable=function(){return this.$el.addClass("disabled")},ResponsiveButtonView.prototype.showDeactivatingText=function(){if(this.deactivatingText)return this.$el.html(_.result(this,"deactivatingText"))},ResponsiveButtonView.prototype.showActivatingText=function(){if(this.activatingText)return this.$el.html(_.result(this,"activatingText"))},ResponsiveButtonView.prototype.enable=function(){return this.$el.removeClass("disabled")},ResponsiveButtonView.prototype.showLoginModal=function(free){var view;return view=new LoginModalView(_.result(this,"modalSettings")),view.on("dismiss",function(){return free()}),$("body").append(view.render().el)},ResponsiveButtonView}(Backbone.View)},{"../util/misc":113,"./login_modal_view":145}],151:[function(require,module,exports){var ScrollChaserView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=ScrollChaserView=function(superClass){function ScrollChaserView(){return ScrollChaserView.__super__.constructor.apply(this,arguments)}return extend(ScrollChaserView,superClass),ScrollChaserView.prototype.el=".js-scroll-chaser-container",ScrollChaserView.prototype.initialize=function(){return this.$el.find(".js-scroll-chaser-fixed").scrollChaser({wrapper:this.$el})},ScrollChaserView}(Backbone.View)},{}],152:[function(require,module,exports){var PasswordStrengthView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=PasswordStrengthView=function(superClass){function PasswordStrengthView(){return PasswordStrengthView.__super__.constructor.apply(this,arguments)}var I18N_NAME_SPACE;return extend(PasswordStrengthView,superClass),I18N_NAME_SPACE="js.views.settings.password_strength_view.",PasswordStrengthView.prototype.initialize=function(){var strengthes;return this.$el.append('<span id="js-password_verdict" class="form-control-feedback password_verdict" />'),strengthes=_.map(["very_weak","weak","medium","strong","very_strong"],function(name){return I18n.t(I18N_NAME_SPACE+"strength."+name)}),this.$("input").pwstrength({common:{minChar:8},ui:{bootstrap2:!1,showStatus:!0,showProgressBar:!1,verdicts:strengthes,viewports:{verdict:"#js-password_verdict"}}})},PasswordStrengthView}(Backbone.View)},{}],153:[function(require,module,exports){var FormView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=FormView=function(superClass){function FormView(){return FormView.__super__.constructor.apply(this,arguments)}var I18N_NAME_SPACE;return extend(FormView,superClass),I18N_NAME_SPACE="js.views.settings.profiles.form_view.",FormView.prototype.events={submit:"onSubmit"},FormView.prototype.initialize=function(){var el;this.$urlNameGroup=this.$(".url_name-group"),this.$urlNameMessage=this.$(".url_name-validation-message"),this.$("#user_url_name").on("focus",_.bind(this.resetUrlNameMessage,this)).on("blur",_.bind(this.validateUrlNameAsync,this)),el=this.$("#js-user"),this.can_update_url_name=el.length>0;if(this.can_update_url_name)return this.initUrlName=el.data("url_name")},FormView.prototype.renderValidationMessage=function(type,level,url_name){var html;return this.$urlNameGroup.addClass(level),html=I18n.t(I18N_NAME_SPACE+"url_name."+type),type==="already_exists"&&this.initUrlName===url_name+"@github"&&(html+="<br/>"+I18n.t(I18N_NAME_SPACE+"url_name.please_merge")),this.$urlNameMessage.html(html).show()},FormView.prototype.resetUrlNameMessage=function(){return this.$urlNameGroup.removeClass("error").removeClass("success"),this.$urlNameMessage.hide()},FormView.prototype.validateUrlNameAsync=function(){var url_name;url_name=this.getValues().url_name;if(url_name!==this.initUrlName)return this.model.validateUrlName(url_name).done(function(_this){return function(type){return _this.renderValidationMessage(type,"success",url_name),_this.invalidUrlName=!1}}(this)).fail(function(_this){return function(type){return _this.renderValidationMessage(type,"error",url_name),_this.invalidUrlName=!0}}(this))},FormView.prototype.onSubmit=function(e){if(this.invalidUrlName)return e.preventDefault();if(!this.model.set(this.getValues(),{varidate:!0}))return e.preventDefault()},FormView.prototype.getValues=function(){return this.$el.formData().user},FormView}(Backbone.View)},{}],154:[function(require,module,exports){var UserCountChartView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=UserCountChartView=function(superClass){function UserCountChartView(){return UserCountChartView.__super__.constructor.apply(this,arguments)}return extend(UserCountChartView,superClass),UserCountChartView.prototype.render=function(){var c3,ref;return c3=require("c3"),(ref=this.chart)!=null&&ref.destroy(),this.chart=c3.generate(_.extend({},this.getChartData(),{bindto:this.$(".js-userCountChart").get(0)}))},UserCountChartView.prototype.getChartData=function(){return this.$el.data("props")},UserCountChartView}(Backbone.View)},{c3:233}],155:[function(require,module,exports){var StockButtonView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=StockButtonView=function(superClass){function StockButtonView(){return StockButtonView.__super__.constructor.apply(this,arguments)}return extend(StockButtonView,superClass),StockButtonView.prototype.el="body",StockButtonView.prototype.events={"click .js-stockButton":"stockItem"},StockButtonView.prototype.stockItem=function(e){var $el,path;return e.preventDefault(),path=$(e.currentTarget).data("path"),$el=$(".js-stockButton[data-path='"+path+"']"),$el.find(".btn").prop("disabled","disabled"),$el.hasClass("stocked")?this.unstock(path+"/unstock",$el):this.stock(path+"/stock",$el)},StockButtonView.prototype.unstock=function(url,$el){return $.ajax({url:url,type:"POST",success:function(){var $counter,counter,value;return!(counter=$el.data("counter"))||($counter=$(counter),value=parseInt($counter.text(),10),$counter.text(Math.max(value-1,0))),$el.removeClass("stocked")},complete:function(){return $el.find(".btn").prop("disabled",!1)}})},StockButtonView.prototype.stock=function(url,$el){return $.ajax({url:url,type:"POST",success:function(){var $counter,counter,value;return!(counter=$el.data("counter"))||($counter=$(counter),value=parseInt($counter.text(),10),$counter.text(value+1)),$el.addClass("stocked")},complete:function(){return $el.find(".btn").prop("disabled",!1)}})},StockButtonView}(Backbone.View)},{}],156:[function(require,module,exports){var StreamContainerView,StreamView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;StreamView=require("./stream_view"),module.exports=StreamContainerView=function(superClass){function StreamContainerView(){return StreamContainerView.__super__.constructor.apply(this,arguments)}return extend(StreamContainerView,superClass),StreamContainerView.prototype.el=".streamContainer",StreamContainerView.prototype.activeType=null,StreamContainerView.prototype.events={"click nav a":"onClickTab"},StreamContainerView.prototype.initialize=function(options){var collection,ref,results,type;this.$nav=this.$("nav"),this.collections=options.collections,ref=this.collections,results=[];for(type in ref){if(!hasProp.call(ref,type))continue;collection=ref[type],this.listenTo(collection,"active",this.changeActiveTab),results.push(new StreamView({collection:collection,el:this.$("."+type+"-stream")}))}return results},StreamContainerView.prototype.changeActiveTab=function(collection){return this.activeType=collection.type,this.$nav.find(".active").removeClass("active"),this.$nav.find("."+this.activeType+"-tab").addClass("active")},StreamContainerView.prototype.onClickTab=function(e){return e.preventDefault(),this.navigateTo($(e.target))},StreamContainerView.prototype.navigateTo=_.debounce(function($target){var type;return type=$target.parent().data("type"),this.activeType===type?this.collections[this.activeType].fetchPrevPage():Backbone.history.navigate($target.attr("href"),!0)},1e3,!0),StreamContainerView}(Backbone.View)},{"./stream_view":157}],157:[function(require,module,exports){var FollowingUserTrackView,ItemActivityView,PublicDomainArticleTrackView,StreamView,TagActivityView,TagFollowlistTrackView,UserActivityView,circleLoadingTemplate,feedTutorialTemplate,lock,moreButtonTemplate,noPostsYetTemplate,streamFailToFetchTemplate,streamInnerTemplate,streamSearchFormTemplate,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;circleLoadingTemplate=require("./view-helpers/t/stream/circle-loading"),feedTutorialTemplate=require("./view-helpers/t/teams/feed-tutorial"),streamSearchFormTemplate=require("./view-helpers/t/stream/search_form"),noPostsYetTemplate=require("./view-helpers/t/no_posts_yet"),streamInnerTemplate=require("./view-helpers/t/stream/inner"),streamFailToFetchTemplate=require("./view-helpers/t/stream/fail_to_fetch"),moreButtonTemplate=require("./view-helpers/t/stream/more-button"),FollowingUserTrackView=require("../views/following_user_track_view"),PublicDomainArticleTrackView=require("../views/public_domain_article_track_view"),TagFollowlistTrackView=require("../views/tag_followlist_track_view"),lock=require("../util/misc").lock,ItemActivityView=require("./activity/item_view"),TagActivityView=require("./activity/tag_view"),UserActivityView=require("./activity/user_view"),module.exports=StreamView=function(superClass){function StreamView(){return StreamView.__super__.constructor.apply(this,arguments)}return extend(StreamView,superClass),StreamView.prototype.appendBuffer=null,StreamView.prototype.prependBuffer=null,StreamView.prototype.shown=!1,StreamView.prototype.events={"click .more-button":"onClickMoreButton","click .flush-button":"onClickFlushButton","keypress .more-button":"onKeyPressMoreButton"},StreamView.prototype.initialize=function(){var $textField,ref;this.appendBuffer=[],this.prependBuffer=[],this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.addToBuffer),this.listenTo(this.collection,"active",this.show),this.listenTo(this.collection,"deactive",this.hide),this.listenTo(this.collection,"error",this.renderFetchError);if((ref=this.collection.type)==="stock"||ref==="mine")this.$el.append(streamSearchFormTemplate({stocked:this.collection.type==="stock",type:this.collection.type})),$textField=this.$(".js-stream_searchForm_textField"),$textField.on("keyup",function(_this){return function(){var query;return query=$textField.val(),_this.collection.type==="mine"&&(query+=" user:"+Qiita.user.url_name),_this.$(".js-stream_searchForm_searchQuery").val(query)}}(this));return this.$inner=$("<div></div>"),this.$inner.html(circleLoadingTemplate()),this.$el.append(this.$inner)},StreamView.prototype.show=function(){return this.$el.addClass("active")},StreamView.prototype.hide=function(){return this.$el.removeClass("active")},StreamView.prototype.showFlushButton=function(){return this.shown||(this.$(".flush-button").addClass("active"),this.shown=!0),this.$(".flush-button").html(I18n.t("js.stream.notification",{count:this.prependBuffer.length}))},StreamView.prototype.render=function(){var html,ref;return this.collection.isEmpty()?((ref=Qiita.team)!=null?ref.name:void 0)?(html=function(){var ref1;switch(this.collection.type){case"following":return feedTutorialTemplate({teamName:(ref1=Qiita.team)!=null?ref1.name:void 0});case"stock":return"No stocks.";case"mine":return"No posts."}}.call(this),this.$inner.html(html)):this.$inner.html(noPostsYetTemplate()):(this.$inner.html(streamInnerTemplate()),this.renderModels(this.collection.models),(this.collection.hasNext===void 0||this.collection.constructor.checkExistenceOfNextPage(this.collection))&&this.$inner.find(".tail").html(moreButtonTemplate())),this},StreamView.prototype.renderModels=function(models,append){var el;return el=document.createDocumentFragment(),_.chain(models).sortBy(function(model){return-model.get("created_at_as_seconds")}).each(function(_this){return function(model){return el.appendChild(_this.createView(model).render().el)}}(this)),this.$inner.children(".activities")[append?"append":"prepend"](el)},StreamView.prototype.renderFetchError=function(){if(this.collection.isEmpty())return this.$inner.html(streamFailToFetchTemplate())},StreamView.prototype.onClickMoreButton=function(e){return this.loadMoreItems(e)},StreamView.prototype.onKeyPressMoreButton=function(e){if(e.keyCode===13)return this.loadMoreItems(e)},StreamView.prototype.onClickFlushButton=function(){return this.$(".flush-button").removeClass("active"),this.shown=!1,this.renderModels(this.prependBuffer,!1),this.prependBuffer=[]},StreamView.prototype.loadMoreItems=lock(function(free){return this.$(".tail").html(circleLoadingTemplate()),this.collection.fetchNextPage().done(function(_this){return function(items){return _this.$(".tail").html(_this.collection.hasNext===!0||_this.collection.hasNext===void 0&&items.length?moreButtonTemplate():""),free()}}(this))}),StreamView.prototype.createView=function(model){var viewClass;return viewClass=function(){switch(model.get("target_content_type")){case"item":return ItemActivityView;case"user":return UserActivityView;case"tag":return TagActivityView
;default:switch(model.get("trackable_type")){case"Comment":case"PublicDomainArticle":case"StockItem":case"Tagging":return PublicDomainArticleTrackView;case"FollowingUser":return FollowingUserTrackView;case"TagFollowlist":return TagFollowlistTrackView}}}(),new viewClass({model:model,streamType:this.collection.type})},StreamView.prototype.addToBuffer=function(model,collection,options){return options.append?(_.isEmpty(this.appendBuffer)&&_.defer(function(_this){return function(){return _this.renderModels(_this.appendBuffer,!0),_this.appendBuffer=[]}}(this)),this.appendBuffer.push(model)):(this.prependBuffer.push(model),this.showFlushButton()),this},StreamView}(Backbone.View)},{"../util/misc":113,"../views/following_user_track_view":135,"../views/public_domain_article_track_view":148,"../views/tag_followlist_track_view":158,"./activity/item_view":118,"./activity/tag_view":119,"./activity/user_view":120,"./view-helpers/t/no_posts_yet":182,"./view-helpers/t/stream/circle-loading":184,"./view-helpers/t/stream/fail_to_fetch":185,"./view-helpers/t/stream/inner":186,"./view-helpers/t/stream/more-button":187,"./view-helpers/t/stream/search_form":188,"./view-helpers/t/teams/feed-tutorial":189}],158:[function(require,module,exports){var TagFollowlistTrackView,TrackView,template,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;TrackView=require("./track_view"),template=require("./view-helpers/t/tracks/tag_followlist"),module.exports=TagFollowlistTrackView=function(superClass){function TagFollowlistTrackView(){return TagFollowlistTrackView.__super__.constructor.apply(this,arguments)}return extend(TagFollowlistTrackView,superClass),TagFollowlistTrackView.prototype.className="tag-box",TagFollowlistTrackView.prototype.template=template,TagFollowlistTrackView}(TrackView)},{"./track_view":161,"./view-helpers/t/tracks/tag_followlist":192}],159:[function(require,module,exports){var TagDataParser,TagFormView,tagCompleteTemplate,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;tagCompleteTemplate=require("./view-helpers/t/autocomplete/tag"),TagDataParser=require("tag-data-parser"),module.exports=TagFormView=function(superClass){function TagFormView(){return TagFormView.__super__.constructor.apply(this,arguments)}var ENTER_KEY_CODE;return extend(TagFormView,superClass),ENTER_KEY_CODE=13,TagFormView.prototype.el=".js-tagFormView",TagFormView.prototype.events={"focusin input":"onFocusIn","focusout input":"onFocusOut","keydown input":"onKeyDown"},TagFormView.prototype.initialize=function(options){return this.input=this.$("input").get(0)},TagFormView.prototype.render=function(){return this.applyTextcomplete(),this.applyHighlight(),this},TagFormView.prototype.applyTextcomplete=function(){var strategy;return strategy={match:/(^|\s)([^<>;"'\s]+)$/,index:2,search:function(input,callback){if(input.indexOf(":")!==-1){callback([]);return}return $.getJSON("/api/tags",{q:input}).done(function(data){return callback(data)}).fail(function(){return callback([])})},cache:!0,template:function(tag){return tagCompleteTemplate({tag:tag})},replace:function(tag){return"$1"+tag.name+" "}},this.$("input").textcomplete([strategy])},TagFormView.prototype.applyHighlight=function(){var strategy;return strategy={match:/[^ \f\n\r\t]+/g,css:{"background-color":"#D9EAFE"}},this.$("input").overlay([strategy])},TagFormView.prototype.onFocusIn=function(event){var input;return input=event.currentTarget,_.defer(function(){var allSelected;allSelected=input.selectionStart===0&&input.selectionEnd===input.value.length;if(!allSelected)return;return input.setSelectionRange(input.value.length,input.value.length)})},TagFormView.prototype.onFocusOut=function(event){return this.model.set("tag_data",this.getValue(),{silent:!0})},TagFormView.prototype.onKeyDown=function(event){if(event.keyCode===ENTER_KEY_CODE)return!1},TagFormView.prototype.getValue=function(){var error,error1,tag_data,tag_notation;tag_notation=this.input.value.trim();try{tag_data=TagDataParser.parse(tag_notation)}catch(error1){error=error1,tag_data=[],tag_data.notation=tag_notation,tag_data.syntaxError=error}return tag_data},TagFormView}(Backbone.View)},{"./view-helpers/t/autocomplete/tag":176,"tag-data-parser":731}],160:[function(require,module,exports){var FollowButtonView,LoginModalView,ResponsiveButtonView,Tag,lock,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ResponsiveButtonView=require("../responsive_button_view"),LoginModalView=require("../login_modal_view"),Tag=require("../../models/tag"),lock=require("../../util/misc").lock,module.exports=FollowButtonView=function(superClass){function FollowButtonView(){return FollowButtonView.__super__.constructor.apply(this,arguments)}var FOLLOWING_CLASS_NAME;return extend(FollowButtonView,superClass),FOLLOWING_CLASS_NAME="following",FollowButtonView.prototype.events={click:"onClick"},FollowButtonView.prototype.initialize=function(){return this.model=new Tag({url_name:this.$el.data("url_name"),following:this.$el.hasClass(FOLLOWING_CLASS_NAME)}),this.listenTo(this.model,"change:following",this.render)},FollowButtonView.prototype.onClick=lock(function(free,e){return e.preventDefault(),this.$el.find(".btn").prop("disabled","disabled"),Qiita.user?this.model.toggleFollowing().always(function(_this){return function(){return _this.$el.find(".btn").prop("disabled",!1),free()}}(this)):this.showLoginModal().on("dismiss",function(_this){return function(){return _this.$el.find(".btn").prop("disabled",!1),free()}}(this)),free()}),FollowButtonView.prototype.render=function(){return this.model.get("following")?this.$el.addClass(FOLLOWING_CLASS_NAME):this.$el.removeClass(FOLLOWING_CLASS_NAME)},FollowButtonView.prototype.showLoginModal=function(){var modalView;return modalView=new LoginModalView({action:"followTag",target:this.$el.data("name"),type:"followTag:"+this.$el.data("position")}),$("body").append(modalView.render().el),modalView},FollowButtonView}(ResponsiveButtonView)},{"../../models/tag":78,"../../util/misc":113,"../login_modal_view":145,"../responsive_button_view":150}],161:[function(require,module,exports){var MathJaxHelper,TrackView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;MathJaxHelper=require("../util/mathjax-helper"),module.exports=TrackView=function(superClass){function TrackView(){return TrackView.__super__.constructor.apply(this,arguments)}var CLASS_NAME_FOR_EXPANDED,SELECTOR_FOR_MAX_JAX_HELPER_TARGET,STREAM_TYPE_FOR_ANALYSIS;return extend(TrackView,superClass),CLASS_NAME_FOR_EXPANDED="expanded",SELECTOR_FOR_MAX_JAX_HELPER_TARGET=".item-body",STREAM_TYPE_FOR_ANALYSIS="following",TrackView.prototype.contract=function(){return this.$el.removeClass(CLASS_NAME_FOR_EXPANDED)},TrackView.prototype.events={"click .close":"contract","click .expand":"expand","dblclick .item-box-container-inner":"contract"},TrackView.prototype.ensureMaxJaxHelperRunned=function(){if(!this.mathJaxHelperRunned)return this.runMathJaxHelper()},TrackView.prototype.expand=function(){return this.ensureMaxJaxHelperRunned(),this.$el.addClass(CLASS_NAME_FOR_EXPANDED)},TrackView.prototype.getRendererFunction=function(){return this.template},TrackView.prototype.initialize=function(){return this.mathJaxHelperRunned=!1},TrackView.prototype.render=function(){return this.$el.html(this.getRendererFunction()(this.model.toJSON())),this},TrackView.prototype.runMathJaxHelper=function(){return MathJaxHelper.run(this.$(SELECTOR_FOR_MAX_JAX_HELPER_TARGET)),this.mathJaxHelperRunned=!0},TrackView}(Backbone.View)},{"../util/mathjax-helper":112}],162:[function(require,module,exports){var ActivityChartView,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;module.exports=ActivityChartView=function(superClass){function ActivityChartView(){return ActivityChartView.__super__.constructor.apply(this,arguments)}return extend(ActivityChartView,superClass),ActivityChartView.prototype.initialize=function(){this.chart=this.$el.data("chart"),this.data=this.$el.data("props");if(this.chart!=="tags")return this.data.data.color=function(){return null}},ActivityChartView.prototype.render=function(){var c3;return c3=require("c3"),c3.generate(_.extend({},this.data,{bindto:this.$(".js-userActivityChartSVG").get(0)}))},ActivityChartView}(Backbone.View)},{c3:233}],163:[function(require,module,exports){var FollowButtonView,LoginModalView,User,lock,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;LoginModalView=require("../../views/login_modal_view"),User=require("../../models/user"),lock=require("../../util/misc").lock,module.exports=FollowButtonView=function(superClass){function FollowButtonView(){return FollowButtonView.__super__.constructor.apply(this,arguments)}var FOLLOWING_CLASS_NAME;return extend(FollowButtonView,superClass),FOLLOWING_CLASS_NAME="following",FollowButtonView.prototype.events={click:"onClick"},FollowButtonView.prototype.initialize=function(){return this.model=new User({url_name:this.$el.data("urlName"),following:this.$el.hasClass(FOLLOWING_CLASS_NAME)}),this.listenTo(this.model,"change:following",this.render)},FollowButtonView.prototype.onClick=lock(function(free,e){return e.preventDefault(),this.$el.find(".btn").prop("disabled","disabled"),Qiita.user?this.model.toggleFollowing().always(function(_this){return function(){return _this.$el.find(".btn").prop("disabled",!1),free()}}(this)):this.showLoginModal().on("dismiss",function(_this){return function(){return _this.$el.find(".btn").prop("disabled",!1),free()}}(this))}),FollowButtonView.prototype.render=function(){return this.model.get("following")?this.$el.addClass(FOLLOWING_CLASS_NAME):this.$el.removeClass(FOLLOWING_CLASS_NAME)},FollowButtonView.prototype.showLoginModal=function(){var modalView;return modalView=new LoginModalView({action:"followUser",target:this.$el.data("urlName"),type:"followUser:"+this.$el.data("position")}),$("body").append(modalView.render().el),modalView},FollowButtonView}(Backbone.View)},{"../../models/user":80,"../../util/misc":113,"../../views/login_modal_view":145}],164:[function(require,module,exports){var AutocompleteMixin,app,browser,emojiTemplate,langTemplate,mentionTeamsTemplate,mentionTemplate,titleTemplate;emojiTemplate=require("../t/autocomplete/emoji"),langTemplate=require("../t/autocomplete/lang"),mentionTemplate=require("../t/autocomplete/mention"),mentionTeamsTemplate=require("../t/autocomplete/mention_teams"),titleTemplate=require("../t/autocomplete/title"),browser=require("../../../util/browser"),app=require("../../../application/app"),module.exports=AutocompleteMixin={bindMixin:function(){var check,isInCode;return this.$textarea==null&&(this.$textarea=this.$("textarea")),isInCode=!1,check=function(text){var match;return match=text.match(/`{3,}/g),match&&match.length%2?isInCode=!0:(match=text.match(/`/g),match&&match.length%2?isInCode=!0:isInCode=!1)},this.$textarea.textcomplete([{match:/(^|\s|\():([\-\+@\w]*)$/,search:function(term,callback){return $.getJSON("/api/emoji",{q:term}).done(function(data){return callback(data)}).fail(function(){return callback([])})},replace:function(datum){return"$1:"+datum.value+": "},template:function(datum){return emojiTemplate(datum)},cache:!0,context:function(text){return check(text),!isInCode}},{match:/(^|\s)(([1-9][0-9]*)x([1-9][0-9]*))$/,search:function(term,callback){return callback([term])},replace:function(format){var _x,_y,body,column,header,i,j,k,l,ref,results,results1,results2,results3,splitter,x,y;return ref=format.split("x"),_x=ref[0],_y=ref[1],x=parseInt(_x,10),y=parseInt(_y,10),header="|"+function(){results=[];for(var i=1;1<=x?i<=x:i>=x;1<=x?i++:i--)results.push(i);return results}.apply(this).map(function(n){return" "+n+" |"}).join(""),splitter="|"+function(){results1=[];for(var j=1;1<=x?j<=x:j>=x;1<=x?j++:j--)results1.push(j);return results1}.apply(this).map(function(n){return":-:|"}).join(""),column="|"+function(){results2=[];for(var k=1;1<=x?k<=x:k>=x;1<=x?k++:k--)results2.push(k);return results2}.apply(this).map(function(n){return"   |"}).join(""),body=function(){results3=[];for(var l=1;1<=y?l<=y:l>=y;1<=y?l++:l--)results3.push(l);return results3}.apply(this).map(function(){return column}).join("\n"),"$1"+header+"\n"+splitter+"\n"+body},template:function(){return"テーブルを挿入"},context:function(text){return!isInCode}},{match:/(^|\s|\()@(\S*)$/,search:function(term,callback){var data,reg;return Qiita.mentionCandidates&&(reg=new RegExp("^"+term,"i"),data=_.filter(Qiita.mentionCandidates,function(user){return reg.test(user.url_name)}),callback(data,!0)),term===""&&!app.currentTeam?callback([]):$.getJSON("/api/mentionable_users",{q:term,team_article_uuid:Qiita.teamArticleUuid}).done(function(data){return callback(data)}).fail(function(){return callback([])})},replace:function(datum){return"$1@"+datum.url_name+" "},template:function(datum){var template;return template=app.currentTeam?mentionTeamsTemplate:mentionTemplate,template({url_name:datum.url_name,name:_.escape(datum.name||""),image:datum.profile_image_url})},cache:!0,idProperty:"url_name",context:function(text){return!isInCode}},{match:/(^|\n)```([^\s:]+)$/,search:function(term,callback){return $.getJSON("/api/lang",{q:term}).done(function(data){return callback(data)}).fail(function(){return callback([])})},replace:function(datum){return"$1```"+datum.value+"\n"},template:function(datum){return langTemplate({value:datum.value==="\\n"?"":datum.value,name:datum.name})},cache:!0,context:function(text){return isInCode}}],{debounce:100})},unbindMixin:function(){var ref;return(ref=this.$textarea)!=null&&ref.textcomplete("destroy"),this.textarea=this.$textarea=null}}},{"../../../application/app":12,"../../../util/browser":105,"../t/autocomplete/emoji":172,"../t/autocomplete/lang":173,"../t/autocomplete/mention":174,"../t/autocomplete/mention_teams":175,"../t/autocomplete/title":177}],165:[function(require,module,exports){var AutoindentMixin,INDENT,LIST_REGEXP;LIST_REGEXP=/^(\s*)(-|\+|\*|\d+\.)(\s+)(.*)/,INDENT=4,module.exports=AutoindentMixin={bindMixin:function(){return this.$textarea==null&&(this.$textarea=this.$("textarea")),this.textarea==null&&(this.textarea=this.$textarea.get(0)),this.$textarea.on({"keydown.autoindent":_.bind(this.autoIndent,this),"textComplete:show.autoindent":function(_this){return function(){return _this.autoCompleting=!0}}(this),"textComplete:hide.autoindent":function(_this){return function(){return _this.autoCompleting=!1}}(this)})},unbindMixin:function(){var ref;return(ref=this.$textarea)!=null&&ref.off(".autoindent"),this.$textarea=this.textarea=null},autoIndent:function(e){if(this.autoCompleting)return;if(this.textarea.selectionStart!==this.textarea.selectionEnd)return;switch(e.keyCode){case 13:return this.onPressEnter(e);case 9:return this.onPressTab(e)}},onPressEnter:function(e){var autoCompleteListDirective,caretToEnd,headToCaret,headToLastLine,lastLine,ref,textLengthBeforeAppendingNewline;return ref=this.parseTextareaValue(),headToCaret=ref[0],caretToEnd=ref[1],lastLine=ref[2],headToLastLine=ref[3],textLengthBeforeAppendingNewline=this.textarea.value.length,autoCompleteListDirective=function(_this){return function(e){var directive,match,number;if(_this.textarea.value.length===textLengthBeforeAppendingNewline){_.defer(autoCompleteListDirective,e);return}if(e.originalEvent.defaultPrevented)return;match=lastLine.match(LIST_REGEXP);if(!match)return;return headToCaret+="\n",directive=match[2],match[4]?directive.length===1?headToCaret+=match[1]+directive+match[3]:(number=parseInt(directive.substr(0,directive.length-1),10)+1,headToCaret+=""+match[1]+number+"."+match[3]):headToCaret=headToLastLine+"\n",_this.textarea.value=headToCaret+caretToEnd,_this.textarea.selectionStart=_this.textarea.selectionEnd=headToCaret.length}}(this),_.defer(autoCompleteListDirective,e)},onPressTab:function(e){var caretToEnd,currentIndentLevel,headToCaret,headToLastLine,i,indent,indentSize,lastLine,match,ref;ref=this.parseTextareaValue(),headToCaret=ref[0],caretToEnd=ref[1],lastLine=ref[2],headToLastLine=ref[3];if(match=lastLine.match(LIST_REGEXP))return e.preventDefault(),currentIndentLevel=Math.floor(match[1].length/INDENT),indentSize=Math.max((currentIndentLevel+(e.shiftKey?-1:1))*INDENT,0),indent=function(){var j,ref1,results;results=[];for(i=j=0,ref1=indentSize;0<=ref1?j<ref1:j>ref1;i=0<=ref1?++j:--j)results.push(" ");return results}().join(""),headToCaret=headToLastLine+indent+match[2]+match[3]+match[4],this.textarea.value=headToCaret+caretToEnd,this.textarea.selectionStart=this.textarea.selectionEnd=headToCaret.length},parseTextareaValue:function(){var caretPosition,caretToEnd,headToCaret,headToLastLine,lastLine,splitedVal,value;return value=this.textarea.value,caretPosition=this.textarea.selectionEnd,headToCaret=value.substring(0,caretPosition),caretToEnd=value.substring(caretPosition),splitedVal=headToCaret.split("\n"),lastLine=splitedVal[splitedVal.length-1],headToLastLine=splitedVal.slice(0,splitedVal.length-1).join("\n"),headToLastLine&&(headToLastLine+="\n"),[headToCaret,caretToEnd,lastLine,headToLastLine]}}},{}],166:[function(require,module,exports){var Draggable;module.exports=Draggable={draggable:!0,_initPosition:{elX:null,elY:null,mouseX:null,mouseY:null},_dragging:!1,_dname:null,initializeDraggable:function(position){return this._dname="draggable"+this.cid,$(document).on("mousemove."+this._dname,_.bind(this._dragMove,this)).on("mouseup."+this._dname,_.bind(this._dragEnd,this))},removeDraggable:function(){return $(document).off("."+this._dname)},dragStart:function(e){return this._caribrate(e),this._dragging=!0},_dragMove:_.throttle(function(e){if(!this._dragging)return;return this._followDrag(e)},20),_dragEnd:function(){return this._dragging=!1},_caribrate:function(e){var offset;return offset=this.$el.position(),this._initPosition.elX=offset.left,this._initPosition.elY=offset.top,this._initPosition.mouseX=e.clientX,this._initPosition.mouseY=e.clientY},_followDrag:function(e){var diffX,diffY;return diffX=e.clientX-this._initPosition.mouseX,diffY=e.clientY-this._initPosition.mouseY,this.$el.css({top:this._initPosition.elY+diffY,left:this._initPosition.elX+diffX})}}},{}],167:[function(require,module,exports){var I18N_NAMESPACE,ImageFile,ImageResolution,compressImage,notification,numberToHumanSize;notification=require("../../../application/notification"),compressImage=require("../../../util/compress_image"),numberToHumanSize=require("../../../util/misc").numberToHumanSize,I18N_NAMESPACE="js.mixins.image_uploadable.",ImageFile=require("image-file"),ImageResolution=function(){function ImageResolution(metadata1){this.metadata=metadata1}var IOS_RETINA_DISPLAYS,IPHONE_SCREENSHOT_EXIF_COMMENT,RETINA_2X_PPI;return RETINA_2X_PPI=144,IOS_RETINA_DISPLAYS=[{width:640,height:960,scale:2},{width:640,height:1136,scale:2},{width:750,height:1334,scale:2},{width:1242,height:2208,scale:3},{width:1536,height:2048,scale:2},{width:2048,height:2732,scale:2}],IPHONE_SCREENSHOT_EXIF_COMMENT="<exif:UserComment>Screenshot</exif:UserComment>",ImageResolution.prototype.getScale=function(){var display,j,len;if(this.metadata.ppi===RETINA_2X_PPI)return 2;if(this.isiOSScreenshot())for(j=0,len=IOS_RETINA_DISPLAYS.length;j<len;j++){display=IOS_RETINA_DISPLAYS[j];if(this.metadata.width===display.width&&this.metadata.height===display.height)return display.scale}return 1},ImageResolution.prototype.isiOSScreenshot=function(){var ref;return((ref=this.metadata.internationalTextualData)!=null?ref.text.indexOf(IPHONE_SCREENSHOT_EXIF_COMMENT):void 0)!==-1},ImageResolution}(),window.File?module.exports={events:{drop:"onDropFile",dragover:"onDragOver",paste:"onPaste"},initialize:function(options){return this.options=options,_.bindAll(this,"checkPolicies","handlePolicyViolation","uploadFile","showProgress","finishUploading","failUploading")},render:function(){return this.renderUploadableSize(),this},onFileChange:function(e){return this.tryToUpload(e.target.files[0],"file select")},onDropFile:function(e){return e.preventDefault(),this.tryToUpload(e.originalEvent.dataTransfer.files[0],"drag and drop")},onDragOver:function(e){return e.preventDefault()},onDragHoverStart:function(e,dragEnterEvent){var hasFiles,j,len,ref,ref1,type,types;hasFiles=!1;if(dragEnterEvent!=null?(ref=dragEnterEvent.originalEvent)!=null?(ref1=ref.dataTransfer)!=null?ref1.types:void 0:void 0:void 0){types=dragEnterEvent.originalEvent.dataTransfer.types;for(j=0,len=types.length;j<len;j++){type=types[j];if(type.toLowerCase()!=="files")continue;hasFiles=!0;break}}if(hasFiles)return this.$el.addClass("drop-target")},onDragHoverEnd:function(){return this.$el.removeClass("drop-target")},onPaste:function(ev){var blob,fileItems,i,items,j,len,ref,ref1;if(items=(ref=ev.originalEvent)!=null?(ref1=ref.clipboardData)!=null?ref1.items:void 0:void 0){fileItems=_.filter(items,function(i){return i.kind==="file"});if(fileItems.length>0){for(j=0,len=fileItems.length;j<len;j++)i=fileItems[j],blob=i.getAsFile(),this.tryToUpload(blob,"paste");return ev.preventDefault()}return!0}return!0},insertText:function(text){var caretToTail,headToCaret;return headToCaret=this.textarea.value.substring(0,this.textarea.selectionEnd)+text,caretToTail=this.textarea.value.substring(this.textarea.selectionEnd),this.textarea.value=headToCaret+caretToTail,this.textarea.selectionStart=this.textarea.selectionEnd=headToCaret.length},replaceText:function(before,after){var at;return at=this.textarea.selectionStart,this.textarea.value=this.textarea.value.replace(before,after),this.textarea.selectionStart=this.textarea.selectionEnd=at+after.length-before.length},renderUploadableSize:function(){var text;if(this.remainingSize==null||this.monthlySizeLimit==null)return;return text=numberToHumanSize(this.remainingSize)+" / "+numberToHumanSize(this.monthlySizeLimit),this.$(".js-uploadableSize").text(text)},tryToUpload:function(file,action){return this.mdPlaceHolder="![uploading "+(file.name||"")+"...]()",this.insertText(this.mdPlaceHolder+"\n"),this.validateFileType(file,action).then(this.checkPolicies).then(null,this.handlePolicyViolation).then(this.uploadFile).progress(this.showProgress).then(this.parseImageMetadata).done(this.finishUploading).fail(this.failUploading)},validateFileType:function(file,action){var dfd;return dfd=$.Deferred(),/^image\/(?:png|gif|jpeg|tiff)$/.test(file.type)?dfd.resolve(file,action):(this.replaceText(this.mdPlaceHolder,"![Invalid file type: "+file.type+"]()"),dfd.reject()),dfd.promise()},checkPolicies:function(file,action,name,type){var dfd;return dfd=$.Deferred(),$.ajax({url:"/api/upload/policies",type:"POST",data:{image:{size:file.size,content_type:type||file.type,name:name||file.name||"image"},action:action},dataType:"json"}).done(function(data){return dfd.resolve(file,action,data)}).fail(function(error){return dfd.reject(file,action,error)}),dfd.promise()},handlePolicyViolation:function(file,action,error,dontResize){var error1,errorMessage,match,maxSize,sizeErrorMessage;try{sizeErrorMessage=JSON.parse(error.responseText).errors.size[0];if(!dontResize&&(match=sizeErrorMessage.match(/^must be less than (.*)$/)))return maxSize=parseInt(error.getResponseHeader("X-IMAGE-LIMIT"),10),this.resizeImage(file,action,maxSize);errorMessage="the image size "+sizeErrorMessage}catch(error1){error=error1,errorMessage="Please try again later."}return this.replaceText(this.mdPlaceHolder,'![Failed to upload "'+file.name+'": '+errorMessage+"]()")},resizeImage:function(file,action,maxSize){var dfd;return dfd=$.Deferred(),compressImage(file,maxSize).done(function(_this){return function(blob){return _this.checkPolicies(blob,action,file.name,file.type).done(function(blob,action,data){return notification.notice(I18n.t(I18N_NAMESPACE+"image_is_compressed")),dfd.resolve(blob,action,data)}).fail(function(blob,action,error){return _this.handlePolicyViolation(file,action,error,!0),dfd.reject(file,action)})}}(this)),dfd.promise()},uploadFile:function(file,action,data){var dfd,fd,key,ref,value,xhr;dfd=$.Deferred(),fd=new FormData,ref=data.form;for(key in ref)value=ref[key],fd.append(key,value);return fd.append("file",file),xhr=new XMLHttpRequest,xhr.upload.addEventListener("progress",function(e){var percentComplete;if(e.lengthComputable)return percentComplete=Math.round(e.loaded*100/e.total),dfd.notify(percentComplete)},!1),xhr.addEventListener("load",function(){var ref1;return 200<=(ref1=this.status)&&ref1<300?dfd.resolve(file,data.asset):dfd.reject(this.statusText)},!1),xhr.addEventListener("error",function(){return dfd.reject(this.statusText)},!1),xhr.addEventListener("abort",function(){return dfd.reject(this.statusText)},!1),xhr.open("POST",data.upload_url,!0),xhr.send(fd),dfd.promise()},showProgress:function(percentComplete){return console.log(percentComplete)},parseImageMetadata:function(file,asset){var dfd,fileReader;return dfd=$.Deferred(),fileReader=new FileReader,fileReader.onload=function(){var imageFile;return imageFile=new ImageFile(fileReader.result),dfd.resolve(asset,imageFile)},fileReader.readAsArrayBuffer(file),dfd.promise()},finishUploading:function(asset,metadata){return this.replaceText(this.mdPlaceHolder,this.generateImageNotation(asset,metadata)),this.remainingSize!=null&&(this.remainingSize-=asset.size),this.trigger("change:uploadableSize"),this.$textarea.trigger("change"),$.ajax({url:"/api/upload/images/"+asset.id,type:"PUT"})},failUploading:function(message){return this.replaceText(this.mdPlaceHolder,"!["+message+"]()")},generateImageNotation:function(asset,metadata){var resolution,widthPoint;return resolution=new ImageResolution(metadata),resolution.getScale()>1?(widthPoint=metadata.width/resolution.getScale(),'<img width="'+Math.round(widthPoint)+'" alt="'+asset.name+'" src="'+asset.href+'">'):"!["+asset.name+"]("+asset.href+")"},bindMixin:function(){this.$textarea==null&&(this.$textarea=this.$("textarea")),this.textarea==null&&(this.textarea=this.$textarea[0]),this.$fileInput==null&&(this.$fileInput=this.$('input[type="file"]')),this.$fileInput.on("change",_.bind(this.onFileChange,this)),this.$(".js-droptarget").draghover().on({draghoverstart:_.bind(this.onDragHoverStart,this),draghoverend:_.bind(this.onDragHoverEnd,this)}),this.remainingSize=this.$fileInput.data("remaining-size"),this.monthlySizeLimit=this.$fileInput.data("monthly-size-limit"),this.everPosted=this.$fileInput.data("ever-posted");if(this.remainingSize!=null&&this.monthlySizeLimit!=null)return this.on("change:uploadableSize",this.renderUploadableSize,this)},unbindMixin:function(){var ref;return(ref=this.$fileInput)!=null&&ref.off("change"),this.$fileInput=this.textarea=this.$textarea=null,this.$(".js-droptarget").off()}}:module.exports={}},{"../../../application/notification":14,"../../../util/compress_image":106,"../../../util/misc":113,"image-file":570}],168:[function(require,module,exports){var MathJaxHelper,PreviewableMixin,circleLoadingTemplate,notification;MathJaxHelper=require("../../../util/mathjax-helper"),notification=require("../../../application/notification"),circleLoadingTemplate=require("../t/stream/circle-loading"),module.exports=PreviewableMixin={events:{"click .edit":"onClickEdit","click .preview":"onClickPreview"},onClickPreview:function(e){var text;e.preventDefault(),text=this.$("textarea").val();if(!text)return;return this.activate("preview"),this.renderPreview(circleLoadingTemplate()),$.ajax({url:"/api/preview",type:"post",data:{raw_body:text}}).done(function(_this){return function(data){return _this.renderPreview(data)}}(this)).fail(function(_this){return function(){return _this.activate("edit"),notification.error(I18n.t("js.mixins.previewable.fail"),{keep:!1})}}(this))},onClickEdit:function(e){return e.preventDefault(),this.activate("edit")},activate:function(type){this.$(".active").removeClass("active");switch(type){case"edit":return this.$(".edit").addClass("active"),this.$(".content-area").addClass("active");case"preview":return this.$(".preview").addClass("active"),this.$(".preview-area").addClass("active")}},renderPreview:function(data){var $el;return $el=this.$(".preview-area"),$el.html(data),MathJaxHelper.run($el)}}},{"../../../application/notification":14,"../../../util/mathjax-helper":112,"../t/stream/circle-loading":184}],169:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<div class="vertical-close-button close"><i class="fa fa-angle-double-right"></i></div>\n<div class="item-box-container-inner">\n  ';var actor=actors[0];__p+="\n  ",actionType!=="following_tag_post"?(__p+='\n    <div class="action-user-icon'+((__t=actionType=="comment"||actionType=="stock"||item.private?" action":"")==null?"":__t)+'">\n      ',actionType=="comment"?__p+='\n        <div class="action-icon"><i class="fa fa-comment"></i></div>\n      ':actionType=="stock"?__p+='\n        <div class="action-icon"><i class="fa fa-stock unstock"></i></div>\n      ':item.private&&(__p+='\n        <div class="action-icon"><i class="fa fa-lock"></i></div>\n      '),__p+="\n      ",item.coediting?__p+='\n        <i class="coeditorsIcon" alt="770"></i>\n      ':__p+='\n        <a href="/'+((__t=actor.url_name)==null?"":__t)+'" title="'+((__t=actor.url_name)==null?"":__t)+'">\n          <img src="'+((__t=actor.profile_image_url)==null?"":__t)+'" class="user-icon" title="'+((__t=actor.url_name)==null?"":__t)+'" />\n        </a>\n      ',__p+="\n    </div>\n  "):__p+='\n    <div class="action-user-icon action">\n      <div class="action-icon"><i class="fa fa-tag"></i></div>\n      <a href="/tags/'+((__t=actor.url_name)==null?"":__t)+'" title="'+((__t=actor.name)==null?"":__t)+'">\n        <img src="'+((__t=actor.icon_url)==null?"":__t)+'" class="user-icon" title="'+((__t=actor.name)==null?"":__t)+'" />\n      </a>\n    </div>\n  ',__p+='\n  <div class="item-box-area">\n    <div class="item-box-header">\n      ';if(typeof actors!="undefined"){__p+="\n        ";if(actionType=="comment")__p+='\n          <div class="action">\n            <span class="user">\n              <a href="/'+((__t=actors[0].url_name)==null?"":__t)+'">\n                '+((__t=actors[0].url_name)==null?"":__t)+"\n              </a>\n            </span>\n            "+((__t=I18n.t("js.item_box.action.comment"))==null?"":__t)+"\n          </div>\n        ";else if(_.contains(["following_user_post","public_post","own_post"],actionType))__p+='\n          <div class="action">\n            <span class="user">\n              <a href="/'+((__t=actors[0].url_name)==null?"":__t)+'">\n                '+((__t=actors[0].url_name)==null?"":__t)+"\n              </a>\n            </span>\n            ",item.coediting?__p+="\n              "+((__t=I18n.t("js.item_box.action.coediting_post.pre"))==null?"":__t)+""+((__t=item.created_at_in_words)==null?"":__t)+""+((__t=I18n.t("js.item_box.action.coediting_post.post"))==null?"":__t)+"\n            ":__p+="\n              "+((__t=I18n.t("js.item_box.action.post.pre"))==null?"":__t)+""+((__t=item.created_at_in_words)==null?"":__t)+""+((__t=I18n.t("js.item_box.action.post.post"))==null?"":__t)+"\n            ",__p+="\n          </div>\n        ";else if(actionType=="following_tag_post")__p+="\n          ",Qiita.user&&Qiita.user.url_name==actors[0].url_name?__p+='\n            <div class="action">\n              <span class="user">\n                <a href="/'+((__t=actors[0].url_name)==null?"":__t)+'">\n                  '+((__t=actors[0].url_name)==null?"":__t)+"\n                </a>\n              </span>\n              "+((__t=I18n.t("js.item_box.action.post"
))==null?"":__t)+"\n            </div>\n          ":__p+='\n            <div class="action">\n              <a href="/tags/'+((__t=actors[0].url_name)==null?"":__t)+'">\n                '+((__t=actors[0].name)==null?"":__t)+"\n              </a>\n              "+((__t=I18n.t("js.item_box.action.new_post"))==null?"":__t)+"\n            </div>\n          ",__p+="\n        ";else if(actionType=="stock"){__p+='\n          <div class="action">\n            <span class="user">\n            ';for(var i=0;i<actors.length;i++)__p+='\n              <a href="/'+((__t=actors[i].url_name)==null?"":__t)+'">'+((__t=actors[i].url_name)==null?"":__t)+"</a>\n              ",i<actors.length-1&&(__p+=","),__p+="\n            ";__p+="\n            </span>\n            "+((__t=I18n.t("js.item_box.action.stock"))==null?"":__t)+"\n          </div>\n        "}__p+="\n      "}else __p+='\n        <div class="action">\n          <span class="user">\n            <a href="/'+((__t=item.user.url_name)==null?"":__t)+'">\n              '+((__t=item.user.url_name)==null?"":__t)+"\n            </a>\n          </span>\n          "+((__t=I18n.t("js.item_box.action.post"))==null?"":__t)+"\n        </div>\n      ";__p+='\n      <div class="item-box-title">\n        <h1>\n          <a href="'+((__t=item.url)==null?"":__t)+'" title="'+((__t=item.title)==null?"":__t)+'">\n            '+((__t=item.title)==null?"":__t)+'\n          </a>\n        </h1>\n        <ul class="item-box_tagList list-unstyled">\n          ',_.each(item.tags,function(tag){__p+='\n            <li>\n              <a href="/tags/'+((__t=tag.url_name)==null?"":__t)+'">\n                '+((__t=tag.name)==null?"":__t)+"\n              </a>\n            </li>\n          "}),__p+='\n        </ul>\n      </div>\n      <div class="item-status-box">\n        <ul class="list-unstyled">\n          ',item.private||(__p+='\n            <li>\n              <i class="stock-button js-stock-button fa fa-stock '+((__t=item.stocked?"unstock":"")==null?"":__t)+'"></i>\n              <span class="js-stock-count">'+((__t=item.stock_count)==null?"":__t)+"</span>\n            </li>\n          "),__p+="\n          ",item.comment_count>0&&(__p+='\n            <li>\n              <a href="'+((__t=item.url)==null?"":__t)+'#comments">\n                <i class="fa fa-comment-o"></i>\n                '+((__t=item.comment_count)==null?"":__t)+"\n              </a>\n            </li>\n          "),__p+='\n        </ul>\n      </div>\n    </div>\n    <div class="item-body-wrapper">\n      <div id="item-'+((__t=item.uuid)==null?"":__t)+'" class="item-body markdownContent bordered"></div>\n    </div>\n  </div>\n  <div class="loading"></div>\n</div> <!-- item-box-container-inner -->\n<fieldset class="toggle-button-field">\n  <legend class="toggle-button">\n    <span class="expand"><i class="fa fa-angle-double-down"></i></span>\n    <span class="close"><i class="fa fa-angle-double-up"></i></span>\n  </legend>\n</fieldset>\n'}return __p}},{}],170:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<span class="user">\n  <a href="/'+((__t=actor.url_name)==null?"":__t)+'" target="_blank">\n    <img src="'+((__t=actor.profile_image_url)==null?"":__t)+'">'+((__t=actor.url_name)==null?"":__t)+"\n  </a>\n</span>\n"+((__t=I18n.t("js.tag-box.pre"))==null?"":__t)+'\n<a href="/tags/'+((__t=target.get("url_name"))==null?"":__t)+'" target="_blank">\n  <img src="'+((__t=target.get("icon_url"))==null?"":__t)+'">'+((__t=target.get("name"))==null?"":__t)+"\n</a>\n"+((__t=I18n.t("js.tag-box.post"))==null?"":__t)+"\n",target.get("following")||(__p+='\n  <span class="follow-button">\n    '+((__t=I18n.t("js.tag-box.follow"))==null?"":__t)+"\n  </span>\n"),__p+="\n";return __p}},{}],171:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<span class="user">\n  <a href="/'+((__t=actor.url_name)==null?"":__t)+'" target="_blank">\n    <img src="'+((__t=actor.profile_image_url)==null?"":__t)+'">\n    '+((__t=actor.url_name)==null?"":__t)+"\n  </a>\n</span>\n"+((__t=I18n.t("js.user-box.pre"))==null?"":__t)+'\n<span class="user">\n  <a href="/'+((__t=target.get("url_name"))==null?"":__t)+'" target="_blank">\n    <img src="'+((__t=target.get("profile_image_url"))==null?"":__t)+'">\n    '+((__t=target.get("url_name"))==null?"":__t)+"\n  </a>\n</span>\n"+((__t=I18n.t("js.user-box.post"))==null?"":__t)+"\n",!target.get("following")&&target.get("url_name")!==Qiita.user.url_name&&(__p+='\n  <span class="follow-button">\n    '+((__t=I18n.t("js.user-box.follow"))==null?"":__t)+"\n  </span>\n"),__p+="\n";return __p}},{}],172:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="autocomplete-image">\n  <img src="'+((__t=url)==null?"":__t)+'"/>\n  <span class="value">'+((__t=value)==null?"":__t)+"</span>\n</div>\n";return __p}},{}],173:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="autocomplete-lang">\n  <span class="code">'+((__t=value)==null?"":__t)+'</span>\n  <span class="name">'+((__t=name)==null?"":__t)+"</span>\n</div>\n";return __p}},{}],174:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="autocomplete-image">\n  <img src="'+((__t=image)==null?"":__t)+'"/>\n  <span class="value">'+((__t=url_name)==null?"":__t)+"</span>\n</div>\n";return __p}},{}],175:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="autocomplete-image">\n  <img src="'+((__t=image)==null?"":__t)+'"/>\n  <span class="value">\n    '+((__t=url_name)==null?"":__t)+"\n  </span>\n  ",name&&(__p+='\n    <span class="name">'+((__t=name)==null?"":__t)+"</span>\n  "),__p+="\n</div>\n";return __p}},{}],176:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="autocomplete-image">\n  ',tag.icon_url&&(__p+='\n    <img src="'+((__t=tag.icon_url)==null?"":__t)+'"/>\n  '),__p+='\n  <span class="value">'+((__t=tag.name)==null?"":__t)+"</span> ("+((__t=tag.item_count)==null?"":__t)+")\n</div>\n";return __p}},{}],177:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="autocomplete-image">\n  <img src="'+((__t=image)==null?"":__t)+'"/>\n  <span class="value">'+((__t=value)==null?"":__t)+"</span>\n</div>\n";return __p}},{}],178:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<input type="hidden" name="draft_item[tag_data][][name]" value="'+((__t=tag.name)==null?"":__t)+'">\n',_.each(tag.versions,function(version){__p+='\n  <input type="hidden" name="draft_item[tag_data][][versions][]" value="'+((__t=version)==null?"":__t)+'">\n'}),__p+="\n";return __p}},{}],179:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="emojiPicker_topBar js-topBar">\n  <span class="close"><i class="fa fa-times"></i></span>\n</div>\n<ul class="nav nav-tabs emojiPicker_tabs">\n  <li>\n    <a href="#'+((__t=presenter.idWith("people"))==null?"":__t)+'" data-toggle="tab" data-url="/emoji/people.txt">\n      <img src="//cdn.qiita.com/emoji/smile.png"/>\n    </a>\n  </li>\n  <li>\n    <a href="#'+((__t=presenter.idWith("nature"))==null?"":__t)+'" data-toggle="tab" data-url="/emoji/nature.txt">\n      <img src="//cdn.qiita.com/emoji/sunny.png"/>\n    </a>\n  </li>\n  <li>\n    <a href="#'+((__t=presenter.idWith("objects"))==null?"":__t)+'" data-toggle="tab" data-url="/emoji/objects.txt">\n      <img src="//cdn.qiita.com/emoji/tada.png"/>\n    </a>\n  </li>\n  <li>\n    <a href="#'+((__t=presenter.idWith("places"))==null?"":__t)+'" data-toggle="tab" data-url="/emoji/places.txt">\n      <img src="//cdn.qiita.com/emoji/house.png"/>\n    </a>\n  </li>\n  <li>\n    <a href="#'+((__t=presenter.idWith("symbols"))==null?"":__t)+'" data-toggle="tab" data-url="/emoji/symbols.txt">\n      <img src="//cdn.qiita.com/emoji/a.png"/>\n    </a>\n  </li>\n</ul>\n<div class="tab-content">\n  <div id="'+((__t=presenter.idWith("people"))==null?"":__t)+'" class="tab-pane"></div>\n  <div id="'+((__t=presenter.idWith("nature"))==null?"":__t)+'" class="tab-pane"></div>\n  <div id="'+((__t=presenter.idWith("objects"))==null?"":__t)+'" class="tab-pane"></div>\n  <div id="'+((__t=presenter.idWith("places"))==null?"":__t)+'" class="tab-pane"></div>\n  <div id="'+((__t=presenter.idWith("symbols"))==null?"":__t)+'" class="tab-pane"></div>\n</div>\n<div class="emojiPicker_preview">\n</div>\n';return __p}},{}],180:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){var namespace="js.templates.login_modal_view.";__p+="\n";var browser=require("../../../util/browser");__p+="\n";var host=/dev$/.test(browser.getHost())?"":"https://"+browser.getHost();__p+="\n";var redirect_to=encodeURIComponent(browser.getPathname());__p+="\n";var query="do="+action+"&target="+target+"&redirect_to="+redirect_to;__p+='\n\n<div class="modal-body text-center loginModal">\n  <span class="close dismiss"><i class="fa fa-times"></i></span>\n  <p class="lead">\n    '+((__t=I18n.t(namespace+"lead."+action,{target:target}))==null?"":__t)+'\n  </p>\n  <a href="https://'+((__t=browser.getHost())==null?"":__t)+"/signup?"+((__t=query)==null?"":__t)+'" class="btn btn-primary btn-block btn-lg">\n    '+((__t=I18n.t(namespace+"signup"))==null?"":__t)+'\n  </a>\n  <div class="lineSeparator">\n    <div class="lineSeparator_text">\n      '+((__t=I18n.t(namespace+"or"))==null?"":__t)+'\n    </div>\n  </div>\n  <p class="lead">\n    '+((__t=I18n.t(namespace+"already_have_account"))==null?"":__t)+'\n  </p>\n  <div class="row">\n    <span class="col-xs-12 col-sm-6">\n      <a href="https://'+((__t=browser.getHost())==null?"":__t)+"/auth/github?"+((__t=query)==null?"":__t)+'"\n          class="btn btn-github-inverse btn-block"\n          track="click"\n          data-event_name="Login"\n          data-login__type="GitHub"\n          data-place="login modal">\n        <i class="fa fa-github"></i>\n        '+((__t=I18n.t(namespace+"login_with_github"))==null?"":__t)+'\n      </a>\n      <a href="https://'+((__t=browser.getHost())==null?"":__t)+"/auth/twitter?"+((__t=query)==null?"":__t)+'"\n          class="btn btn-twitter-inverse btn-block"\n          track="click"\n          data-event_name="Login"\n          data-login__type="Twitter"\n          data-place="login modal">\n        <i class="fa fa-twitter"></i>\n        '+((__t=I18n.t(namespace+"login_with_twitter"))==null?"":__t)+'\n      </a>\n    </span>\n    <span class="col-xs-12 col-sm-6">\n      <p class="loginModal_loginMessage btn btn-block">'+((__t=I18n.t(namespace+"login_with_password"))==null?"":__t)+'</p>\n      <a href="https://'+((__t=browser.getHost())==null?"":__t)+"/login?"+((__t=query)==null?"":__t)+'" class="btn btn-link btn-block">\n        '+((__t=I18n.t(namespace+"goto_login_page"))==null?"":__t)+"\n      </p>\n    </span>\n  </div>\n</div>\n"}return __p}},{"../../../util/browser":105}],181:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="modal-backdrop fade in"></div>\n<div class="modal fade in" style="display: block;">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      ',source.html?__p+="\n        "+((__t=source.html)==null?"":__t)+"\n      ":(__p+="\n        ",source.header&&(__p+='\n          <div class="modal-header">\n            '+((__t=source.header)==null?"":__t)+"\n          </div>\n        "),__p+='\n        <div class="modal-body">\n          '+((__t=source.body)==null?"":__t)+"\n        </div>\n        ",source.footer&&(__p+='\n          <div class="modal-footer">\n            '+((__t=source.footer)==null?"":__t)+"\n          </div>\n        "),__p+="\n      "),__p+="\n    </div>\n  </div>\n</div>\n";return __p}},{}],182:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<p class='no-posts-yet'>"+((__t=I18n.t("js.no_posts_yet_html"))==null?"":__t)+"</p>\n";return __p}},{}],183:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="position-relative response">\n  ',icon?__p+='\n    <i class="fa fa-'+((__t=icon)==null?"":__t)+' left-side-icon"></i>\n    <p class="trimmed">&nbsp;'+((__t=message)==null?"":__t)+"</p>\n  ":__p+="\n    <p>"+((__t=message)==null?"":__t)+"</p>\n  ",__p+="\n  ",keep&&(__p+='<i class="close-btn fa fa-times-circle-o"></i>'),__p+="\n</div>\n";return __p}},{}],184:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="circle-loading">\n  <p>'+((__t=I18n.t("js.common.loading"))==null?"":__t)+"</p>\n  <div>\n    <div/>\n    <div/>\n    <div/>\n  </div>\n</div>\n";return __p}},{}],185:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){var namespace="js.templates.stream.fail_to_fetch.";__p+='\n<div class="feedActivities_failToFetch">\n  '+((__t=I18n.t(namespace+"fail_to_fetch_html"))==null?"":__t)+"\n</div>\n"}return __p}},{}],186:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="flush-button"></div>\n<div class="activities"></div>\n<div class="tail"></div>\n';return __p}},{}],187:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="more-button btn btn-default btn-block" tabindex="0">'+((__t=I18n.t("js.stream.more"))==null?"":__t)+"</div>\n";return __p}},{}],188:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){var namespace="js.templates.stream.search_form.";__p+='\n<form action="/search" class="stream_searchForm" method="GET">\n  <div>\n    <input placeholder="'+((__t=I18n.t(namespace+type))==null?"":__t)+'" class="stream_searchForm_textField js-stream_searchForm_textField" />\n    <button type="submit" class="btn stream_searchForm_searchButton">\n      <i class="fa fa-search"></i>\n    </button>\n  </div>\n  <input type="hidden" name="q" class="js-stream_searchForm_searchQuery"\n    value="'+((__t=type==="mine"?"user:"+Qiita.user.url_name:"")==null?"":__t)+'">\n  ',stocked&&(__p+='\n    <input type="hidden" name="stocked" value="1" />\n  '),__p+="\n</form>\n"}return __p}},{}],189:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="markdown-content">\n  <p>\n    Qiita:Teamをご利用いただきありがとうございます。<br />\n    簡単にこの機能の説明をさせていただきます。\n  </p>\n  <h2>Qiita:Teamの3つの特徴</h2>\n  <h3>1. 投稿やタグが外部に公開されることはありません</h3>\n  <p>\n    Qiita:Teamで作成されたり利用された投稿およびタグは、各チーム専用に保存されるため、これらの情報が外部に公開されることはありません。\n  </p>\n  <h3>2. メンバーへのメンションが可能です</h3>\n  <p>\n    投稿内やコメント内で<code>@hoge</code>と記述することで、同じチーム内のメンバーに向けてメンションすることができます。もし間違って外部のユーザーへメンションしてしまった場合、相手に通知されることはありませんのでご安心ください。<br />\n    なお、投稿を編集する際にメンションを追記した場合は相手に通知されませんのでご注意ください。\n  </p>\n  <h3>3. 編集リクエストが利用できます</h3>\n  <p>\n    <a href="http://qiita.com">Qiita</a>の機能である編集リクエストはQiita:Teamでも利用可能です。編集履歴も残りますので、メンバー同士で情報の質を向上しあうことができます。\n  </p>\n  <hr />\n  <p>\n    他にも便利な機能はありますが、まずは投稿してQiita:Teamを体験してみてください。\n    Qiita:Teamで、快適な情報共有を。\n  </p>\n  <a href="/items/new">'+((__t=teamName)==null?"":__t)+"に投稿する</a>\n</div>\n";return __p}},{}],190:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<span class="user">\n  <a href="'+((__t=followable_url)==null?"":__t)+'" target="_blank">\n    <img src="'+((__t=followable_image_url)==null?"":__t)+'">\n    '+((__t=followable_name)==null?"":__t)+"\n  </a>\n</span>\n"+((__t=I18n.t("js.user-box.pre"))==null?"":__t)+'\n<span class="user">\n  <a href="'+((__t=mentioned_object_url)==null?"":__t)+'" target="_blank">\n    <img src="'+((__t=mentioned_object_image_url)==null?"":__t)+'">\n    '+((__t=mentioned_object_name)==null?"":__t)+"\n  </a>\n</span>\n"+((__t=I18n.t("js.user-box.post"))==null?"":__t)+"\n";return __p}},{}],191:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=function(str){str=String(str);var toBeReplaced=/[&<>'"]/g,htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return str=str.replace(toBeReplaced,function(match){return htmlEscapes[match]}),str},__j=Array.prototype.join;with(obj)__p+='<div class="vertical-close-button close">\n  <i class="fa fa-angle-double-right"></i>\n</div>\n<div class="item-box-container-inner">\n  <div class="action-user-icon'+((__t=trackable_type=="PublicDomainArticle"?"":" action")==null?"":__t)+'">\n    ',trackable_type=="Comment"?__p+='\n      <div class="action-icon">\n        <i class="fa fa-comment"></i>\n      </div>\n    ':trackable_type=="StockItem"?__p+='\n      <div class="action-icon">\n        <i class="fa fa-stock unstock"></i>\n      </div>\n    ':trackable_type=="Tagging"&&(__p+='\n      <div class="action-icon">\n        <i class="fa fa-tag"></i>\n      </div>\n    '),__p+='\n    <a href="'+((__t=followable_url)==null?"":__t)+'" title="'+((__t=followable_name)==null?"":__t)+'">\n      <img src="'+((__t=followable_image_url)==null?"":__t)+'" class="user-icon" title="'+((__t=followable_name)==null?"":__t)+'" />\n    </a>\n  </div>\n  <div class="item-box-area">\n    <div class="item-box-header">\n      <div class="action">\n        <span class="user">\n          <a href="'+((__t=followable_url)==null?"":__t)+'">\n            '+((__t=followable_name)==null?"":__t)+"\n          </a>\n        </span>\n        ",trackable_type=="Comment"?__p+="\n          "+((__t=I18n.t("js.item_box.action.comment"))==null?"":__t)+"\n        ":trackable_type=="PublicDomainArticle"?__p+="\n          "+((__t=I18n.t("js.item_box.action.post.pre"))==null?"":__t)+""+((__t=created_at_in_words)==null?"":__t)+""+((__t=I18n.t("js.item_box.action.post.post"))==null?"":__t)+"\n        ":trackable_type=="StockItem"?__p+="\n            "+((__t=I18n.t("js.item_box.action.stock"))==null?"":__t)+"\n        ":trackable_type=="Tagging"&&(__p+="\n          "+((__t=I18n.t("js.item_box.action.new_post"))==null?"":__t)+"\n        "),__p+='\n      </div>\n      <div class="item-box-title">\n        <h1>\n          <a href="'+((__t=mentioned_object_url)==null?"":__t)+'" title="'+__e(mentioned_object_name)+'">\n            '+__e(mentioned_object_name)+'\n          </a>\n        </h1>\n        <ul class="item-box_tagList list-unstyled">\n          ',_.each(mentioned_object_tags,function(tag){__p+='\n            <li>\n              <a href="/tags/'+((__t=tag.url_name)==null?"":__t)+'">\n                '+__e(tag.name)+"\n              </a>\n            </li>\n          "}),__p+='\n        </ul>\n      </div>\n      <div class="item-status-box">\n        <ul class="unstyled">\n          <li>\n            <i class="fa fa-stock"></i>\n            '+((__t=mentioned_object_stocks_count)==null?"":__t)+'\n          </li>\n          <li>\n            <a href="'+((__t=mentioned_object_url)==null?"":__t)+'#comments">\n              <i class="fa fa-comment-o"></i>\n              '+((__t=mentioned_object_comments_count)==null?"":__t)+'\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="item-body-wrapper">\n      <div id="item-'+((__t=mentioned_object_uuid)==null?"":__t)+'" class="item-body markdownContent bordered">\n        '+((__t=mentioned_object_body)==null?"":__t)+'\n      </div>\n    </div>\n  </div>\n  <div class="loading"></div>\n</div>\n<fieldset class="toggle-button-field">\n  <legend class="toggle-button">\n    <span class="expand"><i class="fa fa-angle-double-down"></i></span>\n    <span class="close"><i class="fa fa-angle-double-up"></i></span>\n  </legend>\n</fieldset>\n';return __p}},{}],192:[function(require,module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=function(str){str=String(str);var toBeReplaced=/[&<>'"]/g,htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return str=str.replace(toBeReplaced,function(match){return htmlEscapes[match]}),str};with(obj)__p+='<span class="user">\n  <a href="'+((__t=followable_url)==null?"":__t)+'" target="_blank">\n    <img src="'+((__t=followable_image_url)==null?"":__t)+'">'+((__t=followable_name)==null?"":__t)+"\n  </a>\n</span>\n"+((__t=I18n.t("js.tag-box.pre"))==null?"":__t)+'\n<a href="'+((__t=mentioned_object_url)==null?"":__t)+'" target="_blank">\n  <img src="'+((__t=mentioned_object_image_url)==null?"":__t)+'">'+__e(mentioned_object_name)+"\n</a>\n"+((__t=I18n.t("js.tag-box.post"))==null?"":__t)+"\n";return __p}},{}],193:[function(require,module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)typeof iconUrl!="undefined"&&(__p+='\n  <img src="'+((__t=iconUrl)==null?"":__t)+'"/>\n'),__p+="\n<p>\n  "+((__t=value)==null?"":__t)+"\n  ",typeof count!="undefined"&&(__p+="\n    ("+((__t=count)==null?"":__t)+")\n  "),__p+="\n</p>\n";return __p}},{}],194:[function(require,module,exports){var IS_STAGING,UserList,browser,domain,users;UserList=require("../../../models/collections/user_list"),browser=require("../../../util/browser"),IS_STAGING=/staging\.qiita\.com$/.test(browser.getHost()),domain=(IS_STAGING?"staging.":"")+"qiita."+Qiita.TLD,users=new UserList,module.exports=new Bloodhound({remote:{url:"//"+domain+"/api/users?q=%QUERY",maxParallelRequests:1,beforeSend:function(jqXhr,settings){return settings.xhrFields={withCredentials:!0}},filter:function(resp){var url_names;return url_names=users.pluck("url_name"),_.chain(resp).reject(function(datum){return _.contains(url_names,datum.url_name)}).map(function(datum){return console.log("---",datum),{value:datum.url_name,tokens:[datum.url_name],iconUrl:datum.profile_image_url}}).value()}},datumTokenizer:function(d){return Bloodhound.tokenizers.whitespace(d.num)},queryTokenizer:Bloodhound.tokenizers.whitespace})},{"../../../models/collections/user_list":72,"../../../util/browser":105}],195:[function(require,module,exports){"use strict";var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol?"symbol":typeof obj};if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function($){function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(el.style[name]!==undefined)return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function callback(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd();if(!$.support.transition)return;$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function handle(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),typeof option=="string"&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function Alert(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.2.0",Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent()),$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;$parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(150):removeElement()};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options=(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option;data||$this.data("bs.button",data=new Button(this,options)),option=="toggle"?data.toggle():option&&data.setState(option)})}var Button=function Button(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.2.0",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",data.resetText==null&&$el.data("resetText",$el[val]()),$el[val](data[state]==null?this.options[state]:data[state]),setTimeout($.proxy(function(){state=="loadingText"?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");$input.prop("type")=="radio"&&($input.prop("checked")&&this.$element.hasClass("active")?changed=!1:$parent.find(".active").removeClass("active")),changed&&$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}changed&&this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),e.preventDefault()})}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option),action=typeof option=="string"?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),typeof option=="number"?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function Carousel(element,options){this.$element=$(element).on("keydown.bs.carousel",$.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.2.0",Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},Carousel.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(pos>this.$items.length-1||pos<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")},Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction=type=="next"?"left":"right",fallback=type=="next"?"first":"last",that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});this.$element.trigger(slideEvent);if(slideEvent.isDefaultPrevented())return;this.sliding=!0,isCycling&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd($active.css("transition-duration").slice(0,-1)*1e3)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this},$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if(!$target.hasClass("carousel"))return;var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option);!data&&options.toggle&&option=="show"&&(option=!option),data||$this.data("bs.collapse",data=new Collapse(this,options)),typeof option=="string"&&data[option]()})}var Collapse=function Collapse(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.VERSION="3.2.0",Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;
var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;Plugin.call(actives,"hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function complete(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])},Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function complete(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(350)},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$target=$(target),data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);if(!data||!data.transitioning)$parent&&$parent.find('[data-toggle="collapse"][data-parent="'+parent+'"]').not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed");Plugin.call($target,option)})}(jQuery),+function($){function clearMenus(e){if(e&&e.which===3)return;$(backdrop).remove(),$(toggle).each(function(){var $parent=getParent($(this)),relatedTarget={relatedTarget:this};if(!$parent.hasClass("open"))return;$parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)})}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),typeof option=="string"&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function Dropdown(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.2.0",Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this),isActive=$parent.hasClass("open");clearMenus();if(!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};$parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$this.trigger("focus"),$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget)}return!1},Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return;var $this=$(this);e.preventDefault(),e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27)return e.which==27&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.divider):visible a",$items=$parent.find('[role="menu"]'+desc+', [role="listbox"]'+desc);if(!$items.length)return;var index=$items.index($items.filter(":focus"));e.keyCode==38&&index>0&&index--,e.keyCode==40&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+', [role="menu"], [role="listbox"]',Dropdown.prototype.keydown)}(jQuery),+function($){function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option);data||$this.data("bs.modal",data=new Modal(this,options)),typeof option=="string"?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function Modal(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.2.0",Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):that.$element.trigger("focus").trigger(e)})},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function callbackRemove(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(150):callbackRemove()}else callback&&callback()},Modal.prototype.checkScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return;this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){if(showEvent.isDefaultPrevented())return;$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options=(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option;if(!data&&option=="destroy")return;data||$this.data("bs.tooltip",data=new Tooltip(this,options)),typeof option=="string"&&data[option]()})}var Tooltip=function Tooltip(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.2.0",Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click")this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin",eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&typeof options.delay=="number"&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){self.hoverState=="in"&&self.show()},self.options.delay.show)},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){self.hoverState=="out"&&self.hide()},self.options.delay.hide)},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,$parent=this.$element.parent(),parentDim=this.getPosition($parent);placement=placement=="bottom"&&pos.top+pos.height+actualHeight-parentDim.scroll>parentDim.height?"top":placement=="top"&&pos.top-parentDim.scroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentDim.width?"left":placement=="left"&&pos.left-actualWidth<parentDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function complete(){that.$element.trigger("shown.bs."+that.type),that.hoverState=null};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function using(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;placement=="top"&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var arrowDelta=delta.left?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight,arrowPosition=delta.left?"left":"top",arrowOffsetPosition=delta.left?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],arrowPosition)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){that.hoverState!="in"&&$tip.detach(),that.$element.trigger("hidden.bs."+that.type)}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby"),this.$element.trigger(e);if(e.isDefaultPrevented())return;return $tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||typeof $e.attr("data-original-title")!="string")&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody=el.tagName=="BODY";return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():null,{scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop(),width:isBody?$(window).width():$element.outerWidth(),height:isBody?$(window).height():$element.outerHeight()},isBody?{top:0,left:0}:$element.offset())},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title),title},Tooltip.prototype.getUID=function(prefix){do prefix+=~~(Math.random()*1e6);while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&(self=$(e.currentTarget).data("bs."+this.type),self||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options=(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option;if(!data&&option=="destroy")return;data||$this.data("bs.popover",data=new Popover(this,options)),typeof option=="string"&&data[option]()})}var Popover=function Popover(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.2.0",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").empty()[this.options.html?typeof content=="string"?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},Popover.prototype.tip=function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),+function($){function ScrollSpy(element,options){var process=$.proxy(this.process,this);this.$body=$("body"),this.$scrollElement=$(element).is("body")?$(window):$(element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",process),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options=(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),typeof option=="string"&&data[option]()})}ScrollSpy.VERSION="3.2.0",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var offsetMethod="offset",offsetBase=0;$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var self=this;this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(decodeURIComponent(href));return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]),self.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget,i;this.scrollHeight!=scrollHeight&&this.refresh();if(scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<=offsets[0])return activeTarget!=(i=targets[0])&&this.activate(i);for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),typeof option=="string"&&data[option]()})}var Tab=function Tab(element){this.element=$(element)};Tab.VERSION="3.2.0",Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0],e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(150):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),Plugin.call($(this),"show")})}(jQuery),+function($){function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options=(typeof option==="undefined"?"undefined":_typeof(option))=="object"&&option;data||$this.data("bs.affix",data=new Affix(this,options)),typeof option=="string"&&data[option]()})}var Affix=function Affix(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.2.0",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var scrollHeight=$(document).height(),scrollTop=this.$target.scrollTop(),position=this.$element.offset(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom;(typeof offset==="undefined"?"undefined":_typeof(offset))!="object"&&(offsetBottom=offsetTop=offset),typeof offsetTop=="function"&&(offsetTop=offset.top(this.$element)),typeof offsetBottom=="function"&&(offsetBottom=offset.bottom(this.$element));var affix=this.unpin!=null&&scrollTop+this.unpin<=position.top?!1:offsetBottom!=null&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":offsetTop!=null&&scrollTop<=offsetTop?"top":!1;if(this.affixed===affix)return;this.unpin!=null&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");this.$element.trigger(e);if(e.isDefaultPrevented())return;this.affixed=affix,this.unpin=affix=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace("affix","affixed"))),affix=="bottom"&&this.$element.offset({top:scrollHeight-this.$element.height()-offsetBottom})};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},data.offsetBottom&&(data.offset.bottom=data.offsetBottom),data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery)},{}],196:[function(require,module,exports){"use strict";var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol?"symbol":typeof obj};(function(jQuery){var rulesEngine={};(function($,rulesEngine){var validation={};rulesEngine.forbiddenSequences=["0123456789","abcdefghijklmnopqrstuvwxyz","qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()_+"],validation.wordNotEmail=function(options,word,score){return word.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)?score:0},validation.wordLength=function(options,word,score){var wordlen=word.length,lenScore=Math.pow(wordlen,options.rules.raisePower);return wordlen<options.common.minChar&&(lenScore+=score),lenScore},validation.wordSimilarToUsername=function(options,word,score){var username=$(options.common.usernameField).val();return username&&word.toLowerCase().match(username.replace(/[\-\[\]\/\{\}\(\)\*\+\=\?\:\.\\\^\$\|\!\,]/g,"\\$&").toLowerCase())?score:0},validation.wordTwoCharacterClasses=function(options,word,score){return word.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)||word.match(/([a-zA-Z])/)&&word.match(/([0-9])/)||word.match(/(.[!,@,#,$,%,\^,&,*,?,_,~])/)&&word.match(/[a-zA-Z0-9_]/)?score:0},validation.wordRepetitions=function(options,word,score){return word.match(/(.)\1\1/)?score:0},validation.wordSequences=function(options,word,score){var found=!1,j;if(word.length>2){$.each(rulesEngine.forbiddenSequences,function(idx,seq){if(found)return;var sequences=[seq,seq.split("").reverse().join("")];$.each(sequences,function(idx,sequence){for(j=0;j<word.length-2;j+=1)sequence.indexOf(word.toLowerCase().substring(j,j+3))>-1&&(found=!0)})});if(found)return score}return 0},validation.wordLowercase=function(options,word,score){return word.match(/[a-z]/)&&score},validation.wordUppercase=function(options,word,score){return word.match(/[A-Z]/)&&score},validation.wordOneNumber=function(options,word,score){return word.match(/\d+/)&&score},validation.wordThreeNumbers=function(options,word,score){return word.match(/(.*[0-9].*[0-9].*[0-9])/)&&score},validation.wordOneSpecialChar=function(options,word,score){return word.match(/[!,@,#,$,%,\^,&,*,?,_,~]/)&&score},validation.wordTwoSpecialChar=
function(options,word,score){return word.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&score},validation.wordUpperLowerCombo=function(options,word,score){return word.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&score},validation.wordLetterNumberCombo=function(options,word,score){return word.match(/([a-zA-Z])/)&&word.match(/([0-9])/)&&score},validation.wordLetterNumberCharCombo=function(options,word,score){return word.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&score},rulesEngine.validation=validation,rulesEngine.executeRules=function(options,word){var totalScore=0;return $.each(options.rules.activated,function(rule,active){if(active){var score=options.rules.scores[rule],funct=rulesEngine.validation[rule],result,errorMessage;$.isFunction(funct)||(funct=options.rules.extra[rule]);if($.isFunction(funct)){result=funct(options,word,score),result&&(totalScore+=result);if(result<0||!$.isNumeric(result)&&!result)errorMessage=options.ui.spanError(options,rule),errorMessage.length>0&&options.instances.errors.push(errorMessage)}}}),totalScore}})(jQuery,rulesEngine);try{module&&module.exports&&(module.exports=rulesEngine)}catch(ignore){}var defaultOptions={};defaultOptions.common={},defaultOptions.common.minChar=6,defaultOptions.common.usernameField="#username",defaultOptions.common.userInputs=[],defaultOptions.common.onLoad=undefined,defaultOptions.common.onKeyUp=undefined,defaultOptions.common.zxcvbn=!1,defaultOptions.common.zxcvbnTerms=[],defaultOptions.common.debug=!1,defaultOptions.rules={},defaultOptions.rules.extra={},defaultOptions.rules.scores={wordNotEmail:-100,wordLength:-50,wordSimilarToUsername:-100,wordSequences:-20,wordTwoCharacterClasses:2,wordRepetitions:-25,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2},defaultOptions.rules.activated={wordNotEmail:!0,wordLength:!0,wordSimilarToUsername:!0,wordSequences:!0,wordTwoCharacterClasses:!1,wordRepetitions:!1,wordLowercase:!0,wordUppercase:!0,wordOneNumber:!0,wordThreeNumbers:!0,wordOneSpecialChar:!0,wordTwoSpecialChar:!0,wordUpperLowerCombo:!0,wordLetterNumberCombo:!0,wordLetterNumberCharCombo:!0},defaultOptions.rules.raisePower=1.4,defaultOptions.ui={},defaultOptions.ui.bootstrap2=!1,defaultOptions.ui.showProgressBar=!0,defaultOptions.ui.showPopover=!1,defaultOptions.ui.showStatus=!1,defaultOptions.ui.spanError=function(options,key){var text=options.ui.errorMessages[key];return text?'<span style="color: #d52929">'+text+"</span>":""},defaultOptions.ui.popoverError=function(errors){var message="<div>Errors:<ul class='error-list' style='margin-bottom: 0;'>";return jQuery.each(errors,function(idx,err){message+="<li>"+err+"</li>"}),message+="</ul></div>",message},defaultOptions.ui.errorMessages={wordLength:"Your password is too short",wordNotEmail:"Do not use your email as your password",wordSimilarToUsername:"Your password cannot contain your username",wordTwoCharacterClasses:"Use different character classes",wordRepetitions:"Too many repetitions",wordSequences:"Your password contains sequences"},defaultOptions.ui.verdicts=["Weak","Normal","Medium","Strong","Very Strong"],defaultOptions.ui.showVerdicts=!0,defaultOptions.ui.showVerdictsInsideProgressBar=!1,defaultOptions.ui.useVerdictCssClass=!1,defaultOptions.ui.showErrors=!1,defaultOptions.ui.container=undefined,defaultOptions.ui.viewports={progress:undefined,verdict:undefined,errors:undefined},defaultOptions.ui.scores=[14,26,38,50];var ui={};(function($,ui){var barClasses=["danger","warning","success"],statusClasses=["error","warning","success"];ui.getContainer=function(options,$el){var $container;$container=$(options.ui.container);if(!$container||$container.length!==1)$container=$el.parent();return $container},ui.findElement=function($container,viewport,cssSelector){return viewport?$container.find(viewport).find(cssSelector):$container.find(cssSelector)},ui.getUIElements=function(options,$el){var $container,result;return options.instances.viewports?options.instances.viewports:($container=ui.getContainer(options,$el),result={},result.$progressbar=ui.findElement($container,options.ui.viewports.progress,"div.progress"),options.ui.showVerdictsInsideProgressBar&&(result.$verdict=result.$progressbar.find("span.password-verdict")),options.ui.showPopover||(options.ui.showVerdictsInsideProgressBar||(result.$verdict=ui.findElement($container,options.ui.viewports.verdict,"span.password-verdict")),result.$errors=ui.findElement($container,options.ui.viewports.errors,"ul.error-list")),options.instances.viewports=result,result)},ui.initProgressBar=function(options,$el){var $container=ui.getContainer(options,$el),progressbar="<div class='progress'><div class='";options.ui.bootstrap2||(progressbar+="progress-"),progressbar+="bar'>",options.ui.showVerdictsInsideProgressBar&&(progressbar+="<span class='password-verdict'></span>"),progressbar+="</div></div>",options.ui.viewports.progress?$container.find(options.ui.viewports.progress).append(progressbar):$(progressbar).insertAfter($el)},ui.initHelper=function(options,$el,html,viewport){var $container=ui.getContainer(options,$el);viewport?$container.find(viewport).append(html):$(html).insertAfter($el)},ui.initVerdict=function(options,$el){ui.initHelper(options,$el,"<span class='password-verdict'></span>",options.ui.viewports.verdict)},ui.initErrorList=function(options,$el){ui.initHelper(options,$el,"<ul class='error-list'></ul>",options.ui.viewports.errors)},ui.initPopover=function(options,$el){$el.popover("destroy"),$el.popover({html:!0,placement:"bottom",trigger:"manual",content:" "})},ui.initUI=function(options,$el){options.ui.showPopover?ui.initPopover(options,$el):(options.ui.showErrors&&ui.initErrorList(options,$el),options.ui.showVerdicts&&!options.ui.showVerdictsInsideProgressBar&&ui.initVerdict(options,$el)),options.ui.showProgressBar&&ui.initProgressBar(options,$el)},ui.possibleProgressBarClasses=["danger","warning","success"],ui.updateProgressBar=function(options,$el,cssClass,percentage){var $progressbar=ui.getUIElements(options,$el).$progressbar,$bar=$progressbar.find(".progress-bar"),cssPrefix="progress-";options.ui.bootstrap2&&($bar=$progressbar.find(".bar"),cssPrefix=""),$.each(ui.possibleProgressBarClasses,function(idx,value){$bar.removeClass(cssPrefix+"bar-"+value)}),$bar.addClass(cssPrefix+"bar-"+barClasses[cssClass]),$bar.css("width",percentage+"%")},ui.updateVerdict=function(options,$el,cssClass,text){var $verdict=ui.getUIElements(options,$el).$verdict;$verdict.removeClass(barClasses.join(" ")),cssClass>-1&&$verdict.addClass(barClasses[cssClass]),$verdict.html(text)},ui.updateErrors=function(options,$el){var $errors=ui.getUIElements(options,$el).$errors,html="";$.each(options.instances.errors,function(idx,err){html+="<li>"+err+"</li>"}),$errors.html(html)},ui.updatePopover=function(options,$el,verdictText){var popover=$el.data("bs.popover"),html="",hide=!0;options.ui.showVerdicts&&!options.ui.showVerdictsInsideProgressBar&&verdictText.length>0&&(html="<h5><span class='password-verdict'>"+verdictText+"</span></h5>",hide=!1),options.ui.showErrors&&(options.instances.errors.length>0&&(hide=!1),html+=options.ui.popoverError(options.instances.errors));if(hide){$el.popover("hide");return}options.ui.bootstrap2&&(popover=$el.data("popover")),popover.$arrow&&popover.$arrow.parents("body").length>0?$el.find("+ .popover .popover-content").html(html):(popover.options.content=html,$el.popover("show"))},ui.updateFieldStatus=function(options,$el,cssClass){var targetClass=options.ui.bootstrap2?".control-group":".form-group",$container=$el.parents(targetClass).first();$.each(statusClasses,function(idx,css){options.ui.bootstrap2||(css="has-"+css),$container.removeClass(css)}),cssClass=statusClasses[cssClass],options.ui.bootstrap2||(cssClass="has-"+cssClass),$container.addClass(cssClass)},ui.percentage=function(score,maximun){var result=Math.floor(100*score/maximun);return result=result<0?1:result,result=result>100?100:result,result},ui.getVerdictAndCssClass=function(options,score){var cssClass,verdictText,level;return score<=0?(cssClass=0,level=-1,verdictText=options.ui.verdicts[0]):score<options.ui.scores[0]?(cssClass=0,level=0,verdictText=options.ui.verdicts[0]):score<options.ui.scores[1]?(cssClass=0,level=1,verdictText=options.ui.verdicts[1]):score<options.ui.scores[2]?(cssClass=1,level=2,verdictText=options.ui.verdicts[2]):score<options.ui.scores[3]?(cssClass=1,level=3,verdictText=options.ui.verdicts[3]):(cssClass=2,level=4,verdictText=options.ui.verdicts[4]),[verdictText,cssClass,level]},ui.updateUI=function(options,$el,score){var cssClass,barPercentage,verdictText,verdictCssClass;cssClass=ui.getVerdictAndCssClass(options,score),verdictText=score===0?"":cssClass[0],cssClass=cssClass[1],verdictCssClass=options.ui.useVerdictCssClass?cssClass:-1,options.ui.showProgressBar&&(barPercentage=ui.percentage(score,options.ui.scores[3]),ui.updateProgressBar(options,$el,cssClass,barPercentage),options.ui.showVerdictsInsideProgressBar&&ui.updateVerdict(options,$el,verdictCssClass,verdictText)),options.ui.showStatus&&ui.updateFieldStatus(options,$el,cssClass),options.ui.showPopover?ui.updatePopover(options,$el,verdictText):(options.ui.showVerdicts&&!options.ui.showVerdictsInsideProgressBar&&ui.updateVerdict(options,$el,verdictCssClass,verdictText),options.ui.showErrors&&ui.updateErrors(options,$el))}})(jQuery,ui);var methods={};(function($,methods){var onKeyUp,applyToAll;onKeyUp=function onKeyUp(event){var $el=$(event.target),options=$el.data("pwstrength-bootstrap"),word=$el.val(),userInputs,verdictText,verdictLevel,score;if(options===undefined)return;options.instances.errors=[],word.length===0?score=0:options.common.zxcvbn?(userInputs=[],$.each(options.common.userInputs.concat([options.common.usernameField]),function(idx,selector){var value=$(selector).val();value&&userInputs.push(value)}),userInputs=userInputs.concat(options.common.zxcvbnTerms),score=zxcvbn(word,userInputs).entropy):score=rulesEngine.executeRules(options,word),ui.updateUI(options,$el,score),verdictText=ui.getVerdictAndCssClass(options,score),verdictLevel=verdictText[2],verdictText=verdictText[0],options.common.debug&&console.log(score+" - "+verdictText),$.isFunction(options.common.onKeyUp)&&options.common.onKeyUp(event,{score:score,verdictText:verdictText,verdictLevel:verdictLevel})},methods.init=function(settings){return this.each(function(idx,el){var clonedDefaults=$.extend(!0,{},defaultOptions),localOptions=$.extend(!0,clonedDefaults,settings),$el=$(el);localOptions.instances={},$el.data("pwstrength-bootstrap",localOptions),$el.on("keyup",onKeyUp),$el.on("change",onKeyUp),$el.on("onpaste",onKeyUp),ui.initUI(localOptions,$el),$.trim($el.val())&&$el.trigger("keyup"),$.isFunction(localOptions.common.onLoad)&&localOptions.common.onLoad()}),this},methods.destroy=function(){this.each(function(idx,el){var $el=$(el),options=$el.data("pwstrength-bootstrap"),elements=ui.getUIElements(options,$el);elements.$progressbar.remove(),elements.$verdict.remove(),elements.$errors.remove(),$el.removeData("pwstrength-bootstrap")})},methods.forceUpdate=function(){this.each(function(idx,el){var event={target:el};onKeyUp(event)})},methods.addRule=function(name,method,score,active){this.each(function(idx,el){var options=$(el).data("pwstrength-bootstrap");options.rules.activated[name]=active,options.rules.scores[name]=score,options.rules.extra[name]=method})},applyToAll=function applyToAll(rule,prop,value){this.each(function(idx,el){$(el).data("pwstrength-bootstrap").rules[prop][rule]=value})},methods.changeScore=function(rule,score){applyToAll.call(this,rule,"scores",score)},methods.ruleActive=function(rule,active){applyToAll.call(this,rule,"activated",active)},$.fn.pwstrength=function(method){var result;return methods[method]?result=methods[method].apply(this,Array.prototype.slice.call(arguments,1)):(typeof method=="undefined"?"undefined":_typeof(method))==="object"||!method?result=methods.init.apply(this,arguments):$.error("Method "+method+" does not exist on jQuery.pwstrength-bootstrap"),result}})(jQuery,methods)})(jQuery)},{}],197:[function(require,module,exports){(function(global){"use strict";var ns=global.Qiita.TeamTemplates;if(ns){ns.register=function(name,func){ns._map[name]=func,ns._queues[name]&&(ns.run(name),ns._queues[name]=null)},ns.render=function(name,selector){ns.isRegistered(name)?ns._map[name](selector):(ns._queues[name]||(ns._queues[name]=[]),ns._queues[name].push(selector))},ns.run=function(name){if(!ns._queues[name])return;for(var i=0,l=ns._queues[name].length;i<l;i++)ns.render(name,ns._queues[name][i])};for(var name in ns._map)ns._map.hasOwnProperty(name)&&ns.run(name)}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],198:[function(require,module,exports){"use strict";var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol=="function"&&obj.constructor===Symbol?"symbol":typeof obj};(function(document,window){function handleTurbolinksEvents(){var handleEvent,unmountEvent;$?handleEvent=function handleEvent(eventName,callback){$(document).on(eventName,callback)}:handleEvent=function handleEvent(eventName,callback){document.addEventListener(eventName,callback)},Turbolinks.EVENTS?unmountEvent=Turbolinks.EVENTS.BEFORE_UNLOAD:(unmountEvent="page:receive",Turbolinks.pagesCached(0),window.ReactRailsUJS.RAILS_ENV_DEVELOPMENT&&console.warn("The Turbolinks cache has been disabled (Turbolinks >= 2.4.0 is recommended). See https://github.com/reactjs/react-rails/issues/87 for more information.")),handleEvent("page:change",function(){window.ReactRailsUJS.mountComponents()}),handleEvent(unmountEvent,function(){window.ReactRailsUJS.unmountComponents()})}function handleNativeEvents(){$?$(function(){window.ReactRailsUJS.mountComponents()}):document.addEventListener("DOMContentLoaded",function(){window.ReactRailsUJS.mountComponents()})}var $=typeof window.jQuery!="undefined"&&window.jQuery;window.ReactRailsUJS={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RAILS_ENV_DEVELOPMENT:!0,findDOMNodes:function findDOMNodes(searchSelector){var selector,parent;switch(typeof searchSelector=="undefined"?"undefined":_typeof(searchSelector)){case"undefined":selector="["+window.ReactRailsUJS.CLASS_NAME_ATTR+"]",parent=document;break;case"object":selector="["+window.ReactRailsUJS.CLASS_NAME_ATTR+"]",parent=searchSelector;break;case"string":selector=searchSelector+" ["+window.ReactRailsUJS.CLASS_NAME_ATTR+"]",parent=document;break;default:}return $?$(selector,parent):parent.querySelectorAll(selector)},mountComponents:function mountComponents(searchSelector){var nodes=window.ReactRailsUJS.findDOMNodes(searchSelector);for(var i=0;i<nodes.length;++i){var node=nodes[i],className=node.getAttribute(window.ReactRailsUJS.CLASS_NAME_ATTR),constructor=window[className]||eval.call(window,className),propsJson=node.getAttribute(window.ReactRailsUJS.PROPS_ATTR),props=propsJson&&JSON.parse(propsJson),renderer=(typeof ReactDOM==="undefined"?"undefined":_typeof(ReactDOM))=="object"?ReactDOM:React;renderer.render(React.createElement(constructor,props),node)}},unmountComponents:function unmountComponents(searchSelector){var nodes=window.ReactRailsUJS.findDOMNodes(searchSelector);for(var i=0;i<nodes.length;++i){var node=nodes[i],renderer=(typeof ReactDOM==="undefined"?"undefined":_typeof(ReactDOM))=="object"?ReactDOM:React;renderer.unmountComponentAtNode(node)}}},typeof Turbolinks!="undefined"&&Turbolinks.supported?handleTurbolinksEvents():handleNativeEvents()})(document,window)},{}],199:[function(require,module,exports){$.fn.draghover=function(options){return this.each(function(){var collection=$(),self=$(this);self.on("dragenter",function(e){collection.size()===0&&self.trigger("draghoverstart",e),collection=collection.add(e.target)}),self.on("dragleave drop",function(e){setTimeout(function(){collection=collection.not(e.target),collection.size()===0&&self.trigger("draghoverend")},1)})})}},{}],200:[function(require,module,exports){$.fn.formData=function(){"use strict";function find(array,iter){for(var i=0;i<array.length;i++)if(iter(array[i]))return array[i]}function parse(parts,currRef,value){var nextRef,currPart,nextPart,first;currPart=parts.shift(),nextPart=parts[0];if(currPart===""){if(nextPart==null)return currRef.push(value);if(nextPart==="")throw"name contains '[][]'";nextRef=find(currRef,function(ref){return!ref.hasOwnProperty(nextPart)}),nextRef==null&&(nextRef={},currRef.push(nextRef))}else{if(nextPart==null)return currRef[currPart]=value;nextPart===""?currRef[currPart]||(currRef[currPart]=[]):currRef[currPart]||(currRef[currPart]={}),nextRef=currRef[currPart]}parse(parts,nextRef,value)}var i,arr,name,value,parts,data=this.serializeArray(),name_reg=/(\w+)|\[(\w*)\]/g,params={};for(i=0;i<data.length;i++){name=data[i].name,value=data[i].value,parts=[];for(;;){arr=name_reg.exec(name);if(!arr)break;parts.push(arr[1]||arr[2])}parse(parts,params,value)}return params}},{}],201:[function(require,module,exports){(function($){function fnPjax(selector,container,options){var context=this;return this.on("click.pjax",selector,function(event){var opts=$.extend({},optionsFor(container,options));opts.container||(opts.container=$(this).attr("data-pjax")||context),handleClick(event,opts)})}function handleClick(event,container,options){options=optionsFor(container,options);var link=event.currentTarget;if(link.tagName.toUpperCase()!=="A")throw"$.fn.pjax or $.pjax.click requires an anchor element";if(event.which>1||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey)return;if(location.protocol!==link.protocol||location.hostname!==link.hostname)return;if(link.href.indexOf("#")>-1&&stripHash(link)==stripHash(location))return;if(event.isDefaultPrevented())return;var defaults={url:link.href,container:$(link).attr("data-pjax"),target:link},opts=$.extend({},defaults,options),clickEvent=$.Event("pjax:click");$(link).trigger(clickEvent,[opts]),clickEvent.isDefaultPrevented()||(pjax(opts),event.preventDefault(),$(link).trigger("pjax:clicked",[opts]))}function handleSubmit(event,container,options){options=optionsFor(container,options);var form=event.currentTarget,$form=$(form);if(form.tagName.toUpperCase()!=="FORM")throw"$.pjax.submit requires a form element";var defaults={type:($form.attr("method")||"GET").toUpperCase(),url:$form.attr("action"),container:$form.attr("data-pjax"),target:form};if(defaults.type!=="GET"&&window.FormData!==undefined)defaults.data=new FormData(form),defaults.processData=!1,defaults.contentType=!1;else{if($(form).find(":file").length)return;defaults.data=$(form).serializeArray()}pjax($.extend({},defaults,options)),event.preventDefault()}function pjax(options){function fire(type,args,props){props||(props={}),props.relatedTarget=target;var event=$.Event(type,props);return context.trigger(event,args),!event.isDefaultPrevented()}options=$.extend(!0,{},$.ajaxSettings,pjax.defaults,options),$.isFunction(options.url)&&(options.url=options.url());var target=options.target,hash=parseURL(options.url).hash,context=options.context=findContainerFor(options.container);options.data||(options.data={}),$.isArray(options.data)?options.data.push({name:"_pjax",value:context.selector}):options.data._pjax=context.selector;var timeoutTimer;options.beforeSend=function(xhr,settings){settings.type!=="GET"&&(settings.timeout=0),xhr.setRequestHeader("X-PJAX","true"),xhr.setRequestHeader("X-PJAX-Container",context.selector);if(!fire("pjax:beforeSend",[xhr,settings]))return!1;settings.timeout>0&&(timeoutTimer=setTimeout(function(){fire("pjax:timeout",[xhr,options])&&xhr.abort("timeout")},settings.timeout),settings.timeout=0);var url=parseURL(settings.url);hash&&(url.hash=hash),options.requestUrl=stripInternalParams(url)},options.complete=function(xhr,textStatus){timeoutTimer&&clearTimeout(timeoutTimer),fire("pjax:complete",[xhr,textStatus,options]),fire("pjax:end",[xhr,options])},options.error=function(xhr,textStatus,errorThrown){var container=extractContainer("",xhr,options),allowed=fire("pjax:error",[xhr,textStatus,errorThrown,options]);options.type=="GET"&&textStatus!=="abort"&&allowed&&locationReplace(container.url)},options.success=function(data,status,xhr){var previousState=pjax.state,currentVersion=typeof $.pjax.defaults.version=="function"?$.pjax.defaults.version():$.pjax.defaults.version,latestVersion=xhr.getResponseHeader("X-PJAX-Version"),container=extractContainer(data,xhr,options),url=parseURL(container.url);hash&&(url.hash=hash,container.url=url.href);if(currentVersion&&latestVersion&&currentVersion!==latestVersion){locationReplace(container.url);return}if(!container.contents){locationReplace(container.url);return}pjax.state={id:options.id||uniqueId(),url:container.url,title:container.title,container:context.selector,fragment:options.fragment,timeout:options.timeout},(options.push||options.replace)&&window.history.replaceState(pjax.state,container.title,container.url);var blurFocus=$.contains(options.container,document.activeElement);if(blurFocus)try{document.activeElement.blur()}catch(e){}container.title&&(document.title=container.title),fire("pjax:beforeReplace",[container.contents,options],{state:pjax.state,previousState:previousState}),context.html(container.contents);var autofocusEl=context.find("input[autofocus], textarea[autofocus]").last()[0];autofocusEl&&document.activeElement!==autofocusEl&&autofocusEl.focus(),executeScriptTags(container.scripts);var scrollTo=options.scrollTo;if(hash){var name=decodeURIComponent(hash.slice(1)),target=document.getElementById(name)||document.getElementsByName(name)[0];target&&(scrollTo=$(target).offset().top)}typeof scrollTo=="number"&&$(window).scrollTop(scrollTo),fire("pjax:success",[data,status,xhr,options])},pjax.state||(pjax.state={id:uniqueId(),url:window.location.href,title:document.title,container:context.selector,fragment:options.fragment,timeout:options.timeout},window.history.replaceState(pjax.state,document.title)),abortXHR(pjax.xhr),pjax.options=options;var xhr=pjax.xhr=$.ajax(options);return xhr.readyState>0&&(options.push&&!options.replace&&(cachePush(pjax.state.id,cloneContents(context)),window.history.pushState(null,"",options.requestUrl)),fire("pjax:start",[xhr,options]),fire("pjax:send",[xhr,options])),pjax.xhr}function pjaxReload(container,options){var defaults={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return pjax($.extend(defaults,optionsFor(container,options)))}function locationReplace(url){window.history.replaceState(null,"",pjax.state.url),window.location.replace(url)}function onPjaxPopstate(event){initialPop||abortXHR(pjax.xhr);var previousState=pjax.state,state=event.state,direction;if(state&&state.container){if(initialPop&&initialURL==state.url)return;if(previousState){if(previousState.id===state.id)return;direction=previousState.id<state.id?"forward":"back"}var cache=cacheMapping[state.id]||[],container=$(cache[0]||state.container),contents=cache[1];if(container.length){previousState&&cachePop(direction,previousState.id,cloneContents(container));var popstateEvent=$.Event("pjax:popstate",{state:state,direction:direction});container.trigger(popstateEvent);var options={id:state.id,url:state.url,container:container,push:!1,fragment:state.fragment,timeout:state.timeout,scrollTo:!1};if(contents){container.trigger("pjax:start",[null,options]),pjax.state=state,state.title&&(document.title=state.title);var beforeReplaceEvent=$.Event("pjax:beforeReplace",{state:state,previousState:previousState});container.trigger(beforeReplaceEvent,[contents,options]),container.html(contents),container.trigger("pjax:end",[null,options])}else pjax(options);container[0].offsetHeight}else locationReplace(location.href)}initialPop=!1}function fallbackPjax(options){var url=$.isFunction(options.url)?options.url():options.url,method=options.type?options.type.toUpperCase():"GET",form=$("<form>",{method:method==="GET"?"GET":"POST",action:url,style:"display:none"});method!=="GET"&&method!=="POST"&&form.append($("<input>",{type:"hidden",name:"_method",value:method.toLowerCase()}));var data=options.data;if(typeof data=="string")$.each(data.split("&"),function(index,value){var pair=value.split("=");form.append($("<input>",{type:"hidden",name:pair[0],value:pair[1]}))});else if($.isArray(data))$.each(data,function(index,value){form.append($("<input>",{type:"hidden",name:value.name,value:value.value}))});else if(typeof data=="object"){var key;for(key in data)form.append($("<input>",{type:"hidden",name:key,value:data[key]}))}$(document.body).append(form),form.submit()}function abortXHR(xhr){xhr&&xhr.readyState<4&&(xhr.onreadystatechange=$.noop,xhr.abort())}function uniqueId(){return(new Date).getTime()}function cloneContents(container){var cloned=container.clone();return cloned.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[container.selector,cloned.contents()]}function stripInternalParams(url){return url.search=url.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),url.href.replace(/\?($|#)/,"$1")}function parseURL(url){var a=document.createElement("a");return a.href=url,a}function stripHash(location){return location.href.replace(/#.*/,"")}function optionsFor(container,options){return container&&options?options.container=container:$.isPlainObject(container)?options=container:options={container:container},options.container&&(options.container=findContainerFor(options.container)),options}function findContainerFor(container){container=$(container);if(!container.length)throw"no pjax container for "+container.selector;if(container.selector!==""&&container.context===document)return container;if(container.attr("id"))return $("#"+container.attr("id"));throw"cant get selector for pjax container!"}function findAll(elems,selector){return elems.filter(selector).add(elems.find(selector))}function parseHTML(html){return $.parseHTML(html,document,!0)}function extractContainer(data,xhr,options){var obj={},fullDocument=/<html/i.test(data),serverUrl=xhr.getResponseHeader("X-PJAX-URL");obj.url=serverUrl?stripInternalParams(parseURL(serverUrl)):options.requestUrl;if(fullDocument)var $head=$(parseHTML(data.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),$body=$(parseHTML(data.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var $head=$body=$(parseHTML(data));if($body.length===0)return obj;obj.title=findAll($head,"title").last().text();if(options.fragment){if(options.fragment==="body")var $fragment=$body;else var $fragment=findAll($body,options.fragment).first();$fragment.length&&(obj.contents=options.fragment==="body"?$fragment:$fragment.contents(),obj.title||(obj.title=$fragment.attr("title")||$fragment.data("title")))}else fullDocument||(obj.contents=$body);return obj.contents&&(obj.contents=obj.contents.not(function(){return $(this).is("title")}),obj.contents.find("title").remove(),obj.scripts=findAll(obj.contents,"script[src]").remove(),obj.contents=obj.contents.not(obj.scripts)),obj.title&&(obj.title=$.trim(obj.title)),obj}function executeScriptTags(scripts){if(!scripts)return;var existingScripts=$("script[src]");scripts.each(function(){var src=this.src,matchedScripts=existingScripts.filter(function(){return this.src===src});if(matchedScripts.length)return;var script=document.createElement("script"),type=$(this).attr("type");type&&(script.type=type),script.src=$(this).attr("src"),document.head.appendChild(script)})}function cachePush(id,value){cacheMapping[id]=value,cacheBackStack.push(id),trimCacheStack(cacheForwardStack,0),trimCacheStack(cacheBackStack,pjax.defaults.maxCacheLength)}function cachePop(direction,id,value){var pushStack,popStack;cacheMapping[id]=value,direction==="forward"?(pushStack=cacheBackStack,popStack=cacheForwardStack):(pushStack=cacheForwardStack,popStack=cacheBackStack),pushStack.push(id),(id=popStack.pop())&&delete cacheMapping[id],trimCacheStack(pushStack,pjax.defaults.maxCacheLength)}function trimCacheStack(stack,length){while(stack.length>length)delete cacheMapping[stack.shift()]}function findVersion(){return $("meta").filter(function(){var name=$(this).attr("http-equiv");return name&&name.toUpperCase()==="X-PJAX-VERSION"}).attr("content")}function enable(){$.fn.pjax=fnPjax,$.pjax=pjax,$.pjax.enable=$.noop,$.pjax.disable=disable,$.pjax.click=handleClick,$.pjax.submit=handleSubmit,$.pjax.reload=pjaxReload,$.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:findVersion},$(window).on("popstate.pjax",onPjaxPopstate)}function disable(){$.fn.pjax=function(){return this},$.pjax=fallbackPjax,$.pjax.enable=enable,$.pjax.disable=$.noop,$.pjax.click=$.noop,$.pjax.submit=$.noop,$.pjax.reload=function(){window.location.reload()},$(window).off("popstate.pjax",onPjaxPopstate)}var initialPop=!0,initialURL=window.location.href,initialState=window.history.state;initialState&&initialState.container&&(pjax.state=initialState),"state"in window.history&&(initialPop=!1);var cacheMapping={},cacheForwardStack=[],cacheBackStack=[];$.inArray("state",$.event.props)<0&&$.event.props.push("state"),$.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),$.support.pjax?enable():disable()})(jQuery)},{}],202:[function(require,module,exports){(function($){"use strict";var $window=$(window),MIN_SCROLL_HEIGHT=50,throttle=function(func,context,wait){var previous=0;return function(){var now,remaining;now=new Date,remaining=wait-(now-previous);if(remaining<=0)return previous=now,func.apply(context,arguments)}},index=0,cache=function(func){var key=(index++).toString();return function(){return this.cache[key]||(this.cache[key]=func.apply(this)),this.cache[key]}},ScrollChaser=function(){function ScrollChaser($el,options){this.$el=$el,this.$el.css({width:this.$el.width()}),this.$wrapper=options.wrapper,this.$wrapper.css("position")==="static"&&this.$wrapper.css("position","relative"),this.sentinel=$("<div></div>").css({position:options.ignore?"absolute":"relative",top:0,height:0}),this.$el.before(this.sentinel),this.offsetTop=options.offsetTop||0,this.offsetBottom=options.offsetBottom||0,this.position=options.position||"top",this.ignore=options.ignore,this.ignore&&this.$el.css({position:"absolute",top:0}),this.handler=throttle(this.position=="bottom"?this.onScrollBottom:this.onScrollTop,this,options.throttle||10),$window.on("scroll",this.handler),$window.on("resize",this.handler),this.handler()}return $.extend(ScrollChaser.prototype,{state:"top",same:!1,onScrollTop:function(){this.cache={};if(!this.ignore&&(this.same||this.state==="top"&&this.isSameHeight())){this.same=!0;return}var state,offset=this.getScrollTop()+this.offsetTop;offset<this.getSentinelTop()?state="top":offset+this.getOuterHeight()>this.getSentinelBottom()?state="bottom":state="fixed";if(this.state===state&&state==="fixed")return;this.transferTo(state)},onScrollBottom:function(){this.cache={};if(!this.ignore&&(this.same||this.state==="top"&&this.isSameHeight())){this.same=!0;return}var state,offset;offset=this.getScrollTop()+$window.height(),offset>this.getSentinelBottom()?state="bottom":offset-this.getOuterHeight()<this.getSentinelTop()?state="top":state="fixed";if(this.state===state&&state==="fixed")return;this.transferTo(state)},transferTo:function(state){this.state=state;var prop;this.state==="top"?prop={position:this.ignore?"absolute":"relative",top:0,bottom:""}:this.state==="bottom"?prop={position:"absolute",top:this.getWrapperHeight()-this.getOuterHeight(),bottom:""}:this.position==="bottom"?prop={position:"fixed",top:"",bottom:this.offsetBottom}:prop={position:"fixed",top:this.offsetTop,bottom:""},this.$el.css(prop)},isSameHeight:function(){return this.getSentinelBottom()-this.getBottom()-this.offsetBottom<MIN_SCROLL_HEIGHT},getScrollTop:cache(function(){return $window.scrollTop()}),getWrapperHeight:cache(function(){return this.$wrapper.outerHeight()}),getOuterHeight:cache(function(){return this.$el.outerHeight(!0)+this.offsetBottom}),getSentinelTop:cache(function(){return this.sentinel.offset().top}),getSentinelBottom:cache(function(){return this.$wrapper.offset().top+this.getWrapperHeight()+parseInt(this.$wrapper.css("margin-top"),10)}),getBottom:cache(function(){return this.$el.offset().top+this.getOuterHeight()}),destroy:function(){if(!this.$el)return;this.transferTo("top"),this.$el=this.$wrapper=null,$window.off("scroll",this.handler),$window.off("resize",this.handler)}}),ScrollChaser}();$.fn.scrollChaser=function(options){options||(options={}),options
.wrapper?options.wrapper instanceof $||(options.wrapper=$(options.wrapper)):options.wrapper=$(document.body),this.scrollChaser=new ScrollChaser(this,options);var that=this,origRemove=this.remove;return this.remove=function(){that.scrollChaser.destroy(),origRemove.apply(that,arguments)},this},$.fn.outerHeight||($.fn.outerHeight=function(includeMargin){var size=this.height();return includeMargin||(size-=parseInt(this.css("margin-bottom"),10),size-=parseInt(this.css("margin-top"),10)),size})})(window.jQuery||window.Zepto)},{}],203:[function(require,module,exports){(function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)})(function($){function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,!element.href||!mapName||map.nodeName.toLowerCase()!=="map"?!1:(img=$("img[usemap='#"+mapName+"']")[0],!!img&&visible(img))):(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"}).length}$.ui=$.ui||{},$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);return excludeStaticParent&&parent.css("position")==="static"?!1:overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent},uniqueId:function(){var uuid=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0,border&&(size-=parseFloat($.css(elem,"border"+this+"Width"))||0),margin&&(size-=parseFloat($.css(elem,"margin"+this))||0)}),size}var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return size===undefined?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return typeof size!="number"?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(removeData){return function(key){return arguments.length?removeData.call(this,$.camelCase(key)):removeData.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.fn.extend({focus:function(orig){return function(delay,fn){return typeof delay=="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):orig.apply(this,arguments)}}($.fn.focus),disableSelection:function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0)return value}elem=elem.parent()}}return 0}}),$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set)return;if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11))return;for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}}})},{}],204:[function(require,module,exports){(function(factory){typeof define=="function"&&define.amd?define(["jquery","./widget"],factory):factory(jQuery)})(function($){var mouseHandled=!1;return $(document).mouseup(function(){mouseHandled=!1}),$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(!0===$.data(event.target,that.widgetName+".preventClickEvent"))return $.removeData(event.target,that.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(mouseHandled)return;this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var that=this,btnIsLeft=event.which===1,elIsCancel=typeof this.options.cancel=="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:!1;if(!btnIsLeft||elIsCancel||!this._mouseCapture(event))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(event)!==!1;if(!this._mouseStarted)return event.preventDefault(),!0}return!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return that._mouseMove(event)},this._mouseUpDelegate=function(event){return that._mouseUp(event)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button)return this._mouseUp(event);if(!event.which)return this._mouseUp(event)}if(event.which||event.button)this._mouseMoved=!0;return this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted)},_mouseUp:function(event){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target===this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),mouseHandled=!1,!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},{}],205:[function(require,module,exports){(function(factory){typeof define=="function"&&define.amd?define(["jquery","./core","./mouse","./widget"],factory):factory(jQuery)})(function($){return $.widget("ui.sortable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return x>=reference&&x<reference+size},_isFloating:function(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(key,value){this._super(key,value),key==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),$.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=!1,that=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(event),$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that)return currentItem=$(this),!1}),$.data(event.target,that.widgetName+"-item")===that&&(currentItem=$(event.target));if(!currentItem)return!1;if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){this===event.target&&(validHandle=!0)});if(!validHandle)return!1}return this.currentItem=currentItem,this._removeCurrentsFromItems(),!0},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&o.cursor!=="auto"&&(body=this.document.find("body"),this.storedCursor=body.css("cursor"),body.css("cursor",o.cursor),this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!noActivation)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(event),!0},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=!1;this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-this.document.scrollTop()<o.scrollSensitivity?scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity&&(scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),event.pageX-this.document.scrollLeft()<o.scrollSensitivity?scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)),this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(i=this.items.length-1;i>=0;i--){item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(!intersection)continue;if(item.instance!==this.currentContainer)continue;if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):!0)){this.direction=intersection===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){if(!event)return;$.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event);if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x")animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);if(!axis||axis==="y")animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);this.reverting=!0,$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else this._clear(event,noPropagation);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[\-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")}),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=this.options.axis==="x"||y1+dyClick>t&&y1+dyClick<b,isOverElementWidth=this.options.axis==="y"||x1+dxClick>l&&x1+dxClick<r,isOverElement=isOverElementHeight&&isOverElementWidth;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?isOverElement:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return isOverElement?this.floating?horizontalDirection&&horizontalDirection==="right"||verticalDirection==="down"?2:1:verticalDirection&&(verticalDirection==="down"?2:1):!1},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return this.floating&&horizontalDirection?horizontalDirection==="right"&&isOverRightHalf||horizontalDirection==="left"&&!isOverRightHalf:verticalDirection&&(verticalDirection==="down"&&isOverBottomHalf||verticalDirection==="up"&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left")},refresh:function(event){return this._refreshItems(event),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){function addItems(){items.push(this)}var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--)inst=$.data(cur[j],this.widgetFullName),inst&&inst!==this&&!inst.options.disabled&&queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--)queries[i][0].each(addItems);return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++)if(list[j]===item.item[0])return!1;return!0})},_refreshItems:function(event){this.items=[],this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--)inst=$.data(cur[j],this.widgetFullName),inst&&inst!==this&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst))}for(i=queries.length-1;i>=0;i--){targetData=queries[i][1],_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++)item=$(_queries[j]),item.data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}},refreshPositions:function(fast){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0])continue;t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item,fast||(item.width=t.outerWidth(),item.height=t.outerHeight()),p=t.offset(),item.left=p.left,item.top=p.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)p=this.containers[i].element.offset(),this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String)className=o.placeholder,o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return nodeName==="tbody"?that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element)):nodeName==="tr"?that._createTrPlaceholder(that.currentItem,element):nodeName==="img"&&element.attr("src",that.currentItem.attr("src")),className||element.css("visibility","hidden"),element},update:function(container,p){if(className&&!o.forcePlaceholderSize)return;p.height()||p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10)),p.width()||p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10))}};that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem)),that.currentItem.after(that.placeholder),o.placeholder.update(that,that.placeholder)},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr)})},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i],innermostIndex=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!innermostContainer)return;if(this.containers.length===1)this.containers[innermostIndex].containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1);else{dist=1e4,itemWithLeastDistance=null,floating=innermostContainer.floating||this._isFloating(this.currentItem),posProperty=floating?"left":"top",sizeProperty=floating?"width":"height",axis=floating?"clientX":"clientY";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0]))continue;if(this.items[j].item[0]===this.currentItem[0])continue;cur=this.items[j].item.offset()[posProperty],nearBottom=!1,event[axis]-cur>this.items[j][sizeProperty]/2&&(nearBottom=!0),Math.abs(event[axis]-cur)<dist&&(dist=Math.abs(event[axis]-cur),itemWithLeastDistance=this.items[j],this.direction=nearBottom?"up":"down")}if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[innermostIndex]){this.currentContainer.containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash()),this.currentContainer.containerCache.over=1);return}itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.currentContainer=this.containers[innermostIndex],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):o.helper==="clone"?this.currentItem.clone():this.currentItem;return helper.parents("body").length||$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]),helper[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!helper[0].style.width||o.forceHelperSize)&&helper.width(this.currentItem.width()),(!helper[0].style.height||o.forceHelperSize)&&helper.height(this.currentItem.height()),helper},_adjustOffsetFromHelper:function(obj){typeof obj=="string"&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)po={top:0,left:0};return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,co,over,o=this.options;o.containment==="parent"&&(o.containment=this.helper[0].parentNode);if(o.containment==="document"||o.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(o.containment)||(ce=$(o.containment)[0],co=$(o.containment).offset(),over=$(ce).css("overflow")!=="hidden",this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod=d==="absolute"?1:-1,scroll=this.cssPosition!=="absolute"||this.scrollParent[0]!==this.document[0]&&!!$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition!=="absolute"||this.scrollParent[0]!==this.document[0]&&!!$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===this.document[0]||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-
this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3]&&(pageY=this.containment[3]+this.offset.click.top)),o.grid&&(top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1],pageY=this.containment?top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3]?top:top-this.offset.click.top>=this.containment[1]?top-o.grid[1]:top+o.grid[1]:top,left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0],pageX=this.containment?left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2]?left:left-this.offset.click.left>=this.containment[0]?left-o.grid[0]:left+o.grid[0]:left)),{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){counter===this.counter&&this.refreshPositions(!hardRefresh)})},_clear:function(event,noPropagation){function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}this.reverting=!1;var i,delayedTriggers=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())}),this!==this.currentContainer&&(noPropagation||(delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())}),delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer)),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer))));for(i=this.containers.length-1;i>=0;i--)noPropagation||delayedTriggers.push(delayEvent("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(delayEvent("out",this,this.containers[i])),this.containers[i].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null);if(!noPropagation){for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}})})},{}],206:[function(require,module,exports){(function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)})(function($){var widget_uuid=0,widget_slice=Array.prototype.slice;return $.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++)try{events=$._data(elem,"events"),events&&events.remove&&$(elem).triggerHandler("remove")}catch(e){}orig(elems)}}($.cleanData),$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];return name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){if(!this._createWidget)return new constructor(options,element);arguments.length&&this._createWidget(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return}proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var __super=this._super,__superApply=this._superApply,returnValue;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}()}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor),constructor},$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&value!==undefined&&($.isPlainObject(value)?target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):target[key]=value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options=="string",args=widget_slice.call(arguments,1),returnValue=this;return isMethodCall?this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance")return returnValue=instance,!1;if(!instance)return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");if(!$.isFunction(instance[options])||options.charAt(0)==="_")return $.error("no such method '"+options+"' for "+name+" widget instance");methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1}):(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var instance=$.data(this,fullName);instance?(instance.option(options||{}),instance._init&&instance._init()):$.data(this,fullName,new object(options,this))})),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=widget_uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0)return $.widget.extend({},this.options);if(typeof key=="string"){options={},parts=key.split("."),key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];key=parts.pop();if(arguments.length===1)return curOption[key]===undefined?null:curOption[key];curOption[key]=value}else{if(arguments.length===1)return this.options[key]===undefined?null:this.options[key];options[key]=value}}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return this.options[key]=value,key==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!value),value&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;typeof suppressDisabledCheck!="boolean"&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===!0||$(this).hasClass("ui-state-disabled")))return;return(typeof handler=="string"?instance[handler]:handler).apply(instance,arguments)}typeof handler!="string"&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.delegate(selector,eventName,handlerProxy):element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.unbind(eventName).undelegate(eventName),this.bindings=$(this.bindings.not(element).get()),this.focusable=$(this.focusable.not(element).get()),this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return(typeof handler=="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent;if(orig)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){typeof options=="string"&&(options={effect:options});var hasOptions,effectName=options?options===!0||typeof options=="number"?defaultEffect:options.effect||defaultEffect:method;options=options||{},typeof options=="number"&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}}),$.widget})},{}],207:[function(require,module,exports){(function(jQuery){function keyHandler(handleObj){typeof handleObj.data=="string"&&(handleObj.data={keys:handleObj.data});if(!handleObj.data||!handleObj.data.keys||typeof handleObj.data.keys!="string")return;var origHandler=handleObj.handler,keys=handleObj.data.keys.toLowerCase().split(" ");handleObj.handler=function(event){if(this!==event.target&&(jQuery.hotkeys.options.filterInputAcceptingElements&&jQuery.hotkeys.textInputTypes.test(event.target.nodeName)||jQuery.hotkeys.options.filterContentEditable&&jQuery(event.target).attr("contenteditable")||jQuery.hotkeys.options.filterTextInputs&&jQuery.inArray(event.target.type,jQuery.hotkeys.textAcceptingInputTypes)>-1))return;var special=event.type!=="keypress"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),modif="",possible={};jQuery.each(["alt","ctrl","shift"],function(index,specialKey){event[specialKey+"Key"]&&special!==specialKey&&(modif+=specialKey+"+")}),event.metaKey&&!event.ctrlKey&&special!=="meta"&&(modif+="meta+"),event.metaKey&&special!=="meta"&&modif.indexOf("alt+ctrl+shift+")>-1&&(modif=modif.replace("alt+ctrl+shift+","hyper+")),special?possible[modif+special]=!0:(possible[modif+character]=!0,possible[modif+jQuery.hotkeys.shiftNums[character]]=!0,modif==="shift+"&&(possible[jQuery.hotkeys.shiftNums[character]]=!0));for(var i=0,l=keys.length;i<l;i++)if(possible[keys[i]])return origHandler.apply(this,arguments)}}jQuery.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler}})})(jQuery||this.jQuery||window.jQuery)},{}],208:[function(require,module,exports){"use strict";function autobind(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.length===1?boundClass.apply(undefined,args):boundMethod.apply(undefined,args)}function boundClass(target){var keys=undefined;return typeof Reflect!="undefined"&&typeof Reflect.ownKeys=="function"?keys=Reflect.ownKeys(target.prototype):(keys=Object.getOwnPropertyNames(target.prototype),typeof Object.getOwnPropertySymbols=="function"&&(keys=keys.concat(Object.getOwnPropertySymbols(target.prototype)))),keys.forEach(function(key){if(key==="constructor")return;var descriptor=Object.getOwnPropertyDescriptor(target.prototype,key);typeof descriptor.value=="function"&&Object.defineProperty(target.prototype,key,boundMethod(target,key,descriptor))}),target}function boundMethod(target,key,descriptor){var fn=descriptor.value;if(typeof fn!="function")throw new Error("@autobind decorator can only be applied to methods not: "+typeof fn);return{configurable:!0,get:function get(){if(this===target.prototype||this.hasOwnProperty(key))return fn;var boundFn=fn.bind(this);return Object.defineProperty(this,key,{value:boundFn,configurable:!0,writable:!0}),boundFn}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=autobind,module.exports=exports["default"]},{}],209:[function(require,module,exports){module.exports=require("./lib/axios")},{"./lib/axios":211}],210:[function(require,module,exports){(function(process){"use strict";var utils=require("./../utils"),buildURL=require("./../helpers/buildURL"),parseHeaders=require("./../helpers/parseHeaders"),transformData=require("./../helpers/transformData"),isURLSameOrigin=require("./../helpers/isURLSameOrigin"),btoa=typeof window!="undefined"&&window.btoa||require("./../helpers/btoa"),settle=require("../helpers/settle");module.exports=function xhrAdapter(resolve,reject,config){var requestData=config.data,requestHeaders=config.headers;utils.isFormData(requestData)&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest,loadEvent="onreadystatechange",xDomain=!1;process.env.NODE_ENV!=="test"&&typeof window!="undefined"&&window.XDomainRequest&&!("withCredentials"in request)&&!isURLSameOrigin(config.url)&&(request=new window.XDomainRequest,loadEvent="onload",xDomain=!0,request.onprogress=function handleProgress(){},request.ontimeout=function handleTimeout(){});if(config.auth){var username=config.auth.username||"",password=config.auth.password||"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}request.open(config.method.toUpperCase(),buildURL(config.url,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,request[loadEvent]=function handleLoad(){if(!request||request.readyState!==4&&!xDomain)return;if(request.status===0)return;var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null,responseData=!config.responseType||config.responseType==="text"?request.responseText:request.response,response={data:transformData(responseData,responseHeaders,config.transformResponse),status:request.status===1223?204:request.status,statusText:request.status===1223?"No Content":request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null},request.onerror=function handleError(){reject(new Error("Network Error")),request=null},request.ontimeout=function handleTimeout(){var err=new Error("timeout of "+config.timeout+"ms exceeded");err.timeout=config.timeout,err.code="ECONNABORTED",reject(err),request=null};if(utils.isStandardBrowserEnv()){var cookies=require("./../helpers/cookies"),xsrfValue=config.withCredentials||isURLSameOrigin(config.url)?cookies.read(config.xsrfCookieName):undefined;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}"setRequestHeader"in request&&utils.forEach(requestHeaders,function setRequestHeader(val,key){typeof requestData=="undefined"&&key.toLowerCase()==="content-type"?delete requestHeaders[key]:request.setRequestHeader(key,val)}),config.withCredentials&&(request.withCredentials=!0);if(config.responseType)try{request.responseType=config.responseType}catch(e){if(request.responseType!=="json")throw e}config.progress&&(config.method==="post"||config.method==="put"?request.upload.addEventListener("progress",config.progress):config.method==="get"&&request.addEventListener("progress",config.progress)),requestData===undefined&&(requestData=null),request.send(requestData)}}).call(this,require("_process"))},{"../helpers/settle":224,"./../helpers/btoa":216,"./../helpers/buildURL":217,"./../helpers/cookies":219,"./../helpers/isURLSameOrigin":221,"./../helpers/parseHeaders":223,"./../helpers/transformData":226,"./../utils":227,_process:590}],211:[function(require,module,exports){"use strict";function Axios(defaultConfig){this.defaults=utils.merge({},defaultConfig),this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}var defaults=require("./defaults"),utils=require("./utils"),dispatchRequest=require("./core/dispatchRequest"),InterceptorManager=require("./core/InterceptorManager"),isAbsoluteURL=require("./helpers/isAbsoluteURL"),combineURLs=require("./helpers/combineURLs"),bind=require("./helpers/bind"),transformData=require("./helpers/transformData");Axios.prototype.request=function request(config){typeof config=="string"&&(config=utils.merge({url:arguments[0]},arguments[1])),config=utils.merge(defaults,this.defaults,{method:"get"},config),config.baseURL&&!isAbsoluteURL(config.url)&&(config.url=combineURLs(config.baseURL,config.url)),config.withCredentials=config.withCredentials||this.defaults.withCredentials,config.data=transformData(config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function cleanHeaderConfig(method){delete config.headers[method]});var chain=[dispatchRequest,undefined],promise=Promise.resolve(config);this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)}),this.interceptors.response.forEach(function pushResponseInterceptors(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)});while(chain.length)promise=promise.then(chain.shift(),chain.shift());return promise};var defaultInstance=new Axios(defaults),axios=module.exports=bind(Axios.prototype.request,defaultInstance);axios.request=bind(Axios.prototype.request,defaultInstance),axios.Axios=Axios,axios.defaults=defaultInstance.defaults,axios.interceptors=defaultInstance.interceptors,axios.create=function create(defaultConfig){return new Axios(defaultConfig)},axios.all=function all(promises){return Promise.all(promises)},axios.spread=require("./helpers/spread"),utils.forEach(["delete","get","head"],function forEachMethodNoData(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))},axios[method]=bind(Axios.prototype[method],defaultInstance)}),utils.forEach(["post","put","patch"],function forEachMethodWithData(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))},axios[method]=bind(Axios.prototype[method],defaultInstance)})},{"./core/InterceptorManager":212,"./core/dispatchRequest":213,"./defaults":214,"./helpers/bind":215,"./helpers/combineURLs":218,"./helpers/isAbsoluteURL":220,"./helpers/spread":225,"./helpers/transformData":226,"./utils":227}],212:[function(require,module,exports){"use strict";function InterceptorManager(){this.handlers=[]}var utils=require("./../utils");InterceptorManager.prototype.use=function use(fulfilled,rejected){return this.handlers.push({fulfilled:fulfilled,rejected:rejected}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function forEach(fn){utils.forEach(this.handlers,function forEachHandler(h){h!==null&&fn(h)})},module.exports=InterceptorManager},{"./../utils":227}],213:[function(require,module,exports){(function(process){"use strict";module.exports=function dispatchRequest(config){return new Promise(function executor(resolve,reject){try{var adapter;typeof config.adapter=="function"?adapter=config.adapter:typeof XMLHttpRequest!="undefined"?adapter=require("../adapters/xhr"):typeof process!="undefined"&&(adapter=require("../adapters/http")),typeof adapter=="function"&&adapter(resolve,reject,config)}catch(e){reject(e)}})}}).call(this,require("_process"))},{"../adapters/http":210,"../adapters/xhr":210,_process:590}],214:[function(require,module,exports){"use strict";function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var utils=require("./utils"),normalizeHeaderName=require("./helpers/normalizeHeaderName"),PROTECTION_PREFIX=/^\)\]\}',?\n/,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};module.exports={transformRequest:[function transformRequest(data,headers){return normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString()):utils.isObject(data)?(setContentTypeIfUnset(headers,"application/json;charset=utf-8"),JSON.stringify(data)):data}],transformResponse:[function transformResponse(data){if(typeof data=="string"){data=data.replace(PROTECTION_PREFIX,"");try{data=JSON.parse(data)}catch(e){}}return data}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:utils.merge(DEFAULT_CONTENT_TYPE),post:utils.merge(DEFAULT_CONTENT_TYPE),put:utils.merge(DEFAULT_CONTENT_TYPE)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(status){return status>=200&&status<300}}},{"./helpers/normalizeHeaderName":222,"./utils":227}],215:[function(require,module,exports){"use strict";module.exports=function bind(fn,thisArg){return function wrap(){var args=new Array(arguments.length);for(var i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},{}],216:[function(require,module,exports){"use strict";function E(){this.message="String contains an invalid character"}function btoa(input){var str=String(input),output="";for(var block,charCode,idx=0,map=chars;str.charAt(idx|0)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=.75);if(charCode>255)throw new E;block=block<<8|charCode}return output}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError",module.exports=btoa},{}],217:[function(require,module,exports){"use strict";function encode(val){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var utils=require("./../utils");module.exports=function buildURL(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,function serialize(val,key){if(val===null||typeof val=="undefined")return;utils.isArray(val)&&(key+="[]"),utils.isArray(val)||(val=[val]),utils.forEach(val,function parseValue(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))})}),serializedParams=parts.join("&")}return serializedParams&&(url+=(url.indexOf("?")===-1?"?":"&")+serializedParams),url}},{"./../utils":227}],218:[function(require,module,exports){"use strict";module.exports=function combineURLs(baseURL,relativeURL){return baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,"")}},{}],219:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+(new Date(expires)).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),secure===!0&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function read(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function remove(name){this.write(name,"",Date.now()-864e5)}}}():function nonStandardBrowserEnv(){return{write:function write(){},read:function read(){return null},remove:function remove(){}}}()},{"./../utils":227}],220:[function(require,module,exports){"use strict";module.exports=function isAbsoluteURL(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},{}],221:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function standardBrowserEnv(){function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:urlParsingNode.pathname.charAt(0)==="/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}var msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a"),originURL;return originURL=resolveURL(window.location.href),function isURLSameOrigin(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function nonStandardBrowserEnv(){return function isURLSameOrigin(){return!0}}()},{"./../utils":227}],222:[function(require,module,exports){"use strict";var utils=require("../utils");module.exports=function normalizeHeaderName(headers,normalizedName){utils.forEach(headers,function processHeader(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])})}},{"../utils":227}],223:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=function parseHeaders(headers){var parsed={},key,val,i;return headers?(utils.forEach(headers.split("\n"),function parser(line){i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed}},{"./../utils":227}],224:[function(require,module,exports){"use strict";module.exports=function settle(resolve,reject,response){var validateStatus=response.config.validateStatus;!response.status||!validateStatus||validateStatus(response.status)?resolve(response):reject(response)}},{}],225:[function(require,module,exports){"use strict";module.exports=function spread(callback){return function wrap(arr){return callback.apply(null,arr)}}},{}],226:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=function transformData(data,headers,fns){return utils.forEach(fns,function transform(fn){data=fn(data,headers)}),data}},{"./../utils":227}],227:[function(require,module,exports){"use strict";function isArray(val){return toString.call(val)==="[object Array]"}function isArrayBuffer
(val){return toString.call(val)==="[object ArrayBuffer]"}function isFormData(val){return typeof FormData!="undefined"&&val instanceof FormData}function isArrayBufferView(val){var result;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?result=ArrayBuffer.isView(val):result=val&&val.buffer&&val.buffer instanceof ArrayBuffer,result}function isString(val){return typeof val=="string"}function isNumber(val){return typeof val=="number"}function isUndefined(val){return typeof val=="undefined"}function isObject(val){return val!==null&&typeof val=="object"}function isDate(val){return toString.call(val)==="[object Date]"}function isFile(val){return toString.call(val)==="[object File]"}function isBlob(val){return toString.call(val)==="[object Blob]"}function isFunction(val){return toString.call(val)==="[object Function]"}function isStream(val){return isObject(val)&&isFunction(val.pipe)}function isURLSearchParams(val){return typeof URLSearchParams!="undefined"&&val instanceof URLSearchParams}function trim(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return typeof window!="undefined"&&typeof document!="undefined"&&typeof document.createElement=="function"}function forEach(obj,fn){if(obj===null||typeof obj=="undefined")return;typeof obj!="object"&&!isArray(obj)&&(obj=[obj]);if(isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)obj.hasOwnProperty(key)&&fn.call(null,obj[key],key,obj)}function merge(){function assignValue(val,key){typeof result[key]=="object"&&typeof val=="object"?result[key]=merge(result[key],val):result[key]=val}var result={};for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result}var toString=Object.prototype.toString;module.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,trim:trim}},{}],228:[function(require,module,exports){(function(global){"use strict";function define(O,key,value){O[key]||Object[DEFINE_PROPERTY](O,key,{writable:!0,configurable:!0,value:value})}require("core-js/shim"),require("babel-regenerator-runtime"),require("core-js/fn/regexp/escape");if(global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var DEFINE_PROPERTY="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key){[][key]&&define(Array,key,Function.call.bind([][key]))})}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"babel-regenerator-runtime":229,"core-js/fn/regexp/escape":235,"core-js/shim":529}],229:[function(require,module,exports){(function(process,global){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn||Generator).prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AwaitArgument(arg){this.arg=arg}function AsyncIterator(generator){function invoke(method,arg){var result=generator[method](arg),value=result.value;return value instanceof AwaitArgument?Promise.resolve(value.arg).then(invokeNext,invokeThrow):Promise.resolve(value).then(function(unwrapped){return result.value=unwrapped,result})}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return invoke(method,arg)}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):new Promise(function(resolve){resolve(callInvokeWithMethodAndArg())})}typeof process=="object"&&process.domain&&(invoke=process.domain.bind(invoke));var invokeNext=invoke.bind(generator,"next"),invokeThrow=invoke.bind(generator,"throw"),invokeReturn=invoke.bind(generator,"return"),previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if(method==="throw")throw arg;return doneResult()}for(;;){var delegate=context.delegate;if(delegate){if(method==="return"||method==="throw"&&delegate.iterator[method]===undefined){context.delegate=null;var returnMethod=delegate.iterator["return"];if(returnMethod){var record=tryCatch(returnMethod,delegate.iterator,arg);if(record.type==="throw"){method="throw",arg=record.arg;continue}}if(method==="return")continue}var record=tryCatch(delegate.iterator[method],delegate.iterator,arg);if(record.type==="throw"){context.delegate=null,method="throw",arg=record.arg;continue}method="next",arg=undefined;var info=record.arg;if(!info.done)return state=GenStateSuspendedYield,info;context[delegate.resultName]=info.value,context.next=delegate.nextLoc,context.delegate=null}if(method==="next")context._sent=arg,state===GenStateSuspendedYield?context.sent=arg:context.sent=undefined;else if(method==="throw"){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,arg;context.dispatchException(arg)&&(method="next",arg=undefined)}else method==="return"&&context.abrupt("return",arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;var info={value:record.arg,done:context.done};if(record.arg!==ContinueSentinel)return info;context.delegate&&method==="next"&&(arg=undefined)}else record.type==="throw"&&(state=GenStateCompleted,method="throw",arg=record.arg)}}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if(typeof iterable.next=="function")return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var hasOwn=Object.prototype.hasOwnProperty,undefined,iteratorSymbol=typeof Symbol=="function"&&Symbol.iterator||"@@iterator",inModule=typeof module=="object",runtime=global.regeneratorRuntime;if(runtime){inModule&&(module.exports=runtime);return}runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor=typeof genFun=="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":!1},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):genFun.__proto__=GeneratorFunctionPrototype,genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return new AwaitArgument(arg)},defineIteratorMethods(AsyncIterator.prototype),runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){while(keys.length){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0,this.next=0,this.sent=undefined,this.done=!1,this.delegate=null,this.tryEntries.forEach(resetTryEntry);if(!skipTempReset)for(var name in this)name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if(rootRecord.type==="throw")throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,!!caught}if(this.done)throw exception;var context=this;for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if(entry.tryLoc==="root")return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?this.next=finallyEntry.finallyLoc:this.complete(record),ContinueSentinel},complete:function(record,afterLoc){if(record.type==="throw")throw record.arg;record.type==="break"||record.type==="continue"?this.next=record.arg:record.type==="return"?(this.rval=record.arg,this.next="end"):record.type==="normal"&&afterLoc&&(this.next=afterLoc)},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},ContinueSentinel}}}(typeof global=="object"?global:typeof window=="object"?window:typeof self=="object"?self:this)}).call(this,require("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:590}],230:[function(require,module,exports){(function(){var Shortcuts;Shortcuts=function(options){return this.cid=_.uniqueId("backbone.shortcuts"),this.initialize.apply(this,arguments),this.delegateShortcuts()},_.extend(Shortcuts.prototype,Backbone.Events,{initialize:function(){},delegateShortcuts:function(){var callback,match,method,scope,shortcut,shortcutKey,_ref,_results;if(!this.shortcuts)return;_ref=this.shortcuts,_results=[];for(shortcut in _ref){callback=_ref[shortcut];if(!_.isFunction(callback)){method=this[callback];if(!method)throw new Error("Method "+callback+" does not exist")}else method=callback;match=shortcut.match(/^(\S+)\s*(.*)$/),shortcutKey=match[1],scope=match[2]===""?"all":match[2],method=_.bind(method,this),_results.push(key(shortcutKey,scope,method))}return _results}}),Backbone.Shortcuts=Shortcuts,Backbone.Shortcuts.extend=Backbone.View.extend}).call(this)},{}],231:[function(require,module,exports){(function(root,factory){if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(_,$,exports){root.Backbone=factory(root,exports,_,$)});else if(typeof exports!="undefined"){var _=require("underscore");factory(root,exports,_)}else root.Backbone=factory(root,{},root._,root.jQuery||root.Zepto||root.ender||root.$)})(this,function(root,Backbone,_,$){var previousBackbone=root.Backbone,array=[],push=array.push,slice=array.slice,splice=array.splice;Backbone.VERSION="1.1.2",Backbone.$=$,Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var Events=Backbone.Events={on:function(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this._events[name]=[]);return events.push({callback:callback,context:context,ctx:context||this}),this},once:function(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this,once=_.once(function(){self.off(name,once),callback.apply(this,arguments)});return once._callback=callback,this.on(name,once,context)},off:function(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context)return this._events=void 0,this;names=name?[name]:_.keys(this._events);for(i=0,l=names.length;i<l;i++){name=names[i];if(events=this._events[name]){this._events[name]=retain=[];if(callback||context)for(j=0,k=events.length;j<k;j++)ev=events[j],(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context)&&retain.push(ev);retain.length||delete this._events[name]}}return this},trigger:function(name){if(!this._events)return this;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name],allEvents=this._events.all;return events&&triggerEvents(events,args),allEvents&&triggerEvents(allEvents,arguments),this},stopListening:function(obj,name,callback){var listeningTo=this._listeningTo;if(!listeningTo)return this;var remove=!name&&!callback;!callback&&typeof name=="object"&&(callback=this),obj&&((listeningTo={})[obj._listenId]=obj);for(var id in listeningTo)obj=listeningTo[id],obj.off(name,callback,this),(remove||_.isEmpty(obj._events))&&delete this._listeningTo[id];return this}},eventSplitter=/\s+/,eventsApi=function(obj,action,name,rest){if(!name)return!0;if(typeof name=="object"){for(var key in name)obj[action].apply(obj,[key,name[key]].concat(rest));return!1}if(eventSplitter.test(name)){var names=name.split(eventSplitter);for(var i=0,l=names.length;i<l;i++)obj[action].apply(obj,[names[i]].concat(rest));return!1}return!0},triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:while(++i<l)(ev=events[i]).callback.call(ev.ctx);return;case 1:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:while(++i<l)(ev=events[i]).callback.apply(ev.ctx,args);return}},listenMethods={listenTo:"on",listenToOnce:"once"};_.each(listenMethods,function(implementation,method){Events[method]=function(obj,name,callback){var listeningTo=this._listeningTo||(this._listeningTo={}),id=obj._listenId||(obj._listenId=_.uniqueId("l"));return listeningTo[id]=obj,!callback&&typeof name=="object"&&(callback=this),obj[implementation](name,callback,this),this}}),Events.bind=Events.on,Events.unbind=Events.off,_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var attrs=attributes||{};options||(options={}),this.cid=_.uniqueId("c"),this.attributes={},options.collection&&(this.collection=options.collection),options.parse&&(attrs=this.parse(attrs,options)||{}),attrs=_.defaults({},attrs,_.result(this,"defaults")),this.set(attrs,options),this.changed={},this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return this.get(attr)!=null},set:function(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(key==null)return this;typeof key=="object"?(attrs=key,options=val):(attrs={})[key]=val,options||(options={});if(!this._validate(attrs,options))return!1;unset=options.unset,silent=options.silent,changes=[],changing=this._changing,this._changing=!0,changing||(this._previousAttributes=_.clone(this.attributes),this.changed={}),current=this.attributes,prev=this._previousAttributes,this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]);for(attr in attrs)val=attrs[attr],_.isEqual(current[attr],val)||changes.push(attr),_.isEqual(prev[attr],val)?delete this.changed[attr]:this.changed[attr]=val,unset?delete current[attr]:current[attr]=val;if(!silent){changes.length&&(this._pending=options);for(var i=0,l=changes.length;i<l;i++)this.trigger("change:"+changes[i],this,current[changes[i]],options)}if(changing)return this;if(!silent)while(this._pending)options=this._pending,this._pending=!1,this.trigger("change",this,options);return this._pending=!1,this._changing=!1,this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:!0}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:!0}))},hasChanged:function(attr){return attr==null?!_.isEmpty(this.changed):_.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var val,changed=!1,old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff){if(_.isEqual(old[attr],val=diff[attr]))continue;(changed||(changed={}))[attr]=val}return changed},previous:function(attr){return attr==null||!this._previousAttributes?null:this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=options?_.clone(options):{},options.parse===void 0&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){if(!model.set(model.parse(resp,options),options))return!1;success&&success(model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),this.sync("read",this,options)},save:function(key,val,options){var attrs,method,xhr,attributes=this.attributes;key==null||typeof key=="object"?(attrs=key,options=val):(attrs={})[key]=val,options=_.extend({validate:!0},options);if(attrs&&!options.wait){if(!this.set(attrs,options))return!1}else if(!this._validate(attrs,options))return!1;attrs&&options.wait&&(this.attributes=_.extend({},attributes,attrs)),options.parse===void 0&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);options.wait&&(serverAttrs=_.extend(attrs||{},serverAttrs));if(_.isObject(serverAttrs)&&!model.set(serverAttrs,options))return!1;success&&success(model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),method=this.isNew()?"create":options.patch?"patch":"update",method==="patch"&&(options.attrs=attrs),xhr=this.sync(method,this,options),attrs&&options.wait&&(this.attributes=attributes),xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,destroy=function(){model.trigger("destroy",model,model.collection,options)};options.success=function(resp){(options.wait||model.isNew())&&destroy(),success&&success(model,resp,options),model.isNew()||model.trigger("sync",model,resp,options)};if(this.isNew())return options.success(),!1;wrapError(this,options);var xhr=this.sync("delete",this,options);return options.wait||destroy(),xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();return this.isNew()?base:base.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(options){return this._validate({},_.extend(options||{},{validate:!0}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;return error?(this.trigger("invalid",this,error,_.extend(options,{validationError:error})),!1):!0}});var modelMethods=["keys","values","pairs","invert","pick","omit"];_.each(modelMethods,function(method){Model.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.attributes),_[method].apply(_,args)}});var Collection=Backbone.Collection=function(models,options){options||(options={}),options.model&&(this.model=options.model),options.comparator!==void 0&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,_.extend({silent:!0},options))},setOptions={add:!0,remove:!0,merge:!0},addOptions={add:!0,remove:!1};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.extend({merge:!1},options,addOptions))},remove:function(models,options){var singular=!_.isArray(models);models=singular?[models]:_.clone(models),options||(options={});var i,l,index,model;for(i=0,l=models.length;i<l;i++){model=models[i]=this.get(models[i]);if(!model)continue;delete this._byId[model.id],delete this._byId[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model,options)}return singular?models[0]:models},set:function(models,options){options=_.defaults({},options,setOptions),options.parse&&(models=this.parse(models,options));var singular=!_.isArray(models);models=singular?models?[models]:[]:_.clone(models);var i,l,id,model,attrs,existing,sort,at=options.at,targetModel=this.model,sortable=this.comparator&&at==null&&options.sort!==!1,sortAttr=_.isString(this.comparator)?this.comparator:null,toAdd=[],toRemove=[],modelMap={},add=options.add,merge=options.merge,remove=options.remove,order=!sortable&&add&&remove?[]:!1;for(i=0,l=models.length;i<l;i++){attrs=models[i]||{},attrs instanceof Model?id=model=attrs:id=attrs[targetModel.prototype.idAttribute||"id"];if(existing=this.get(id))remove&&(modelMap[existing.cid]=!0),merge&&(attrs=attrs===model?model.attributes:attrs,options.parse&&(attrs=existing.parse(attrs,options)),existing.set(attrs,options),sortable&&!sort&&existing.hasChanged(sortAttr)&&(sort=!0)),models[i]=existing;else if(add){model=models[i]=this._prepareModel(attrs,options);if(!model)continue;toAdd.push(model),this._addReference(model,options)}model=existing||model,order&&(model.isNew()||!modelMap[model.id])&&order.push(model),modelMap[model.id]=!0}if(remove){for(i=0,l=this.length;i<l;++i)modelMap[(model=this.models[i]).cid]||toRemove.push(model);toRemove.length&&this.remove(toRemove,options)}if(toAdd.length||order&&order.length){sortable&&(sort=!0),this.length+=toAdd.length;if(at!=null)for(i=0,l=toAdd.length;i<l;i++)this.models.splice(at+i,0,toAdd[i]);else{order&&(this.models.length=0);var orderedModels=order||toAdd;for(i=0,l=orderedModels.length;i<l;i++)this.models.push(orderedModels[i])}}sort&&this.sort({silent:!0});if(!options.silent){for(i=0,l=toAdd.length;i<l;i++)(model=toAdd[i]).trigger("add",model,this,options);(sort||order&&order.length)&&this.trigger("sort",this,options)}return singular?models[0]:models},reset:function(models,options){options||(options={});for(var i=0,l=this.models.length;i<l;i++)this._removeReference(this.models[i],options);return options.previousModels=this.models,this._reset(),models=this.add(models,_.extend({silent:!0},options)),options.silent||this.trigger("reset",this,options),models},push:function(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return this.add(model,_.extend({at:0},options))},shift:function(options){var model=this.at(0);return this.remove(model,options),model},slice:function(){return slice.apply(this.models,arguments)},get:function(obj){return obj==null?void 0:this._byId[obj]||this._byId[obj.id]||this._byId[obj.cid]},at:function(index){return this.models[index]},where:function(attrs,first){return _.isEmpty(attrs)?first?void 0:[]:this[first?"find":"filter"](function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return!0})},findWhere:function(attrs){return this.where(attrs,!0)},sort:function(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return options||(options={}),_.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),options.silent||this.trigger("sort",this,options),this},pluck:function(attr){return _.invoke(this.models,"get",attr)},fetch:function(options){options=options?_.clone(options):{},options.parse===void 0&&(options.parse=!0);var success=options.success,collection=this;return options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options),success&&success(collection,resp,options),collection.trigger("sync",collection,resp,options)},wrapError(this,options),this.sync("read",this,options)},create:function(model,options){options=options?_.clone(options):{};if(!(model=this._prepareModel(model,options)))return!1;options.wait||this.add(model,options);var collection=this,success=options.success;return options.success=function(model,resp){options.wait&&collection.add(model,options),success&&success(model,resp,options)},model.save(null,options),model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(attrs,options){if(attrs instanceof Model)return attrs;options=options?_.clone(options):{},options.collection=this;var model=new this.model(attrs,options);return model.validationError?(this.trigger("invalid",this,model.validationError,options),!1):model},_addReference:function(model,options){this._byId[model.cid]=model,model.id!=null&&(this._byId[model.id]=model),model.collection||(model.collection=this),model.on("all",this._onModelEvent,this)},_removeReference:function(model,options){this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if((event==="add"||event==="remove")&&collection!==this)return;event==="destroy"&&this.remove(model,options),model&&event==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],model.id!=null&&(this._byId[model.id]=model)),this.trigger.apply(this,arguments)}});var methods=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];_.each(methods,function(method){Collection.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.models),_[method].apply(_,args)}});var attributeMethods=["groupBy","countBy","sortBy","indexBy"];_.each(attributeMethods,function(method){Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),options||(options={}),_.extend(this,_.pick(options,viewOptions)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(element,delegate){return this.$el&&this.undelegateEvents(),this.$el=element instanceof Backbone.$?element:Backbone.$(element),this.el=this.$el[0],delegate!==!1&&this.delegateEvents(),this},delegateEvents:function(events){if(!events&&!(events=_.result(this,"events")))return this;this.undelegateEvents();for(var key in events){var method=events[key];_.isFunction(method)||(method=this[events[key]]);if(!method)continue;var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,selector===""?this.$el.on(eventName,method):this.$el.on(eventName,selector,method)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var attrs=_.extend({},_.result(this,"attributes"));this.id&&(attrs.id=_.result(this,"id")),this.className&&(attrs["class"]=_.result(this,"className"));var $el=Backbone.$("<"+_.result(this,"tagName")+">").attr(attrs);this.setElement($el,!1)}else this.setElement(_.result(this,"el"),!1)}}),Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};options.url||(params.url=_.result(model,"url")||urlError()),options.data==null&&model&&(method==="create"||method==="update"||method==="patch")&&(params.contentType="application/json",params.data=JSON.stringify(options.attrs||model.toJSON(options))),options.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{});if(options.emulateHTTP&&(type==="PUT"||type==="DELETE"||type==="PATCH")){params.type="POST",options.emulateJSON&&(params.data._method=type);var beforeSend=options.beforeSend;options.beforeSend=function(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type);if(beforeSend)return beforeSend.apply(this,arguments)}}params.type!=="GET"&&!options.emulateJSON&&(params.processData=!1),params.type==="PATCH"&&noXhrPatch&&(params.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var xhr=options.xhr=Backbone.ajax(_.extend(params,options));return model.trigger("request",model,xhr,options),xhr};var noXhrPatch=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),methodMap={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes
(),this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){_.isRegExp(route)||(route=this._routeToRegExp(route)),_.isFunction(name)&&(callback=name,name=""),callback||(callback=this[name]);var router=this;return Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);router.execute(callback,args),router.trigger.apply(router,["route:"+name].concat(args)),router.trigger("route",name,args),Backbone.history.trigger("route",router,name,args)}),this},execute:function(callback,args){callback&&callback.apply(this,args)},navigate:function(fragment,options){return Backbone.history.navigate(fragment,options),this},_bindRoutes:function(){if(!this.routes)return;this.routes=_.result(this,"routes");var route,routes=_.keys(this.routes);while((route=routes.pop())!=null)this.route(route,this.routes[route])},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/?]+)"}).replace(splatParam,"([^?]*?)"),new RegExp("^"+route+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param,i){return i===params.length-1?param||null:param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/,pathStripper=/#.*$/;History.started=!1,_.extend(History.prototype,Events,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(fragment==null)if(this._hasPushState||!this._wantsHashChange||forcePushState){fragment=decodeURI(this.location.pathname+this.location.search);var root=this.root.replace(trailingSlash,"");fragment.indexOf(root)||(fragment=fragment.slice(root.length))}else fragment=this.getHash();return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({root:"/"},this.options,options),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7);this.root=("/"+this.root+"/").replace(rootStripper,"/");if(oldIE&&this._wantsHashChange){var frame=Backbone.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=frame.hide().appendTo("body")[0].contentWindow,this.navigate(fragment)}this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();current===this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe)));if(current===this.fragment)return!1;this.iframe&&this.navigate(current),this.loadUrl()},loadUrl:function(fragment){return fragment=this.fragment=this.getFragment(fragment),_.any(this.handlers,function(handler){if(handler.route.test(fragment))return handler.callback(fragment),!0})},navigate:function(fragment,options){if(!History.started)return!1;if(!options||options===!0)options={trigger:!!options};var url=this.root+(fragment=this.getFragment(fragment||""));fragment=fragment.replace(pathStripper,"");if(this.fragment===fragment)return;this.fragment=fragment,fragment===""&&url!=="/"&&(url=url.slice(0,-1));if(this._hasPushState)this.history[options.replace?"replaceState":"pushState"]({},document.title,url);else{if(!this._wantsHashChange)return this.location.assign(url);this._updateHash(this.location,fragment,options.replace),this.iframe&&fragment!==this.getFragment(this.getHash(this.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,fragment,options.replace))}if(options.trigger)return this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else location.hash="#"+fragment}}),Backbone.history=new History;var extend=function(protoProps,staticProps){var parent=this,child;protoProps&&_.has(protoProps,"constructor")?child=protoProps.constructor:child=function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&_.extend(child.prototype,protoProps),child.__super__=parent.prototype,child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(model,options){var error=options.error;options.error=function(resp){error&&error(model,resp,options),model.trigger("error",model,resp,options)}};return Backbone})},{underscore:734}],232:[function(require,module,exports){(function(process,global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}var SomePromiseArray=Promise._SomePromiseArray;Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule}function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise),this._queueTick()}var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule"),Queue=_dereq_("./queue"),util=_dereq_("./util");Async.prototype.setScheduler=function(fn){var prev=this._schedule;return this._schedule=fn,this._customScheduler=!0,prev},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,isNode){isNode?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(fn,arg){arguments.length===1&&(arg=fn,fn=function(){throw arg});if(typeof setTimeout!="undefined")setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},util.hasDevTools?(Async.prototype.invokeLater=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvokeLater.call(this,fn,receiver,arg):this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})},Async.prototype.invoke=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvoke.call(this,fn,receiver,arg):this._schedule(function(){fn.call(receiver,arg)})},Async.prototype.settlePromises=function(promise){this._trampolineEnabled?AsyncSettlePromises.call(this,promise):this._schedule(function(){promise._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg),this._queueTick()},Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!="function"){fn._settlePromises();continue}var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError},{"./queue":26,"./schedule":29,"./util":36}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=!1,rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){(this._bitField&50397184)===0&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){calledBind||(calledBind=!0,Promise.prototype._propagateFrom=debug.propagateFromFunction(),Promise.prototype._boundValue=debug.boundValueFunction());var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();ret._setBoundTo(maybePromise);if(maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,undefined,ret,context),maybePromise._then(bindingResolved,bindingRejected,undefined,ret,context),ret._setOnCancel(maybePromise)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){obj!==undefined?(this._bitField=this._bitField|2097152,this._boundTo=obj):this._bitField=this._bitField&-2097153},Promise.prototype._isBound=function(){return(this._bitField&2097152)===2097152},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},{}],4:[function(_dereq_,module,exports){"use strict";function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var old;typeof Promise!="undefined"&&(old=Promise);var bluebird=_dereq_("./promise")();bluebird.noConflict=noConflict,module.exports=bluebird},{"./promise":22}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){function ensureMethod(obj,methodName){var fn;obj!=null&&(fn=obj[methodName]);if(typeof fn!="function"){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop(),fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}var util=_dereq_("./util"),canEvaluate=util.canEvaluate,isIdentifier=util.isIdentifier,getMethodCaller,getGetter;Promise.prototype.call=function(methodName){var args=[].slice.call(arguments,1);return args.push(methodName),this._then(caller,undefined,undefined,args,undefined)},Promise.prototype.get=function(propertyName){var isIndex=typeof propertyName=="number",getter;if(!isIndex)if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=maybeGetter!==null?maybeGetter:namedGetter}else getter=namedGetter;else getter=indexedGetter;return this._then(getter,undefined,undefined,propertyName,undefined)}}},{"./util":36}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;Promise.prototype["break"]=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");var promise=this,child=promise;while(promise.isCancellable()){if(!promise._cancelBy(child)){child._isFollowing()?child._followee().cancel():child._cancelBranched();break}var parent=promise._cancellationParent;if(parent==null||!parent.isCancellable()){promise._isFollowing()?promise._followee().cancel():promise._cancelBranched();break}promise._isFollowing()&&promise._followee().cancel(),child=promise,promise=parent}},Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},Promise.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0},Promise.prototype._cancelBy=function(canceller){return canceller===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},Promise.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},Promise.prototype._cancel=function(){if(!this.isCancellable())return;this._setCancelled(),async.invoke(this._cancelPromises,this,undefined)},Promise.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},Promise.prototype._unsetOnCancel=function(){this._onCancelField=undefined},Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback))for(var i=0;i<onCancelCallback.length;++i)this._doInvokeOnCancel(onCancelCallback[i],internalOnly);else if(onCancelCallback!==undefined)if(typeof onCancelCallback=="function"){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());e===errorObj&&(this._attachExtraTrace(e.e),async.throwLater(e.e))}}else onCancelCallback._resultCancelled(this)},Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel(),async.invoke(this._doInvokeOnCancel,this,onCancelCallback)},Promise.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},Promise.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){function catchFilter(instances,cb,promise){return function(e){var boundTo=promise._boundValue();e:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||item!=null&&item.prototype instanceof Error){if(e instanceof item)return tryCatch(cb).call(boundTo,e)}else if(typeof item=="function"){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj)return matchesPredicate;if(matchesPredicate)return tryCatch(cb).call(boundTo,e)}else if(util.isObject(e)){var keys=getKeys(item);for(var j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key])continue e}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}var util=_dereq_("./util"),getKeys=_dereq_("./es5").keys,tryCatch=util.tryCatch,errorObj=util.errorObj;return catchFilter}},{"./es5":13,"./util":36}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function Context(){this._trace=new Context.CapturedTrace(peekContext())}function createContext(){if(longStackTraces)return new Context}function peekContext(){var lastIndex=contextStack.length-1;return lastIndex>=0?contextStack[lastIndex]:undefined}var longStackTraces=!1,contextStack=[];return Promise.prototype._promiseCreated=function(){},Promise.prototype._pushContext=function(){},Promise.prototype._popContext=function(){return null},Promise._peekContext=Promise.prototype._peekContext=function(){},Context.prototype._pushContext=function(){this._trace!==undefined&&(this._trace._promiseCreated=null,contextStack.push(this._trace))},Context.prototype._popContext=function(){if(this._trace!==undefined){var trace=contextStack.pop(),ret=trace._promiseCreated;return trace._promiseCreated=null,ret}return null},Context.CapturedTrace=null,Context.create=createContext,Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext,Promise_popContext=Promise.prototype._popContext,Promise_PeekContext=Promise._peekContext,Promise_peekContext=Promise.prototype._peekContext,Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext,Promise.prototype._popContext=Promise_popContext,Promise._peekContext=Promise_PeekContext,Promise.prototype._peekContext=Promise_peekContext,Promise.prototype._promiseCreated=Promise_promiseCreated,longStackTraces=!1},longStackTraces=!0,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,Promise._peekContext=Promise.prototype._peekContext=peekContext,Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();ctx&&ctx._promiseCreated==null&&(ctx._promiseCreated=this)}},Context}},{}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,Context){function generatePromiseLifecycleEventObject(name,promise){return{promise:promise}}function defaultFireEvent(){return!1}function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,function(onCancel){if(typeof onCancel!="function")throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel));promise._attachCancellationCallback(onCancel)})}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this.isCancellable())return this;var previousOnCancel=this._onCancel();previousOnCancel!==undefined?util.isArray(previousOnCancel)?previousOnCancel.push(onCancel):this._setOnCancel([previousOnCancel,onCancel]):this._setOnCancel(onCancel)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=undefined,this._onCancelField=undefined}function cancellationPropagateFrom(parent,flags){if((flags&1)!==0){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;branchesRemainingToCancel===undefined&&(branchesRemainingToCancel=0),parent._branchesRemainingToCancel=branchesRemainingToCancel+1}(flags&2)!==0&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function bindingPropagateFrom(parent,flags){(flags&2)!==0&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function boundValueFunction(){var ret=this._boundTo;return ret!==undefined&&ret instanceof Promise?ret.isFulfilled()?ret.value():undefined:ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;trace!==undefined&&ignoreSelf&&(trace=trace._parent);if(trace!==undefined)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}}function checkForgottenReturns(returnValue,promiseCreated,name,promise,parent){if(returnValue===undefined&&promiseCreated!==null&&wForgottenReturn){if(parent!==undefined&&parent._returnedNonUndefined())return;if((promise._bitField&65535)===0)return;name&&(name+=" ");var msg="a promise was created in a "+name+"handler but was not returned from it";promise._warn(msg,!0,promiseCreated)}}function deprecated(name,replacement){var message=name+" is deprecated and will be removed in a future version.";return replacement&&(message+=" Use "+replacement+" instead."),warn(message)}function warn(message,shouldUseOwnTrace,promise){if(!config.warnings)return;var warning=new Warning(message),ctx;if(shouldUseOwnTrace)promise._attachExtraTrace(warning);else if(config.longStackTraces&&(ctx=Promise._peekContext()))ctx.attachExtraTrace(warning);else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}activeFireEvent("warning",warning)||formatAndLogError(warning,"",!0)}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i)if(stacks[i].length===0||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])stacks.splice(i,1),i--}function removeCommonRoots(stacks){var current=stacks[0];for(var i=1;i<stacks.length;++i){var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1;for(var j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}function cleanStack(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i],isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line),isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&line.charAt(0)!==" "&&(line="    "+line),ret.push(line))}return ret}function stackFramesAsArray(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&(stack=stack.slice(i)),stack}function parseStackAndMessage(error){var stack=error.stack,message=error.toString();return stack=typeof stack=="string"&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"],{message:message,stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if(typeof console!="undefined"){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);typeof printWarning=="function"?printWarning(message,isSoft):(typeof console.log=="function"||typeof console.log=="object")&&console.log(message)}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=!1;try{typeof localHandler=="function"&&(localEventFired=!0,name==="rejectionHandled"?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}name==="unhandledRejection"?!activeFireEvent(name,reason,promise)&&!localEventFired&&formatAndLogError(reason,"Unhandled rejection "):activeFireEvent(name,promise)}function formatNonError(obj){var str;if(typeof obj=="function")str="[function "+(obj.name||"anonymous")+"]";else{str=obj&&typeof obj.toString=="function"?obj.toString():util.toString(obj);var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str))try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}str.length===0&&(str="(empty array)")}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;return str.length<maxChars?str:str.substr(0,maxChars-3)+"..."}function longStackTracesIsSupported(){return typeof captureStackTrace=="function"}function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}function setBounds(firstLineError,lastLineError){if(!longStackTracesIsSupported())return;var firstStackLines=firstLineError.stack.split("\n"),lastStackLines=lastLineError.stack.split("\n"),firstIndex=-1,lastIndex=-1,firstFileName,lastFileName;for(var i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName,firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName,lastIndex=result.line;break}}if(firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex)return;shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex?!0:!1}}function CapturedTrace(parent){this._parent=parent,this._promisesCreated=0;var length=this._length=1+(parent===undefined?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}var getDomain=Promise._getDomain,async=Promise._async,Warning=_dereq_("./errors").Warning,util=_dereq_("./util"),canAttachTrace=util.canAttachTrace,unhandledRejectionHandled,possiblyUnhandledRejection,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,stackFramePattern=null,formatStack=null,indentStackFrames=!1,printWarning,debugging=util.env("BLUEBIRD_DEBUG")!=0&&!0,warnings=!(util.env("BLUEBIRD_WARNINGS")==0||!debugging&&!util.env("BLUEBIRD_WARNINGS")),longStackTraces=!(util.env("BLUEBIRD_LONG_STACK_TRACES")==0||!debugging&&!util.env("BLUEBIRD_LONG_STACK_TRACES")),wForgottenReturn=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=target._bitField&-1048577|524288},Promise.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled(),async.invokeLater(this._notifyUnhandledRejection,this,undefined)},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,undefined,this)},Promise.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},Promise.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},Promise.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)},Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection=typeof fn=="function"?domain===null?fn:domain.bind(fn):undefined},Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled=typeof fn=="function"?domain===null?fn:domain.bind(fn):undefined};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace,Promise_attachExtraTrace=Promise.prototype._attachExtraTrace;config.longStackTraces=!0,disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");Promise.prototype._captureStackTrace=Promise_captureStackTrace,Promise.prototype._attachExtraTrace=Promise_attachExtraTrace,Context.deactivateLongStackTraces(),async.enableTrampoline(),config.longStackTraces=!1},Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace,Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,Context.activateLongStackTraces(),async.disableTrampolineIfNecessary()}},Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};var fireDomEvent=function(){try{var event=document.createEvent("CustomEvent");return event.initCustomEvent("testingtheevent",!1,!0,{}),util.global.dispatchEvent(event),function(name,event){var domEvent=document.createEvent("CustomEvent");return domEvent.initCustomEvent(name.toLowerCase(),!1,!0,event),!util.global.dispatchEvent(domEvent)}}catch(e){}return function(){return!1}}(),fireGlobalEvent=function(){return util.isNode?function(){return process.emit.apply(process,arguments)}:util.global?function(name){var methodName="on"+name.toLowerCase(),method=util.global[methodName];return method?(method.apply(util.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),eventToObjectGenerator={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(name,promise,child){return{promise:promise,child:child}},warning:function(name,warning){return{warning:warning}},unhandledRejection:function(name,reason,promise){return{reason:reason,promise:promise}},rejectionHandled:generatePromiseLifecycleEventObject},activeFireEvent=function(name){var globalEventFired=!1;try{globalEventFired=fireGlobalEvent.apply(null,arguments)}catch(e){async.throwLater(e),globalEventFired=!0}var domEventFired=!1;try{domEventFired=fireDomEvent(name,eventToObjectGenerator[name].apply(null,arguments))}catch(e){async.throwLater(e),domEventFired=!0}return domEventFired||globalEventFired};Promise.config=function(opts){opts=Object(opts),"longStackTraces"in opts&&(opts.longStackTraces?Promise.longStackTraces():!opts.longStackTraces&&Promise.hasLongStackTraces()&&disableLongStackTraces());if("warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption,wForgottenReturn=config.warnings,util.isObject(warningsOption)&&"wForgottenReturn"in warningsOption&&(wForgottenReturn=!!warningsOption.wForgottenReturn)}if("cancellation"in opts&&opts.cancellation&&!
config.cancellation){if(async.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");Promise.prototype._clearCancellationData=cancellationClearCancellationData,Promise.prototype._propagateFrom=cancellationPropagateFrom,Promise.prototype._onCancel=cancellationOnCancel,Promise.prototype._setOnCancel=cancellationSetOnCancel,Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,Promise.prototype._execute=cancellationExecute,propagateFromFunction=cancellationPropagateFrom,config.cancellation=!0}"monitoring"in opts&&(opts.monitoring&&!config.monitoring?(config.monitoring=!0,Promise.prototype._fireEvent=activeFireEvent):!opts.monitoring&&config.monitoring&&(config.monitoring=!1,Promise.prototype._fireEvent=defaultFireEvent))},Promise.prototype._fireEvent=defaultFireEvent,Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}},Promise.prototype._onCancel=function(){},Promise.prototype._setOnCancel=function(handler){},Promise.prototype._attachCancellationCallback=function(onCancel){},Promise.prototype._captureStackTrace=function(){},Promise.prototype._attachExtraTrace=function(){},Promise.prototype._clearCancellationData=function(){},Promise.prototype._propagateFrom=function(parent,flags){};var propagateFromFunction=bindingPropagateFrom,shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;util.inherits(CapturedTrace,Error),Context.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var length=this._length;if(length<2)return;var nodes=[],stackToIndex={};for(var i=0,node=this;node!==undefined;++i)nodes.push(node),node=node._parent;length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;stackToIndex[stack]===undefined&&(stackToIndex[stack]=i)}for(var i=0;i<length;++i){var currentStack=nodes[i].stack,index=stackToIndex[currentStack];if(index!==undefined&&index!==i){index>0&&(nodes[index-1]._parent=undefined,nodes[index-1]._length=1),nodes[i]._parent=undefined,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=undefined,cycleEdgeNode._length=1);var currentChildLength=cycleEdgeNode._length+1;for(var j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}},CapturedTrace.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__)return;this.uncycle();var parsed=parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;while(trace!==undefined)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;removeCommonRoots(stacks),removeDuplicateOrEmptyJumps(stacks),util.notEnumerableProp(error,"stack",reconstructStack(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)};var captureStackTrace=function stackDetection(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return typeof stack=="string"?stack:error.name!==undefined&&error.message!==undefined?error.toString():formatNonError(error)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit+=6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit-=6}}var err=new Error;if(typeof err.stack=="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function captureStackTrace(o){o.stack=(new Error).stack};var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow||typeof Error.stackTraceLimit!="number"?(formatStack=function(stack,error){return typeof stack=="string"?stack:typeof error!="object"&&typeof error!="function"||error.name===undefined||error.message===undefined?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function captureStackTrace(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6})}([]);typeof console!="undefined"&&typeof console.warn!="undefined"&&(printWarning=function(message){console.warn(message)},util.isNode&&process.stderr.isTTY?printWarning=function(message,isSoft){var color=isSoft?"[33m":"[31m";console.warn(color+message+"[0m\n")}:!util.isNode&&typeof (new Error).stack=="string"&&(printWarning=function(message,isSoft){console.warn("%c"+message,isSoft?"color: darkorange":"color: red")}));var config={warnings:warnings,longStackTraces:!1,cancellation:!1,monitoring:!1};return longStackTraces&&Promise.longStackTraces(),{longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},monitoring:function(){return config.monitoring},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:fireDomEvent,fireGlobalEvent:fireGlobalEvent}}},{"./errors":12,"./util":36}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(returner,undefined,undefined,{value:value},undefined)},Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){return this._then(thrower,undefined,undefined,{reason:reason},undefined)},Promise.prototype.catchThrow=function(reason){if(arguments.length<=1)return this._then(undefined,thrower,undefined,{reason:reason},undefined);var _reason=arguments[1],handler=function(){throw _reason};return this.caught(reason,handler)},Promise.prototype.catchReturn=function(value){if(arguments.length<=1)return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(undefined,returner,undefined,{value:value},undefined);var _value=arguments[1];_value instanceof Promise&&_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}},{}],11:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function promiseAllThis(){return PromiseAll(this)}function PromiseMapSeries(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}var PromiseReduce=Promise.reduce,PromiseAll=Promise.all;Promise.prototype.each=function(fn){return this.mapSeries(fn)._then(promiseAllThis,undefined,undefined,this,undefined)},Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)},Promise.each=function(promises,fn){return PromiseMapSeries(promises,fn)._then(promiseAllThis,undefined,undefined,promises,undefined)},Promise.mapSeries=PromiseMapSeries}},{}],12:[function(_dereq_,module,exports){"use strict";function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message",typeof message=="string"?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return inherits(SubError,Error),SubError}function OperationalError(message){if(!(this instanceof OperationalError))return new OperationalError(message);notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var es5=_dereq_("./es5"),Objectfreeze=es5.freeze,util=_dereq_("./util"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,_TypeError,_RangeError,Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" ");for(var i=0;i<methods.length;++i)typeof Array.prototype[methods[i]]=="function"&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var indent=Array(level*4+1).join(" "),ret="\n"+indent+"AggregateError of:"+"\n";level++,indent=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n");for(var j=0;j<lines.length;++j)lines[j]=indent+lines[j];str=lines.join("\n"),ret+=str+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,"__BluebirdErrorTypes__",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5":13,"./util":36}],13:[function(_dereq_,module,exports){var isES5=function(){"use strict";return this===undefined}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!!(!descriptor||descriptor.writable||descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret},ObjectGetDescriptor=function(o,key){return{value:o[key]}},ObjectDefineProperty=function(o,key,desc){return o[key]=desc.value,o},ObjectFreeze=function(obj){return obj},ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(obj){try{return str.call(obj)==="[object Array]"}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}},{}],14:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,tryConvertToPromise){function PassThroughHandlerContext(promise,type,handler){this.promise=promise,this.type=type,this.handler=handler,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}function checkCancel(ctx,reason){return ctx.cancelPromise!=null?(arguments.length>1?ctx.cancelPromise._reject(reason):ctx.cancelPromise._cancel(),ctx.cancelPromise=null,!0):!1}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(checkCancel(this,reason))return;return errorObj.e=reason,errorObj}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler;if(!this.called){this.called=!0;var ret=this.isFinallyHandler()?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(ret!==undefined){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(this.cancelPromise!=null){if(maybePromise.isCancelled()){var reason=new CancellationError("late cancellation observer");return promise._attachExtraTrace(reason),errorObj.e=reason,errorObj}maybePromise.isPending()&&maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return maybePromise._then(succeed,fail,undefined,this,undefined)}}}return promise.isRejected()?(checkCancel(this),errorObj.e=reasonOrValue,errorObj):(checkCancel(this),reasonOrValue)}var util=_dereq_("./util"),CancellationError=Promise.CancellationError,errorObj=util.errorObj;return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return this.type===0},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},Promise.prototype._passThrough=function(handler,type,success,fail){return typeof handler!="function"?this.then():this._then(success,fail,undefined,new PassThroughHandlerContext(this,type,handler),undefined)},Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)},Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)},PassThroughHandlerContext}},{"./util":36}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);traceParent._popContext();if(result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){if(debug.cancellation()){var internal=new Promise(INTERNAL),_finallyPromise=this._finallyPromise=new Promise(INTERNAL);this._promise=internal.lastly(function(){return _finallyPromise}),internal._captureStackTrace(),internal._setOnCancel(this)}else{var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace()}this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=undefined,this._yieldHandlers=typeof yieldHandler=="function"?[yieldHandler].concat(yieldHandlers):yieldHandlers,this._yieldedPromise=null,this._cancellationPhase=!1}var errors=_dereq_("./errors"),TypeError=errors.TypeError,util=_dereq_("./util"),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];util.inherits(PromiseSpawn,Proxyable),PromiseSpawn.prototype._isResolved=function(){return this._promise===null},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,debug.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(this._isResolved())return;var implementsReturn=typeof this._generator["return"]!="undefined",result;if(!implementsReturn){var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason,this._promise._attachExtraTrace(reason),this._promise._pushContext(),result=tryCatch(this._generator["throw"]).call(this._generator,reason),this._promise._popContext()}else this._promise._pushContext(),result=tryCatch(this._generator["return"]).call(this._generator,undefined),this._promise._popContext();this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(result)},PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null,this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null,this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null,promise.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=undefined,this._promiseFulfilled(undefined)},PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._rejectCallback(result.e,!1);var value=result.value;if(result.done===!0)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._resolveCallback(value);var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)){maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise);if(maybePromise===null){this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}maybePromise=maybePromise._target();var bitField=maybePromise._bitField;(bitField&50397184)===0?(this._yieldedPromise=maybePromise,maybePromise._proxy(this,null)):(bitField&33554432)!==0?this._promiseFulfilled(maybePromise._value()):(bitField&16777216)!==0?this._promiseRejected(maybePromise._reason()):this._promiseCancelled()},Promise.coroutine=function(generatorFunction,options){if(typeof generatorFunction!="function")throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$(undefined,undefined,yieldHandler,stack),ret=spawn.promise();return spawn._generator=generator,spawn._promiseFulfilled(undefined),ret}},Promise.coroutine.addYieldHandler=function(fn){if(typeof fn!="function")throw new TypeError("expecting a function but got "+util.classString(fn));yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){debug.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof generatorFunction!="function")return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},{"./errors":12,"./util":36}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util"),canEvaluate=util.canEvaluate,tryCatch=util.tryCatch,errorObj=util.errorObj,reject;Promise.join=function(){var last=arguments.length-1,fn;last>0&&typeof arguments[last]=="function"&&(fn=arguments[last]);var args=[].slice.call(arguments);fn&&args.pop();var ret=(new PromiseArray(args)).promise();return fn!==undefined?ret.spread(fn):ret}}},{"./util":36}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._captureStackTrace();var domain=getDomain();this._callback=domain===null?fn:domain.bind(fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=limit>=1?[]:EMPTY_ARRAY,this._init$(undefined,-2)}function map(promises,fn,options,_filter){if(typeof fn!="function")return apiRejection("expecting a function but got "+util.classString(fn));var limit=typeof options=="object"&&options!==null?options.concurrency:0;return limit=typeof limit=="number"&&isFinite(limit)&&limit>=1?limit:0,(new MappingPromiseArray(promises,fn,limit,_filter)).promise()}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj,EMPTY_ARRAY=[];util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(index<0){index=index*-1-1,values[index]=value;if(limit>=1){this._inFlight--,this._drainQueue();if(this._isResolved())return!0}}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,this._queue.push(index),!1;preservedValues!==null&&(preservedValues[index]=value);var promise=this._promise,callback=this._callback,receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length),promiseCreated=promise._popContext();debug.checkForgottenReturns(ret,promiseCreated,preservedValues!==null?"Promise.filter":"Promise.map",promise);if(ret===errorObj)return this._reject(ret.e),!0;var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if((bitField&50397184)===0)return limit>=1&&this._inFlight++,values[index]=maybePromise,maybePromise._proxy(this,(index+1)*-1),!1;if((bitField&33554432)===0)return(bitField&16777216)!==0?(this._reject(maybePromise._reason()),!0):(this._cancel(),!0);ret=maybePromise._value()}values[index]=ret}var totalResolved=++this._totalResolved;return totalResolved>=length?(preservedValues!==null?this._filter(values,preservedValues):this._resolve(values),!0):!1},MappingPromiseArray.prototype._drainQueue=function(){var queue=this._queue,limit=this._limit,values=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){var len=values.length,ret=new Array(len),j=0;for(var i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return map(this,fn,options,null)},Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},{"./util":36}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch;Promise.method=function(fn){if(typeof fn!="function")throw new Promise.TypeError("expecting a function but got "+util.classString(fn));return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments),promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise["try"]=function(fn){if(typeof fn!="function")return apiRejection("expecting a function but got "+util.classString(fn));var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value;if(arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1],ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else value=tryCatch(fn)();var promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1):this._resolveCallback(value,!0)}}},{"./util":36}],20:[function(_dereq_,module,exports){"use strict";function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj),ret.name=obj.name,ret.message=obj.message,ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}function nodebackForPromise(promise,multiArgs){return function(err,value){if(promise===null)return;if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(!multiArgs)promise._fulfill(value);else{var args=[].slice.call(arguments,1);promise._fulfill(args)}promise=null}}var util=_dereq_("./util"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors"),OperationalError=errors.OperationalError,es5=_dereq_("./es5"),rErrorKey=/^(?:name|message|stack|cause)$/;module.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var promise=this,receiver=promise._boundValue(),ret=val===undefined?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var newReason=new Error(reason+"");newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}var util=_dereq_("./util"),async=Promise._async,tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if(typeof nodeback=="function"){var adapter=successAdapter;options!==undefined&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,undefined,this,nodeback)}return this}}},{"./util":36}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(){function Proxyable(){}function check(self,executor){if(typeof executor!="function")throw new TypeError("expecting a function but got "+util.classString(executor));if(self.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function Promise(executor){this._bitField=0,this._fulfillmentHandler0=undefined,this._rejectionHandler0=undefined,this._promise0=undefined,this._receiver0=undefined,executor!==INTERNAL&&(check(this,executor),this._resolveFromExecutor(executor)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,!1)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._promise0=value,p._receiver0=value}var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},reflectHandler=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))},UNDEFINED_BINDING={},util=_dereq_("./util"),getDomain;util.isNode?getDomain=function(){var ret=process.domain;return ret===undefined&&(ret=null),ret}:getDomain=function(){return null},util.notEnumerableProp(Promise,"_getDomain",getDomain);var es5=_dereq_("./es5"),Async=_dereq_("./async"),async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=_dereq_("./errors"),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={},tryConvertToPromise=_dereq_("./thenables")(Promise,INTERNAL),PromiseArray=_dereq_("./promise_array")(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable),Context=_dereq_("./context")(Promise),createContext=Context.create,debug=_dereq_("./debuggability")(Promise,Context),CapturedTrace=debug.CapturedTrace,PassThroughHandlerContext=_dereq_("./finally")(Promise,tryConvertToPromise),catchFilter=_dereq_("./catch_filter")(NEXT_FILTER),nodebackForPromise=_dereq_("./nodeback"),errorObj=util.errorObj,tryCatch=util.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var catchInstances=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return apiRejection("expecting an object but got "+util.classString(item));catchInstances[j++]=item}return catchInstances.length=j,fn=arguments[i],this.then(undefined,catchFilter(catchInstances,fn,this))}return this.then(undefined,fn)},Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,undefined,this,undefined)},Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&typeof didFulfill!="function"&&typeof didReject!="function"){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,undefined,undefined,undefined)},Promise.prototype.done=function(didFulfill,didReject){var promise=this._then(didFulfill,didReject,undefined,undefined,undefined);promise._setIsFinal()},Promise.prototype.spread=function(fn){return typeof fn!="function"?apiRejection("expecting a function but got "+util.classString(fn)):this.all()._then(fn,undefined,undefined,APPLY,undefined)},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:undefined,rejectionReason:undefined};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),(new PromiseArray(this)).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.is=function(val){return val instanceof Promise},Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);ret._captureStackTrace();var multiArgs=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));return result===errorObj&&ret._rejectCallback(result.e,!0),ret._isFateSealed()||ret._setAsyncGuaranteed(),ret},Promise.all=function(promises){return(new PromiseArray(promises)).promise()},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);return ret instanceof Promise||(ret=new Promise(INTERNAL),ret._captureStackTrace(),ret._setFulfilled(),ret._rejectionHandler0=obj),ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if(typeof fn!="function")throw new TypeError("expecting a function but got "+util.classString(fn));return async.setScheduler(fn)},Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=internalData!==undefined,promise=haveInternalData?internalData:new Promise(INTERNAL),target=this._target(),bitField=target._bitField;haveInternalData||(promise._propagateFrom(this
,3),promise._captureStackTrace(),receiver===undefined&&(this._bitField&2097152)!==0&&((bitField&50397184)!==0?receiver=this._boundValue():receiver=target===this?undefined:this._boundTo),this._fireEvent("promiseChained",this,promise));var domain=getDomain();if((bitField&50397184)!==0){var handler,value,settler=target._settlePromiseCtx;(bitField&33554432)!==0?(value=target._rejectionHandler0,handler=didFulfill):(bitField&16777216)!==0?(value=target._fulfillmentHandler0,handler=didReject,target._unsetRejectionIsUnhandled()):(settler=target._settlePromiseLateCancellationObserver,value=new CancellationError("late cancellation observer"),target._attachExtraTrace(value),handler=didReject),async.invoke(settler,target,{handler:domain===null?handler:typeof handler=="function"&&domain.bind(handler),promise:promise,receiver:receiver,value:value})}else target._addCallbacks(didFulfill,didReject,promise,receiver,domain);return promise},Promise.prototype._length=function(){return this._bitField&65535},Promise.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},Promise.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},Promise.prototype._setLength=function(len){this._bitField=this._bitField&-65536|len&65535},Promise.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},Promise.prototype._isFinal=function(){return(this._bitField&4194304)>0},Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Promise.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},Promise.prototype._setAsyncGuaranteed=function(){if(async.hasCustomScheduler())return;this._bitField=this._bitField|134217728},Promise.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*4-4+3];return ret===UNDEFINED_BINDING?undefined:ret===undefined&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return this[index*4-4+2]},Promise.prototype._fulfillmentHandlerAt=function(index){return this[index*4-4+0]},Promise.prototype._rejectionHandlerAt=function(index){return this[index*4-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(follower){var bitField=follower._bitField,fulfill=follower._fulfillmentHandler0,reject=follower._rejectionHandler0,promise=follower._promise0,receiver=follower._receiverAt(0);receiver===undefined&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);receiver===undefined&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,domain){var index=this._length();index>=65531&&(index=0,this._setLength(0));if(index===0)this._promise0=promise,this._receiver0=receiver,typeof fulfill=="function"&&(this._fulfillmentHandler0=domain===null?fulfill:domain.bind(fulfill)),typeof reject=="function"&&(this._rejectionHandler0=domain===null?reject:domain.bind(reject));else{var base=index*4-4;this[base+2]=promise,this[base+3]=receiver,typeof fulfill=="function"&&(this[base+0]=domain===null?fulfill:domain.bind(fulfill)),typeof reject=="function"&&(this[base+1]=domain===null?reject:domain.bind(reject))}return this._setLength(index+1),index},Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(undefined,undefined,arg,proxyable,null)},Promise.prototype._resolveCallback=function(value,shouldBind){if((this._bitField&117506048)!==0)return;if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);shouldBind&&this._propagateFrom(maybePromise,2);var promise=maybePromise._target();if(promise===this){this._reject(makeSelfResolutionError());return}var bitField=promise._bitField;if((bitField&50397184)===0){var len=this._length();len>0&&promise._migrateCallback0(this);for(var i=1;i<len;++i)promise._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else if((bitField&33554432)!==0)this._fulfill(promise._value());else if((bitField&16777216)!==0)this._reject(promise._reason());else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason),this._reject(reason)}},Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason),hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,!0)}this._attachExtraTrace(trace,synchronous?hasStack:!1),this._reject(reason)},Promise.prototype._resolveFromExecutor=function(executor){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=this._execute(executor,function(value){promise._resolveCallback(value)},function(reason){promise._rejectCallback(reason,synchronous)});synchronous=!1,this._popContext(),r!==undefined&&promise._rejectCallback(r,!0)},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if((bitField&65536)!==0)return;promise._pushContext();var x;receiver===APPLY?!value||typeof value.length!="number"?(x=errorObj,x.e=new TypeError("cannot .spread() a non-array: "+util.classString(value))):x=tryCatch(handler).apply(this._boundValue(),value):x=tryCatch(handler).call(receiver,value);var promiseCreated=promise._popContext();bitField=promise._bitField;if((bitField&65536)!==0)return;x===NEXT_FILTER?promise._reject(value):x===errorObj?promise._rejectCallback(x.e,!1):(debug.checkForgottenReturns(x,promiseCreated,"",promise,this),promise._resolveCallback(x))},Promise.prototype._target=function(){var ret=this;while(ret._isFollowing())ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise,bitField=this._bitField,asyncGuaranteed=(bitField&134217728)!==0;(bitField&65536)!==0?(isPromise&&promise._invokeInternalOnCancel(),receiver instanceof PassThroughHandlerContext&&receiver.isFinallyHandler()?(receiver.cancelPromise=promise,tryCatch(handler).call(receiver,value)===errorObj&&promise._reject(errorObj.e)):handler===reflectHandler?promise._fulfill(reflectHandler.call(receiver)):receiver instanceof Proxyable?receiver._promiseCancelled(promise):isPromise||promise instanceof PromiseArray?promise._cancel():receiver.cancel()):typeof handler=="function"?isPromise?(asyncGuaranteed&&promise._setAsyncGuaranteed(),this._settlePromiseFromHandler(handler,receiver,value,promise)):handler.call(receiver,value,promise):receiver instanceof Proxyable?receiver._isResolved()||((bitField&33554432)!==0?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(asyncGuaranteed&&promise._setAsyncGuaranteed(),(bitField&33554432)!==0?promise._fulfill(value):promise._reject(value))},Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler,promise=ctx.promise,receiver=ctx.receiver,value=ctx.value;typeof handler=="function"?promise instanceof Promise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):promise instanceof Promise&&promise._reject(value)},Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)},Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0,receiver=this._receiverAt(0);this._promise0=undefined,this._receiver0=undefined,this._settlePromise(promise,handler,receiver,value)},Promise.prototype._clearCallbackDataAtIndex=function(index){var base=index*4-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=undefined},Promise.prototype._fulfill=function(value){var bitField=this._bitField;if((bitField&117506048)>>>16)return;if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._reject(err)}this._setFulfilled(),this._rejectionHandler0=value,(bitField&65535)>0&&((bitField&134217728)!==0?this._settlePromises():async.settlePromises(this))},Promise.prototype._reject=function(reason){var bitField=this._bitField;if((bitField&117506048)>>>16)return;this._setRejected(),this._fulfillmentHandler0=reason;if(this._isFinal())return async.fatalError(reason,util.isNode);(bitField&65535)>0?async.settlePromises(this):this._ensurePossibleRejectionHandled()},Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,value)}},Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,reason)}},Promise.prototype._settlePromises=function(){var bitField=this._bitField,len=bitField&65535;if(len>0){if((bitField&16842752)!==0){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField),this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField),this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var bitField=this._bitField;if((bitField&33554432)!==0)return this._rejectionHandler0;if((bitField&16777216)!==0)return this._fulfillmentHandler0},Promise.defer=Promise.pending=function(){debug.deprecated("Promise.defer","new Promise");var promise=new Promise(INTERNAL);return{promise:promise,resolve:deferResolve,reject:deferReject}},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),_dereq_("./method")(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug),_dereq_("./bind")(Promise,INTERNAL,tryConvertToPromise,debug),_dereq_("./cancel")(Promise,PromiseArray,apiRejection,debug),_dereq_("./direct_resolve")(Promise),_dereq_("./synchronous_inspection")(Promise),_dereq_("./join")(Promise,PromiseArray,tryConvertToPromise,INTERNAL,debug),Promise.Promise=Promise,_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./call_get.js")(Promise),_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug),_dereq_("./timers.js")(Promise,INTERNAL,debug),_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug),_dereq_("./nodeify.js")(Promise),_dereq_("./promisify.js")(Promise,INTERNAL),_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection),_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./settle.js")(Promise,PromiseArray,debug),_dereq_("./some.js")(Promise,PromiseArray,apiRejection),_dereq_("./filter.js")(Promise,INTERNAL),_dereq_("./each.js")(Promise,INTERNAL),_dereq_("./any.js")(Promise),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(undefined),fillTypes(!1),fillTypes(new Promise(INTERNAL)),debug.setBounds(Async.firstLineError,util.lastLineError),Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&promise._propagateFrom(values,3),promise._setOnCancel(this),this._values=values,this._length=0,this._totalResolved=0,this._init(undefined,-2)}var util=_dereq_("./util"),isArray=util.isArray;return util.inherits(PromiseArray,Proxyable),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();var bitField=values._bitField;this._values=values;if((bitField&50397184)===0)return this._promise._setAsyncGuaranteed(),values._then(init,this._reject,undefined,this,resolveValueIfEmpty);if((bitField&33554432)===0)return(bitField&16777216)!==0?this._reject(values._reason()):this._cancel();values=values._value()}values=util.asArray(values);if(values===null){var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();this._promise._rejectCallback(err,!1);return}if(values.length===0){resolveValueIfEmpty===-5?this._resolveEmptyArray():this._resolve(toResolutionValue(resolveValueIfEmpty));return}this._iterate(values)},PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;var result=this._promise,isResolved=!1,bitField=null;for(var i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);maybePromise instanceof Promise?(maybePromise=maybePromise._target(),bitField=maybePromise._bitField):bitField=null,isResolved?bitField!==null&&maybePromise.suppressUnhandledRejections():bitField!==null?(bitField&50397184)===0?(maybePromise._proxy(this,i),this._values[i]=maybePromise):(bitField&33554432)!==0?isResolved=this._promiseFulfilled(maybePromise._value(),i):(bitField&16777216)!==0?isResolved=this._promiseRejected(maybePromise._reason(),i):isResolved=this._promiseCancelled(i):isResolved=this._promiseFulfilled(maybePromise,i)}isResolved||result._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return this._values===null},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype._cancel=function(){if(this._isResolved()||!this._promise.isCancellable())return;this._values=null,this._promise._cancel()},PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1)},PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;return totalResolved>=this._length?(this._resolve(this._values),!0):!1},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(reason){return this._totalResolved++,this._reject(reason),!0},PromiseArray.prototype._resultCancelled=function(){if(this._isResolved())return;var values=this._values;this._cancel();if(values instanceof Promise)values.cancel();else for(var i=0;i<values.length;++i)values[i]instanceof Promise&&values[i].cancel()},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},{"./util":36}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return val?isPromisified(val):!1}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key)){var keyWithoutAsyncSuffix=key.replace(suffixRegexp,"");for(var j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){var keys=util.inheritedDataKeys(obj),ret=[];for(var i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter?!0:defaultFilter(key,value,obj);typeof value=="function"&&!isPromisified(value)&&!hasPromisified(obj,key,suffix)&&filter(key,value,obj,passesDefaultFilter)&&ret.push(key,value)}return checkValid(ret,suffix,suffixRegexp),ret}function makeNodePromisifiedClosure(callback,receiver,_,fn,__,multiArgs){function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb=typeof method=="string"&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise._isFateSealed()||promise._setAsyncGuaranteed(),promise}var defaultThis=function(){return this}(),method=callback;return typeof method=="string"&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(obj,suffix,filter,promisifier,multiArgs){var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter);for(var i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;if(promisifier===makeNodePromisified)obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs);else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)});util.notEnumerableProp(promisified,"__isPromisified__",!0),obj[promisifiedKey]=promisified}}return util.toFastProperties(obj),obj}function promisify(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,undefined,callback,null,multiArgs)}var THIS={},util=_dereq_("./util"),nodebackForPromise=_dereq_("./nodeback"),withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=_dereq_("./errors").TypeError,defaultSuffix="Async",defaultPromisified={__isPromisified__:!0},noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor"},escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},makeNodePromisifiedEval,makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;Promise.promisify=function(fn,options){if(typeof fn!="function")throw new TypeError("expecting a function but got "+util.classString(fn));if(isPromisified(fn))return fn;options=Object(options);var receiver=options.context===undefined?THIS:options.context,multiArgs=!!options.multiArgs,ret=promisify(fn,receiver,multiArgs);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if(typeof target!="function"&&typeof target!="object")throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");options=Object(options);var multiArgs=!!options.multiArgs,suffix=options.suffix;typeof suffix!="string"&&(suffix=defaultSuffix);var filter=options.filter;typeof filter!="function"&&(filter=defaultFilter);var promisifier=options.promisifier;typeof promisifier!="function"&&(promisifier=makeNodePromisified);if(!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");var keys=util.inheritedDataKeys(target);for(var i=0;i<keys.length;++i){var value=target[keys[i]];keys[i]!=="constructor"&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs),promisifyAll(value,suffix,filter,promisifier,multiArgs))}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){function PropertiesPromiseArray(obj){var isMap=!1,entries;if(Es6Map!==undefined&&obj instanceof Es6Map)entries=mapToEntries(obj),isMap=!0;else{var keys=es5.keys(obj),len=keys.length;entries=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key],entries[i+len]=key}}this.constructor$(entries),this._isMap=isMap,this._init$(undefined,-3)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(castValue instanceof Promise?ret=castValue._then(Promise.props,undefined,undefined,undefined,undefined):ret=(new PropertiesPromiseArray(castValue)).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,2),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var util=_dereq_("./util"),isObject=util.isObject,es5=_dereq_("./es5"),Es6Map;typeof Map=="function"&&(Es6Map=Map);var mapToEntries=function(){function extractEntry(value,key){this[index]=value,this[index+size]=key,index++}var index=0,size=0;return function mapToEntries(map){size=map.size,index=0;var ret=new Array(map.size*2);return map.forEach(extractEntry,ret),ret}}(),entriesToMap=function(entries){var ret=new Es6Map,length=entries.length/2|0;for(var i=0;i<length;++i){var key=entries[length+i],value=entries[i];ret.set(key,value)}return ret};util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val;if(this._isMap)val=entriesToMap(this._values);else{val={};var keyOffset=this.length();for(var i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i]}return this._resolve(val),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},{"./es5":13,"./util":36}],26:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg,this._length=length+1},Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front,i=(front-1&capacity-1^capacity)-capacity;this[i]=value,this._front=i,this._length=this.length()+1},Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg),this._unshiftOne(receiver),this._unshiftOne(fn)},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length)){this._pushOne(fn),this._pushOne(receiver),this._pushOne(arg);return}var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=undefined,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front,length=this._length,moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)},module.exports=Queue},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);promises=util.asArray(promises);if(promises===null)return apiRejection("expecting an array or an iterable object but got "+util.classString(promises));var ret=new Promise(INTERNAL);parent!==undefined&&ret._propagateFrom(parent,3);var fulfill=ret._fulfill,reject=ret._reject;for(var i=0,len=promises.length;i<len;++i){var val=promises[i];if(!(val!==undefined||i in promises))continue;Promise.cast(val)._then(fulfill,reject,undefined,ret,null)}return ret}var util=_dereq_("./util"),raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};Promise.race=function(promises){return race(promises,undefined)},Promise.prototype.race=function(){return race(this,undefined)}}},{"./util":36}],28:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var domain=getDomain();this._fn=domain===null?fn:domain.bind(fn),initialValue!==undefined&&(initialValue=Promise.resolve(initialValue),initialValue._attachCancellationCallback(this)),this._initialValue=initialValue,this._currentCancellable=null,this._eachValues=_each===INTERNAL?[]:undefined,this._promise._captureStackTrace(),this._init$(undefined,-5)}function completed(valueOrReason,array){this.isFulfilled()?array._resolve(valueOrReason):array._reject(valueOrReason)}function reduce(promises,fn,initialValue,_each){if(typeof fn!="function")return apiRejection("expecting a function but got "+util.classString(fn));var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}function gotAccum(accum){this.accum=accum,this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);return value instanceof Promise?(this.array._currentCancellable=value,value._then(gotValue,undefined,undefined,this,undefined)):gotValue.call(this,value)}function gotValue(value){var array=this.array,promise=array._promise,fn=tryCatch(array._fn);promise._pushContext();var ret;array._eachValues!==undefined?ret=fn.call(promise._boundValue(),value,this.index,this.length):ret=fn.call(promise._boundValue(),this.accum,value,this.index,this.length),ret instanceof Promise&&(array._currentCancellable=ret);var promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,array._eachValues!==undefined?"Promise.each":"Promise.reduce",promise),ret}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch;util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._gotAccum=function(accum){this._eachValues!==undefined&&accum!==INTERNAL&&this._eachValues.push(accum)},ReductionPromiseArray.prototype._eachComplete=function(value){return this._eachValues.push(value),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(sender){if(sender===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$(),this._currentCancellable instanceof Promise&&this._currentCancellable.cancel(),this._initialValue instanceof Promise&&this._initialValue.cancel()},ReductionPromiseArray.prototype._iterate=function(values){this._values=values;var value,i,length=values.length;this._initialValue!==undefined?(value=this._initialValue,i=0):(value=Promise.resolve(values[0]),i=1),this._currentCancellable=value;if(!value.isRejected())for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,undefined,undefined,ctx,undefined)}this._eachValues!==undefined&&(value=value._then(this._eachComplete,undefined,undefined,this,undefined)),value._then(completed,completed,undefined,value,this)},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./util":36}],29:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util"),schedule,noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},NativePromise=util.getNativePromise();if(util.isNode&&typeof MutationObserver=="undefined"){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if(typeof NativePromise=="function"){var nativePromise=NativePromise.resolve();schedule=function(fn){nativePromise.then(fn)}}else typeof MutationObserver!="undefined"&&(typeof window=="undefined"||!window.navigator||!window.navigator.standalone)?schedule=function(){var div=document.createElement("div"),opts={attributes:!0},toggleScheduled=!1,div2=document.createElement("div"),o2=new MutationObserver(function(){div.classList.toggle("foo"),toggleScheduled=!1});o2.observe(div2,opts);var scheduleToggle=function(){if(toggleScheduled)return;toggleScheduled=!0,div2.classList.toggle("foo")};return function schedule(fn){var o=new MutationObserver(function(){o.disconnect(),fn()});o.observe(div,opts),scheduleToggle()}}():typeof setImmediate!="undefined"?schedule=function(fn){setImmediate(fn)}:typeof setTimeout!="undefined"?schedule=function(fn){setTimeout(fn,0)}:schedule=noAsyncScheduler;module.exports=schedule},{"./util":36}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,debug){function SettledPromiseArray(values){this.constructor$(values)}var PromiseInspection=Promise.PromiseInspection,util=_dereq_("./util");util.inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;return totalResolved>=this._length?(this._resolve(this._values),!0):!1},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;return ret._bitField=33554432,ret._settledValueField=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;return ret._bitField=16777216,ret._settledValueField=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return debug.deprecated(".settle()",".reflect()"),(new SettledPromiseArray(promises)).promise()},Promise.prototype.settle=function(){return Promise.settle(this)}}},{"./util":36}],31:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((howMany|0)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n"
);var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}var util=_dereq_("./util"),RangeError=_dereq_("./errors").RangeError,AggregateError=_dereq_("./errors").AggregateError,isArray=util.isArray,CANCELLATION={};util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(!this._initialized)return;if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){return this._addFulfilled(value),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},SomePromiseArray.prototype._promiseRejected=function(reason){return this._addRejected(reason),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof Promise||this._values==null?this._cancel():(this._addRejected(CANCELLATION),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new AggregateError;for(var i=this.length();i<this._values.length;++i)this._values[i]!==CANCELLATION&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){promise!==undefined?(promise=promise._target(),this._bitField=promise._bitField,this._settledValueField=promise._isFateSealed()?promise._settledValue():undefined):(this._bitField=0,this._settledValueField=undefined)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},isRejected=PromiseInspection.prototype.isRejected=function(){return(this._bitField&16777216)!==0},isPending=PromiseInspection.prototype.isPending=function(){return(this._bitField&50397184)===0},isResolved=PromiseInspection.prototype.isResolved=function(){return(this._bitField&50331648)!==0};PromiseInspection.prototype.isCancelled=Promise.prototype._isCancelled=function(){return(this._bitField&65536)===65536},Promise.prototype.isCancelled=function(){return this._target()._isCancelled()},Promise.prototype.isPending=function(){return isPending.call(this._target())},Promise.prototype.isRejected=function(){return isRejected.call(this._target())},Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())},Promise.prototype.isResolved=function(){return isResolved.call(this._target())},Promise.prototype.value=function(){return value.call(this._target())},Promise.prototype.reason=function(){var target=this._target();return target._unsetRejectionIsUnhandled(),reason.call(target)},Promise.prototype._value=function(){return this._settledValue()},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},Promise.PromiseInspection=PromiseInspection}},{}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=getThen(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if(typeof then=="function"){if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);return obj._then(ret._fulfill,ret._reject,undefined,ret,null),ret}return doThenable(obj,then,context)}}return obj}function doGetThen(obj){return obj.then}function getThen(obj){try{return doGetThen(obj)}catch(e){return errorObj.e=e,errorObj}}function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0")}function doThenable(x,then,context){function resolve(value){if(!promise)return;promise._resolveCallback(value),promise=null}function reject(reason){if(!promise)return;promise._rejectCallback(reason,synchronous,!0),promise=null}var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,resolve,reject);return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}var util=_dereq_("./util"),errorObj=util.errorObj,isObject=util.isObject,hasProp={}.hasOwnProperty;return tryConvertToPromise}},{"./util":36}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,debug){function HandleWrapper(handle){this.handle=handle}function successClear(value){return clearTimeout(this.handle),value}function failureClear(reason){throw clearTimeout(this.handle),reason}var util=_dereq_("./util"),TimeoutError=Promise.TimeoutError;HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(ms,value){var ret,handle;return value!==undefined?(ret=Promise.resolve(value)._then(afterValue,null,null,ms,undefined),debug.cancellation()&&value instanceof Promise&&ret._setOnCancel(value)):(ret=new Promise(INTERNAL),handle=setTimeout(function(){ret._fulfill()},+ms),debug.cancellation()&&ret._setOnCancel(new HandleWrapper(handle))),ret._setAsyncGuaranteed(),ret};Promise.prototype.delay=function(ms){return delay(ms,this)};var afterTimeout=function(promise,message,parent){var err;typeof message!="string"?message instanceof Error?err=message:err=new TimeoutError("operation timed out"):err=new TimeoutError(message),util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._reject(err),parent!=null&&parent.cancel()};Promise.prototype.timeout=function(ms,message){ms=+ms;var ret,parent,handleWrapper=new HandleWrapper(setTimeout(function timeoutTimeout(){ret.isPending()&&afterTimeout(ret,message,parent)},ms));return debug.cancellation()?(parent=this.then(),ret=parent._then(successClear,failureClear,undefined,handleWrapper,undefined),ret._setOnCancel(handleWrapper)):ret=this._then(successClear,failureClear,undefined,handleWrapper,undefined),ret}}},{"./util":36}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&typeof thenable._isDisposable=="function"&&typeof thenable._getDisposer=="function"&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}function dispose(resources,inspection){function iterator(){if(i>=len)return ret._fulfill();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}var i=0,len=resources.length,ret=new Promise(INTERNAL);return iterator(),ret}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}function ResourceList(length){this.length=length,this.promise=null,this[length-1]=null}var util=_dereq_("./util"),TypeError=_dereq_("./errors").TypeError,inherits=_dereq_("./util").inherits,errorObj=util.errorObj,tryCatch=util.tryCatch;Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;context!==undefined&&context._pushContext();var ret=resource!==null?this.doDispose(resource,inspection):null;return context!==undefined&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return d!=null&&typeof d.resource=="function"&&typeof d.tryDispose=="function"},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)},ResourceList.prototype._resultCancelled=function(){var len=this.length;for(var i=0;i<len;++i){var item=this[i];item instanceof Promise&&item.cancel()}},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if(typeof fn!="function")return apiRejection("expecting a function but got "+util.classString(fn));var input,spreadArgs=!0;len===2&&Array.isArray(arguments[0])?(input=arguments[0],len=input.length,spreadArgs=!1):(input=arguments,len--);var resources=new ResourceList(len);for(var i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise(),resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},undefined))}resources[i]=resource}var reflectedResources=new Array(resources.length);for(var i=0;i<reflectedResources.length;++i)reflectedResources[i]=Promise.resolve(resources[i]).reflect();var resultPromise=Promise.all(reflectedResources).then(function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected())return errorObj.e=inspection.error(),errorObj;if(!inspection.isFulfilled()){resultPromise.cancel();return}inspections[i]=inspection.value()}promise._pushContext(),fn=tryCatch(fn);var ret=spreadArgs?fn.apply(undefined,inspections):fn(inspections),promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise),ret}),promise=resultPromise.lastly(function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)});return resources.promise=promise,promise._setOnCancel(resources),promise},Promise.prototype._setDisposable=function(disposer){this._bitField=this._bitField|131072,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(this._bitField&131072)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=undefined},Promise.prototype.disposer=function(fn){if(typeof fn=="function")return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}function isPrimitive(val){return val==null||val===!0||val===!1||typeof val=="string"||typeof val=="number"}function isObject(value){return typeof value=="function"||typeof value=="object"&&value!==null}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var len=target.length,ret=new Array(len+1),i;for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:undefined;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null)return desc.get==null&&desc.set==null?desc.value:defaultValue}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}function isClass(fn){try{if(typeof fn=="function"){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&(keys.length!==1||keys[0]!=="constructor"),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var l=8;while(l--)new FakeConstructor;return obj}function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){var ret=new Array(count);for(var i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function isError(obj){return obj!==null&&typeof obj=="object"&&typeof obj.message=="string"&&typeof obj.name=="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return e==null?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function canAttachTrace(obj){return isError(obj)&&es5.propertyIsWritable(obj,"stack")}function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}function env(key,def){return isNode?process.env[key]:def}function getNativePromise(){if(typeof Promise=="function")try{var promise=new Promise(function(){});if({}.toString.call(promise)==="[object Promise]")return Promise}catch(e){}}var es5=_dereq_("./es5"),canEvaluate=typeof navigator=="undefined",errorObj={e:{}},tryCatchTarget,globalObject=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:this!==undefined?this:null,inherits=function(Child,Parent){function T(){this.constructor=Child,this.constructor$=Parent;for(var propertyName in Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&propertyName.charAt(propertyName.length-1)!=="$"&&(this[propertyName+"$"]=Parent.prototype[propertyName])}var hasProp={}.hasOwnProperty;return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype},inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){var ret=[],visitedKeys=Object.create(null);while(obj!=null&&!isExcludedProto(obj)){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(visitedKeys[key])continue;visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);desc!=null&&desc.get==null&&desc.set==null&&ret.push(key)}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];e:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue e;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/,rident=/^[a-z$_][a-z$_0-9]*$/i,ensureErrorObject=function(){return"stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}(),asArray=function(v){return es5.isArray(v)?v:null};if(typeof Symbol!="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from=="function"?function(v){return Array.from(v)}:function(v){var ret=[],it=v[Symbol.iterator](),itResult;while(!(itResult=it.next()).done)ret.push(itResult.value);return ret};asArray=function(v){return es5.isArray(v)?v:v!=null&&typeof v[Symbol.iterator]=="function"?ArrayFrom(v):null}}var isNode=typeof process!="undefined"&&classString(process).toLowerCase()==="[object process]",ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!="undefined"&&chrome&&typeof chrome.loadTimes=="function",isNode:isNode,env:env,global:globalObject,getNativePromise:getNativePromise};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return version[0]===0&&version[1]>10||version[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)}),typeof window!="undefined"&&window!==null?window.P=window.Promise:typeof self!="undefined"&&self!==null&&(self.P=self.Promise)}).call(this,require("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:590}],233:[function(require,module,exports){(function(window){"use strict";function API(owner){this.owner=owner}function inherit(base,derived){if(Object.create)derived.prototype=Object.create(base.prototype);else{var f=function f(){};f.prototype=base.prototype,derived.prototype=new f}return derived.prototype.constructor=derived,derived}function Chart(config){var $$=this.internal=new ChartInternal(this);$$.loadConfig(config),$$.beforeInit(config),$$.init(),$$.afterInit(config),function bindThis(fn,target,argThis){Object.keys(fn).forEach(function(key){target[key]=fn[key].bind(argThis),Object.keys(fn[key]).length>0&&bindThis(fn[key],target[key],argThis)})}(c3_chart_fn,this,this)}function ChartInternal(api){var $$=this;$$.d3=window.d3?window.d3:typeof require!="undefined"?require("d3"):undefined,$$.api=api,$$.config=$$.getDefaultConfig(),$$.data={},$$.cache={},$$.axes={}}function Axis(owner){API.call(this,owner)}function c3_axis(d3,params){function axisX(selection,x){selection.attr("transform",function(d){return"translate("+Math.ceil(x(d)+tickOffset)+", 0)"})}function axisY(selection,y){selection.attr("transform",function(d){return"translate(0,"+Math.ceil(y(d))+")"})}function scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function generateTicks(scale){var i,domain,ticks=[];if(scale.ticks)return scale.ticks.apply(scale,tickArguments);domain=scale.domain();for(i=Math.ceil(domain[0]);i<domain[1];i++)ticks.push(i);return ticks.length>0&&ticks[0]>0&&ticks.unshift(ticks[0]-(ticks[1]-ticks[0])),ticks}function copyScale(){var newScale=scale.copy(),domain;return params.isCategory&&(domain=scale.domain(),newScale.domain([domain[0],domain[1]-1])),newScale}function textFormatted(v){var formatted=tickFormat?tickFormat(v):v;return typeof formatted!="undefined"?formatted:""}function getSizeFor1Char(tick){if(tickTextCharSize)return tickTextCharSize;var size={h:11.5,w:5.5};return tick.select("text").text(textFormatted).each(function(d){var box=this.getBoundingClientRect(),text=textFormatted(d),h=box.height,w=text?box.width/text.length:undefined;h&&w&&(size.h=h,size.w=w)}).text(""),tickTextCharSize=size,size}function transitionise(selection){return params.withoutTransition?selection:d3.transition(selection)}function axis(g){g.each(function(){function splitTickText(d,maxWidth){function split(splitted,text){spaceIndex=undefined;for(var i=1;i<text.length;i++){text.charAt(i)===" "&&(spaceIndex=i),subtext=text.substr(0,i+1),textWidth=sizeFor1Char.w*subtext.length;if(maxWidth<textWidth)return split(splitted.concat(text.substr(0,spaceIndex?spaceIndex:i)),text.slice(spaceIndex?spaceIndex+1:i))}return splitted.concat(text)}var tickText=textFormatted(d),subtext,spaceIndex,textWidth,splitted=[];if(Object.prototype.toString.call(tickText)==="[object Array]")return tickText;if(!maxWidth||maxWidth<=0)maxWidth=isVertical?95:params.isCategory?Math.ceil(scale1(ticks[1])-scale1(ticks[0]))-12:110;return split(splitted,tickText+"")}function tspanDy(d,i){var dy=sizeFor1Char.h;return i===0&&(orient==="left"||orient==="right"?dy=-((counts[d.index]-1)*(sizeFor1Char.h/2)-3):dy=".71em"),dy}function tickSize(d){var tickPosition=scale(d)+(tickCentered?0:tickOffset);return range[0]<tickPosition&&tickPosition<range[1]?innerTickSize:0}function textAnchorForText(rotate){return rotate?rotate>0?"start":"end":"middle"}function textTransform(rotate){return rotate?"rotate("+rotate+")":""}function dxForText(rotate){return rotate?8*Math.sin(Math.PI*(rotate/180)):0}function yForText(rotate){return rotate?11.5-2.5*(rotate/15)*(rotate>0?1:-1):tickLength}var g=axis.g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=copyScale(),ticks=tickValues?tickValues:generateTicks(scale1),tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),tickExit=tick.exit().remove(),tickUpdate=transitionise(tick).style("opacity",1),tickTransform,tickX,tickY,range=scale.rangeExtent?scale.rangeExtent():scaleExtent(scale.range()),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),transitionise(path));tickEnter.append("line"),tickEnter.append("text");var lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text");params.isCategory?(tickOffset=Math.ceil((scale1(1)-scale1(0))/2),tickX=tickCentered?0:tickOffset,tickY=tickCentered?tickOffset:0):tickOffset=tickX=0;var text,tspan,sizeFor1Char=getSizeFor1Char(g.select(".tick")),counts=[],tickLength=Math.max(innerTickSize,0)+tickPadding,isVertical=orient==="left"||orient==="right";text=tick.select("text"),tspan=text.selectAll("tspan").data(function(d,i){var splitted=params.tickMultiline?splitTickText(d,params.tickWidth):[].concat(textFormatted(d));return counts[i]=splitted.length,splitted.map(function(s){return{index:i,splitted:s}})}),tspan.enter().append("tspan"),tspan.exit().remove(),tspan.text(function(d){return d.splitted});var rotate=params.tickTextRotate;switch(orient){case"bottom":tickTransform=axisX,lineEnter.attr("y2",innerTickSize),textEnter.attr("y",tickLength),lineUpdate.attr("x1",tickX).attr("x2",tickX).attr("y2",tickSize),textUpdate.attr("x",0).attr("y",yForText(rotate)).style("text-anchor",textAnchorForText(rotate)).attr("transform",textTransform(rotate)),tspan.attr("x",0).attr("dy",tspanDy).attr("dx",dxForText(rotate)),pathUpdate.attr("d","M"+range[0]+","+outerTickSize+"V0H"+range[1]+"V"+outerTickSize);break;case"top":tickTransform=axisX,lineEnter.attr("y2",-innerTickSize),textEnter.attr("y",-tickLength),lineUpdate.attr("x2",0).attr("y2",-innerTickSize),textUpdate.attr("x",0).attr("y",-tickLength),text.style("text-anchor","middle"),tspan.attr("x",0).attr("dy","0em"),pathUpdate.attr("d","M"+range[0]+","+ -outerTickSize+"V0H"+range[1]+"V"+ -outerTickSize);break;case"left":tickTransform=axisY,lineEnter.attr("x2",-innerTickSize),textEnter.attr("x",-tickLength),lineUpdate.attr("x2",-innerTickSize).attr("y1",tickY).attr("y2",tickY),textUpdate.attr("x",-tickLength).attr("y",tickOffset),text.style("text-anchor","end"),tspan.attr("x",-tickLength).attr("dy",tspanDy),pathUpdate.attr("d","M"+ -outerTickSize+","+range[0]+"H0V"+range[1]+"H"+ -outerTickSize);break;case"right":tickTransform=axisY,lineEnter.attr("x2",innerTickSize),textEnter.attr("x",tickLength),lineUpdate.attr("x2",innerTickSize).attr("y2",0),textUpdate.attr("x",tickLength).attr("y",0),text.style("text-anchor","start"),tspan.attr("x",tickLength).attr("dy",tspanDy),pathUpdate.attr("d","M"+outerTickSize+","+range[0]+"H0V"+range[1]+"H"+outerTickSize)}if(scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1);tickEnter.call(tickTransform,scale0),tickUpdate.call(tickTransform,scale1)})}var scale=d3.scale.linear(),orient="bottom",innerTickSize=6,outerTickSize,tickPadding=3,tickValues=null,tickFormat,tickArguments,tickOffset=0,tickCulling=!0,tickCentered;return params=params||{},outerTickSize=params.withOuterTick?6:0,axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in{top:1,right:1,bottom:1,left:1}?x+"":"bottom",axis):orient},axis.tickFormat=function(format){return arguments.length?(tickFormat=format,axis):tickFormat},axis.tickCentered=function(isCentered){return arguments.length?(tickCentered=isCentered,axis):tickCentered},axis.tickOffset=function(){return tickOffset},axis.tickInterval=function(){var interval,length;return params.isCategory?interval=tickOffset*2:(length=axis.g.select("path.domain").node().getTotalLength()-outerTickSize*2,interval=length/axis.g.selectAll("line").size()),interval===Infinity?0:interval},axis.ticks=function(){return arguments.length?(tickArguments=arguments,axis):tickArguments},axis.tickCulling=function(culling){return arguments.length?(tickCulling=culling,axis):tickCulling},axis.tickValues=function(x){if(typeof x=="function")tickValues=function(){return x(scale.domain())};else{if(!arguments.length)return tickValues;tickValues=x}return axis},axis}var c3={version:"0.4.11"},c3_chart_fn,c3_chart_internal_fn,c3_chart_internal_axis_fn;c3.generate=function(config){return new Chart(config)},c3.chart={fn:Chart.prototype,internal:{fn:ChartInternal.prototype,axis:{fn:Axis.prototype}}},c3_chart_fn=c3.chart.fn,c3_chart_internal_fn=c3.chart.internal.fn,c3_chart_internal_axis_fn=c3.chart.internal.axis.fn,c3_chart_internal_fn.beforeInit=function(){},c3_chart_internal_fn.afterInit=function(){},c3_chart_internal_fn.init=function(){var $$=this,config=$$.config;$$.initParams();if(config.data_url)$$.convertUrlToData(config.data_url,config.data_mimeType,config.data_headers,config.data_keys,$$.initWithData);else if(config.data_json)$$.initWithData($$.convertJsonToData(config.data_json,config.data_keys));else if(config.data_rows)$$.initWithData($$.convertRowsToData(config.data_rows));else{if(!config.data_columns)throw Error("url or json or rows or columns is required.");$$.initWithData($$.convertColumnsToData(config.data_columns))}},c3_chart_internal_fn.initParams=function(){var $$=this,d3=$$.d3,config=$$.config;$$.clipId="c3-"+ +(new Date)+"-clip",$$.clipIdForXAxis=$$.clipId+"-xaxis",$$.clipIdForYAxis=$$.clipId+"-yaxis",$$.clipIdForGrid=$$.clipId+"-grid",$$.clipIdForSubchart=$$.clipId+"-subchart",$$.clipPath=$$.getClipPath($$.clipId),$$.clipPathForXAxis=$$.getClipPath($$.clipIdForXAxis),$$.clipPathForYAxis=$$.getClipPath($$.clipIdForYAxis),$$.clipPathForGrid=$$.getClipPath($$.clipIdForGrid),$$.clipPathForSubchart=$$.getClipPath($$.clipIdForSubchart),$$.dragStart=null,$$.dragging=!1,$$.flowing=!1,$$.cancelClick=!1,$$.mouseover=!1,$$.transiting=!1,$$.color=$$.generateColor(),$$.levelColor=$$.generateLevelColor(),$$.dataTimeFormat=config.data_xLocaltime?d3.time.format:d3.time.format.utc,$$.axisTimeFormat=config.axis_x_localtime?d3.time.format:d3.time.format.utc,$$.defaultAxisTimeFormat=$$.axisTimeFormat.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%-m/%-d",function(d){return d.getDay()&&d.getDate()!==1}],["%-m/%-d",function(d){return d.getDate()!==1}],["%-m/%-d",function(d){return d.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),$$.hiddenTargetIds=[],$$.hiddenLegendIds=[],$$.focusedTargetIds=[],$$.defocusedTargetIds=[],$$.xOrient=config.axis_rotated?"left":"bottom",$$.yOrient=config.axis_rotated?config.axis_y_inner?"top":"bottom":config.axis_y_inner?"right":"left",$$.y2Orient=config.axis_rotated?config.axis_y2_inner?"bottom":"top":config.axis_y2_inner?"left":"right",$$.subXOrient=config.axis_rotated?"left":"bottom",$$.isLegendRight=config.legend_position==="right",$$.isLegendInset=config.legend_position==="inset",$$.isLegendTop=config.legend_inset_anchor==="top-left"||config.legend_inset_anchor==="top-right",$$.isLegendLeft=config.legend_inset_anchor==="top-left"||config.legend_inset_anchor==="bottom-left",$$.legendStep=0,$$.legendItemWidth=0,$$.legendItemHeight=0,$$.currentMaxTickWidths={x:0,y:0,y2:0},$$.rotated_padding_left=30,$$.rotated_padding_right=config.axis_rotated&&!config.axis_x_show?0:30,$$.rotated_padding_top=5,$$.withoutFadeIn={},$$.intervalForObserveInserted=undefined,$$.axes.subx=d3.selectAll([])},c3_chart_internal_fn.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},c3_chart_internal_fn.initWithData=function(data){var $$=this,d3=$$.d3,config=$$.config,defs,main,binding=!0;$$.axis=new Axis($$),$$.initPie&&$$.initPie(),$$.initBrush&&$$.initBrush(),$$.initZoom&&$$.initZoom(),config.bindto?typeof config.bindto.node=="function"?$$.selectChart=config.bindto:$$.selectChart=d3.select(config.bindto):$$.selectChart=d3.selectAll([]),$$.selectChart.empty()&&($$.selectChart=d3.select(document.createElement("div")).style("opacity",0),$$.observeInserted($$.selectChart),binding=!1),$$.selectChart.html("").classed("c3",!0),$$.data.xs={},$$.data.targets=$$.convertDataToTargets(data),config.data_filter&&($$.data.targets=$$.data.targets.filter(config.data_filter)),config.data_hide&&$$.addHiddenTargetIds(config.data_hide===!0?$$.mapToIds($$.data.targets):config.data_hide),config.legend_hide&&$$.addHiddenLegendIds(config.legend_hide===!0?$$.mapToIds($$.data.targets):config.legend_hide),$$.hasType("gauge")&&(config.legend_show=!1),$$.updateSizes(),$$.updateScales(),$$.x.domain(d3.extent($$.getXDomain($$.data.targets))),$$.y.domain($$.getYDomain($$.data.targets,"y")),$$.y2.domain($$.getYDomain($$.data.targets,"y2")),$$.subX.domain($$.x.domain()),$$.subY.domain($$.y.domain()),$$.subY2.domain($$.y2.domain()),$$.orgXDomain=$$.x.domain(),$$.brush&&$$.brush.scale($$.subX),config.zoom_enabled&&$$.zoom.scale($$.x),$$.svg=$$.selectChart.append
("svg").style("overflow","hidden").on("mouseenter",function(){return config.onmouseover.call($$)}).on("mouseleave",function(){return config.onmouseout.call($$)}),$$.config.svg_classname&&$$.svg.attr("class",$$.config.svg_classname),defs=$$.svg.append("defs"),$$.clipChart=$$.appendClip(defs,$$.clipId),$$.clipXAxis=$$.appendClip(defs,$$.clipIdForXAxis),$$.clipYAxis=$$.appendClip(defs,$$.clipIdForYAxis),$$.clipGrid=$$.appendClip(defs,$$.clipIdForGrid),$$.clipSubchart=$$.appendClip(defs,$$.clipIdForSubchart),$$.updateSvgSize(),main=$$.main=$$.svg.append("g").attr("transform",$$.getTranslate("main")),$$.initSubchart&&$$.initSubchart(),$$.initTooltip&&$$.initTooltip(),$$.initLegend&&$$.initLegend(),$$.initTitle&&$$.initTitle(),main.append("text").attr("class",CLASS.text+" "+CLASS.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),$$.initRegion(),$$.initGrid(),main.append("g").attr("clip-path",$$.clipPath).attr("class",CLASS.chart),config.grid_lines_front&&$$.initGridLines(),$$.initEventRect(),$$.initChartElements(),main.insert("rect",config.zoom_privileged?null:"g."+CLASS.regions).attr("class",CLASS.zoomRect).attr("width",$$.width).attr("height",$$.height).style("opacity",0).on("dblclick.zoom",null),config.axis_x_extent&&$$.brush.extent($$.getDefaultExtent()),$$.axis.init(),$$.updateTargets($$.data.targets),binding&&($$.updateDimension(),$$.config.oninit.call($$),$$.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),$$.bindResize(),$$.api.element=$$.selectChart.node()},c3_chart_internal_fn.smoothLines=function(el,type){var $$=this;type==="grid"&&el.each(function(){var g=$$.d3.select(this),x1=g.attr("x1"),x2=g.attr("x2"),y1=g.attr("y1"),y2=g.attr("y2");g.attr({x1:Math.ceil(x1),x2:Math.ceil(x2),y1:Math.ceil(y1),y2:Math.ceil(y2)})})},c3_chart_internal_fn.updateSizes=function(){var $$=this,config=$$.config,legendHeight=$$.legend?$$.getLegendHeight():0,legendWidth=$$.legend?$$.getLegendWidth():0,legendHeightForBottom=$$.isLegendRight||$$.isLegendInset?0:legendHeight,hasArc=$$.hasArcType(),xAxisHeight=config.axis_rotated||hasArc?0:$$.getHorizontalAxisHeight("x"),subchartHeight=config.subchart_show&&!hasArc?config.subchart_size_height+xAxisHeight:0;$$.currentWidth=$$.getCurrentWidth(),$$.currentHeight=$$.getCurrentHeight(),$$.margin=config.axis_rotated?{top:$$.getHorizontalAxisHeight("y2")+$$.getCurrentPaddingTop(),right:hasArc?0:$$.getCurrentPaddingRight(),bottom:$$.getHorizontalAxisHeight("y")+legendHeightForBottom+$$.getCurrentPaddingBottom(),left:subchartHeight+(hasArc?0:$$.getCurrentPaddingLeft())}:{top:4+$$.getCurrentPaddingTop(),right:hasArc?0:$$.getCurrentPaddingRight(),bottom:xAxisHeight+subchartHeight+legendHeightForBottom+$$.getCurrentPaddingBottom(),left:hasArc?0:$$.getCurrentPaddingLeft()},$$.margin2=config.axis_rotated?{top:$$.margin.top,right:NaN,bottom:20+legendHeightForBottom,left:$$.rotated_padding_left}:{top:$$.currentHeight-subchartHeight-legendHeightForBottom,right:NaN,bottom:xAxisHeight+legendHeightForBottom,left:$$.margin.left},$$.margin3={top:0,right:NaN,bottom:0,left:0},$$.updateSizeForLegend&&$$.updateSizeForLegend(legendHeight,legendWidth),$$.width=$$.currentWidth-$$.margin.left-$$.margin.right,$$.height=$$.currentHeight-$$.margin.top-$$.margin.bottom,$$.width<0&&($$.width=0),$$.height<0&&($$.height=0),$$.width2=config.axis_rotated?$$.margin.left-$$.rotated_padding_left-$$.rotated_padding_right:$$.width,$$.height2=config.axis_rotated?$$.height:$$.currentHeight-$$.margin2.top-$$.margin2.bottom,$$.width2<0&&($$.width2=0),$$.height2<0&&($$.height2=0),$$.arcWidth=$$.width-($$.isLegendRight?legendWidth+10:0),$$.arcHeight=$$.height-($$.isLegendRight?0:10),$$.hasType("gauge")&&!config.gauge_fullCircle&&($$.arcHeight+=$$.height-$$.getGaugeLabelHeight()),$$.updateRadius&&$$.updateRadius(),$$.isLegendRight&&hasArc&&($$.margin3.left=$$.arcWidth/2+$$.radiusExpanded*1.1)},c3_chart_internal_fn.updateTargets=function(targets){var $$=this;$$.updateTargetsForText(targets),$$.updateTargetsForBar(targets),$$.updateTargetsForLine(targets),$$.hasArcType()&&$$.updateTargetsForArc&&$$.updateTargetsForArc(targets),$$.updateTargetsForSubchart&&$$.updateTargetsForSubchart(targets),$$.showTargets()},c3_chart_internal_fn.showTargets=function(){var $$=this;$$.svg.selectAll("."+CLASS.target).filter(function(d){return $$.isTargetToShow(d.id)}).transition().duration($$.config.transition_duration).style("opacity",1)},c3_chart_internal_fn.redraw=function(options,transitions){var $$=this,main=$$.main,d3=$$.d3,config=$$.config,areaIndices=$$.getShapeIndices($$.isAreaType),barIndices=$$.getShapeIndices($$.isBarType),lineIndices=$$.getShapeIndices($$.isLineType),withY,withSubchart,withTransition,withTransitionForExit,withTransitionForAxis,withTransform,withUpdateXDomain,withUpdateOrgXDomain,withTrimXDomain,withLegend,withEventRect,withDimension,withUpdateXAxis,hideAxis=$$.hasArcType(),drawArea,drawBar,drawLine,xForText,yForText,duration,durationForExit,durationForAxis,waitForDraw,flow,targetsToShow=$$.filterTargetsToShow($$.data.targets),tickValues,i,intervalForCulling,xDomainForZoom,xv=$$.xv.bind($$),cx,cy;options=options||{},withY=getOption(options,"withY",!0),withSubchart=getOption(options,"withSubchart",!0),withTransition=getOption(options,"withTransition",!0),withTransform=getOption(options,"withTransform",!1),withUpdateXDomain=getOption(options,"withUpdateXDomain",!1),withUpdateOrgXDomain=getOption(options,"withUpdateOrgXDomain",!1),withTrimXDomain=getOption(options,"withTrimXDomain",!0),withUpdateXAxis=getOption(options,"withUpdateXAxis",withUpdateXDomain),withLegend=getOption(options,"withLegend",!1),withEventRect=getOption(options,"withEventRect",!0),withDimension=getOption(options,"withDimension",!0),withTransitionForExit=getOption(options,"withTransitionForExit",withTransition),withTransitionForAxis=getOption(options,"withTransitionForAxis",withTransition),duration=withTransition?config.transition_duration:0,durationForExit=withTransitionForExit?duration:0,durationForAxis=withTransitionForAxis?duration:0,transitions=transitions||$$.axis.generateTransitions(durationForAxis),withLegend&&config.legend_show?$$.updateLegend($$.mapToIds($$.data.targets),options,transitions):withDimension&&$$.updateDimension(!0),$$.isCategorized()&&targetsToShow.length===0&&$$.x.domain([0,$$.axes.x.selectAll(".tick").size()]),targetsToShow.length?($$.updateXDomain(targetsToShow,withUpdateXDomain,withUpdateOrgXDomain,withTrimXDomain),config.axis_x_tick_values||(tickValues=$$.axis.updateXAxisTickValues(targetsToShow))):($$.xAxis.tickValues([]),$$.subXAxis.tickValues([])),config.zoom_rescale&&!options.flow&&(xDomainForZoom=$$.x.orgDomain()),$$.y.domain($$.getYDomain(targetsToShow,"y",xDomainForZoom)),$$.y2.domain($$.getYDomain(targetsToShow,"y2",xDomainForZoom)),!config.axis_y_tick_values&&config.axis_y_tick_count&&$$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(),config.axis_y_tick_count)),!config.axis_y2_tick_values&&config.axis_y2_tick_count&&$$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(),config.axis_y2_tick_count)),$$.axis.redraw(transitions,hideAxis),$$.axis.updateLabels(withTransition);if((withUpdateXDomain||withUpdateXAxis)&&targetsToShow.length)if(config.axis_x_tick_culling&&tickValues){for(i=1;i<tickValues.length;i++)if(tickValues.length/i<config.axis_x_tick_culling_max){intervalForCulling=i;break}$$.svg.selectAll("."+CLASS.axisX+" .tick text").each(function(e){var index=tickValues.indexOf(e);index>=0&&d3.select(this).style("display",index%intervalForCulling?"none":"block")})}else $$.svg.selectAll("."+CLASS.axisX+" .tick text").style("display","block");drawArea=$$.generateDrawArea?$$.generateDrawArea(areaIndices,!1):undefined,drawBar=$$.generateDrawBar?$$.generateDrawBar(barIndices):undefined,drawLine=$$.generateDrawLine?$$.generateDrawLine(lineIndices,!1):undefined,xForText=$$.generateXYForText(areaIndices,barIndices,lineIndices,!0),yForText=$$.generateXYForText(areaIndices,barIndices,lineIndices,!1),withY&&($$.subY.domain($$.getYDomain(targetsToShow,"y")),$$.subY2.domain($$.getYDomain(targetsToShow,"y2"))),$$.updateXgridFocus(),main.select("text."+CLASS.text+"."+CLASS.empty).attr("x",$$.width/2).attr("y",$$.height/2).text(config.data_empty_label_text).transition().style("opacity",targetsToShow.length?0:1),$$.updateGrid(duration),$$.updateRegion(duration),$$.updateBar(durationForExit),$$.updateLine(durationForExit),$$.updateArea(durationForExit),$$.updateCircle(),$$.hasDataLabel()&&$$.updateText(durationForExit),$$.redrawTitle&&$$.redrawTitle(),$$.redrawArc&&$$.redrawArc(duration,durationForExit,withTransform),$$.redrawSubchart&&$$.redrawSubchart(withSubchart,transitions,duration,durationForExit,areaIndices,barIndices,lineIndices),main.selectAll("."+CLASS.selectedCircles).filter($$.isBarType.bind($$)).selectAll("circle").remove(),config.interaction_enabled&&!options.flow&&withEventRect&&($$.redrawEventRect(),$$.updateZoom&&$$.updateZoom()),$$.updateCircleY(),cx=($$.config.axis_rotated?$$.circleY:$$.circleX).bind($$),cy=($$.config.axis_rotated?$$.circleX:$$.circleY).bind($$),options.flow&&(flow=$$.generateFlow({targets:targetsToShow,flow:options.flow,duration:options.flow.duration,drawBar:drawBar,drawLine:drawLine,drawArea:drawArea,cx:cx,cy:cy,xv:xv,xForText:xForText,yForText:yForText})),(duration||flow)&&$$.isTabVisible()?d3.transition().duration(duration).each(function(){var transitionsToWait=[];[$$.redrawBar(drawBar,!0),$$.redrawLine(drawLine,!0),$$.redrawArea(drawArea,!0),$$.redrawCircle(cx,cy,!0),$$.redrawText(xForText,yForText,options.flow,!0),$$.redrawRegion(!0),$$.redrawGrid(!0)].forEach(function(transitions){transitions.forEach(function(transition){transitionsToWait.push(transition)})}),waitForDraw=$$.generateWait(),transitionsToWait.forEach(function(t){waitForDraw.add(t)})}).call(waitForDraw,function(){flow&&flow(),config.onrendered&&config.onrendered.call($$)}):($$.redrawBar(drawBar),$$.redrawLine(drawLine),$$.redrawArea(drawArea),$$.redrawCircle(cx,cy),$$.redrawText(xForText,yForText,options.flow),$$.redrawRegion(),$$.redrawGrid(),config.onrendered&&config.onrendered.call($$)),$$.mapToIds($$.data.targets).forEach(function(id){$$.withoutFadeIn[id]=!0})},c3_chart_internal_fn.updateAndRedraw=function(options){var $$=this,config=$$.config,transitions;options=options||{},options.withTransition=getOption(options,"withTransition",!0),options.withTransform=getOption(options,"withTransform",!1),options.withLegend=getOption(options,"withLegend",!1),options.withUpdateXDomain=!0,options.withUpdateOrgXDomain=!0,options.withTransitionForExit=!1,options.withTransitionForTransform=getOption(options,"withTransitionForTransform",options.withTransition),$$.updateSizes();if(!options.withLegend||!config.legend_show)transitions=$$.axis.generateTransitions(options.withTransitionForAxis?config.transition_duration:0),$$.updateScales(),$$.updateSvgSize(),$$.transformAll(options.withTransitionForTransform,transitions);$$.redraw(options,transitions)},c3_chart_internal_fn.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},c3_chart_internal_fn.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},c3_chart_internal_fn.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},c3_chart_internal_fn.isCustomX=function(){var $$=this,config=$$.config;return!$$.isTimeSeries()&&(config.data_x||notEmpty(config.data_xs))},c3_chart_internal_fn.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},c3_chart_internal_fn.getTranslate=function(target){var $$=this,config=$$.config,x,y;return target==="main"?(x=asHalfPixel($$.margin.left),y=asHalfPixel($$.margin.top)):target==="context"?(x=asHalfPixel($$.margin2.left),y=asHalfPixel($$.margin2.top)):target==="legend"?(x=$$.margin3.left,y=$$.margin3.top):target==="x"?(x=0,y=config.axis_rotated?0:$$.height):target==="y"?(x=0,y=config.axis_rotated?$$.height:0):target==="y2"?(x=config.axis_rotated?0:$$.width,y=config.axis_rotated?1:0):target==="subx"?(x=0,y=config.axis_rotated?0:$$.height2):target==="arc"&&(x=$$.arcWidth/2,y=$$.arcHeight/2),"translate("+x+","+y+")"},c3_chart_internal_fn.initialOpacity=function(d){return d.value!==null&&this.withoutFadeIn[d.id]?1:0},c3_chart_internal_fn.initialOpacityForCircle=function(d){return d.value!==null&&this.withoutFadeIn[d.id]?this.opacityForCircle(d):0},c3_chart_internal_fn.opacityForCircle=function(d){var opacity=this.config.point_show?1:0;return isValue(d.value)?this.isScatterType(d)?.5:opacity:0},c3_chart_internal_fn.opacityForText=function(){return this.hasDataLabel()?1:0},c3_chart_internal_fn.xx=function(d){return d?this.x(d.x):null},c3_chart_internal_fn.xv=function(d){var $$=this,value=d.value;return $$.isTimeSeries()?value=$$.parseDate(d.value):$$.isCategorized()&&typeof d.value=="string"&&(value=$$.config.axis_x_categories.indexOf(d.value)),Math.ceil($$.x(value))},c3_chart_internal_fn.yv=function(d){var $$=this,yScale=d.axis&&d.axis==="y2"?$$.y2:$$.y;return Math.ceil(yScale(d.value))},c3_chart_internal_fn.subxx=function(d){return d?this.subX(d.x):null},c3_chart_internal_fn.transformMain=function(withTransition,transitions){var $$=this,xAxis,yAxis,y2Axis;transitions&&transitions.axisX?xAxis=transitions.axisX:(xAxis=$$.main.select("."+CLASS.axisX),withTransition&&(xAxis=xAxis.transition())),transitions&&transitions.axisY?yAxis=transitions.axisY:(yAxis=$$.main.select("."+CLASS.axisY),withTransition&&(yAxis=yAxis.transition())),transitions&&transitions.axisY2?y2Axis=transitions.axisY2:(y2Axis=$$.main.select("."+CLASS.axisY2),withTransition&&(y2Axis=y2Axis.transition())),(withTransition?$$.main.transition():$$.main).attr("transform",$$.getTranslate("main")),xAxis.attr("transform",$$.getTranslate("x")),yAxis.attr("transform",$$.getTranslate("y")),y2Axis.attr("transform",$$.getTranslate("y2")),$$.main.select("."+CLASS.chartArcs).attr("transform",$$.getTranslate("arc"))},c3_chart_internal_fn.transformAll=function(withTransition,transitions){var $$=this;$$.transformMain(withTransition,transitions),$$.config.subchart_show&&$$.transformContext(withTransition,transitions),$$.legend&&$$.transformLegend(withTransition)},c3_chart_internal_fn.updateSvgSize=function(){var $$=this,brush=$$.svg.select(".c3-brush .background");$$.svg.attr("width",$$.currentWidth).attr("height",$$.currentHeight),$$.svg.selectAll(["#"+$$.clipId,"#"+$$.clipIdForGrid]).select("rect").attr("width",$$.width).attr("height",$$.height),$$.svg.select("#"+$$.clipIdForXAxis).select("rect").attr("x",$$.getXAxisClipX.bind($$)).attr("y",$$.getXAxisClipY.bind($$)).attr("width",$$.getXAxisClipWidth.bind($$)).attr("height",$$.getXAxisClipHeight.bind($$)),$$.svg.select("#"+$$.clipIdForYAxis).select("rect").attr("x",$$.getYAxisClipX.bind($$)).attr("y",$$.getYAxisClipY.bind($$)).attr("width",$$.getYAxisClipWidth.bind($$)).attr("height",$$.getYAxisClipHeight.bind($$)),$$.svg.select("#"+$$.clipIdForSubchart).select("rect").attr("width",$$.width).attr("height",brush.size()?brush.attr("height"):0),$$.svg.select("."+CLASS.zoomRect).attr("width",$$.width).attr("height",$$.height),$$.selectChart.style("max-height",$$.currentHeight+"px")},c3_chart_internal_fn.updateDimension=function(withoutAxis){var $$=this;withoutAxis||($$.config.axis_rotated?($$.axes.x.call($$.xAxis),$$.axes.subx.call($$.subXAxis)):($$.axes.y.call($$.yAxis),$$.axes.y2.call($$.y2Axis))),$$.updateSizes(),$$.updateScales(),$$.updateSvgSize(),$$.transformAll(!1)},c3_chart_internal_fn.observeInserted=function(selection){var $$=this,observer;if(typeof MutationObserver=="undefined"){window.console.error("MutationObserver not defined.");return}observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){mutation.type==="childList"&&mutation.previousSibling&&(observer.disconnect(),$$.intervalForObserveInserted=window.setInterval(function(){selection.node().parentNode&&(window.clearInterval($$.intervalForObserveInserted),$$.updateDimension(),$$.brush&&$$.brush.update(),$$.config.oninit.call($$),$$.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),selection.transition().style("opacity",1))},10))})}),observer.observe(selection.node(),{attributes:!0,childList:!0,characterData:!0})},c3_chart_internal_fn.bindResize=function(){var $$=this,config=$$.config;$$.resizeFunction=$$.generateResize(),$$.resizeFunction.add(function(){config.onresize.call($$)}),config.resize_auto&&$$.resizeFunction.add(function(){$$.resizeTimeout!==undefined&&window.clearTimeout($$.resizeTimeout),$$.resizeTimeout=window.setTimeout(function(){delete $$.resizeTimeout,$$.api.flush()},100)}),$$.resizeFunction.add(function(){config.onresized.call($$)});if(window.attachEvent)window.attachEvent("onresize",$$.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",$$.resizeFunction,!1);else{var wrapper=window.onresize;if(!wrapper)wrapper=$$.generateResize();else if(!wrapper.add||!wrapper.remove)wrapper=$$.generateResize(),wrapper.add(window.onresize);wrapper.add($$.resizeFunction),window.onresize=wrapper}},c3_chart_internal_fn.generateResize=function(){function callResizeFunctions(){resizeFunctions.forEach(function(f){f()})}var resizeFunctions=[];return callResizeFunctions.add=function(f){resizeFunctions.push(f)},callResizeFunctions.remove=function(f){for(var i=0;i<resizeFunctions.length;i++)if(resizeFunctions[i]===f){resizeFunctions.splice(i,1);break}},callResizeFunctions},c3_chart_internal_fn.endall=function(transition,callback){var n=0;transition.each(function(){++n}).each("end",function(){--n||callback.apply(this,arguments)})},c3_chart_internal_fn.generateWait=function(){var transitionsToWait=[],f=function(transition,callback){var timer=setInterval(function(){var done=0;transitionsToWait.forEach(function(t){if(t.empty()){done+=1;return}try{t.transition()}catch(e){done+=1}}),done===transitionsToWait.length&&(clearInterval(timer),callback&&callback())},10)};return f.add=function(transition){transitionsToWait.push(transition)},f},c3_chart_internal_fn.parseDate=function(date){var $$=this,parsedDate;return date instanceof Date?parsedDate=date:typeof date=="string"?parsedDate=$$.dataTimeFormat($$.config.data_xFormat).parse(date):typeof date=="number"&&!isNaN(date)&&(parsedDate=new Date(+date)),(!parsedDate||isNaN(+parsedDate))&&window.console.error("Failed to parse x '"+date+"' to Date object"),parsedDate},c3_chart_internal_fn.isTabVisible=function(){var hidden;return typeof document.hidden!="undefined"?hidden="hidden":typeof document.mozHidden!="undefined"?hidden="mozHidden":typeof document.msHidden!="undefined"?hidden="msHidden":typeof document.webkitHidden!="undefined"&&(hidden="webkitHidden"),document[hidden]?!1:!0},c3_chart_internal_fn.getDefaultConfig=function(){var config={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(id){return id},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(d,defaultTitleFormat,defaultValueFormat,color){return this.getTooltipContent?this.getTooltipContent(d,defaultTitleFormat,defaultValueFormat,color):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(key){config[key]=this.additionalConfig[key]},this),config},c3_chart_internal_fn.additionalConfig={},c3_chart_internal_fn.loadConfig=function(config){function find(){var key=keys.shift();return key&&target&&typeof target=="object"&&key in target?(target=target[key],find()):key?undefined:target}var this_config=this.config,target,keys,read;Object.keys(this_config).forEach(function(key){target=config,keys=key.split("_"),read=find(),isDefined(read)&&(this_config[key]=read)})},c3_chart_internal_fn.getScale=function(min,max,forTimeseries){return(forTimeseries?this.d3.time.scale():this.d3.scale.linear()).range([min,max])},c3_chart_internal_fn.getX=function(min,max,domain,offset){var $$=this,scale=$$.getScale(min,max,$$.isTimeSeries()),_scale=domain?scale.domain(domain):scale,key;$$.isCategorized()?(offset=offset||function(){return 0},scale=function(d,raw){var v=_scale(d)+offset(d);return raw?v:Math.ceil(v)}):scale=function(d,raw){var v=_scale(d);return raw?v:Math.ceil(v)};for(key in _scale)scale[key]=_scale[key];return scale.orgDomain=function(){return _scale.domain()},$$.isCategorized()&&(scale.domain=function(domain){return arguments.length?(_scale.domain(domain),scale):(domain=this.orgDomain(),[domain[0],domain[1]+1])}),scale},c3_chart_internal_fn.getY=function(min,max,domain){var scale=this.getScale(min,max,this.isTimeSeriesY());return domain&&scale.domain(domain),scale},c3_chart_internal_fn.getYScale=function(id){return this.axis.getId(id)==="y2"?this.y2:this.y},c3_chart_internal_fn.getSubYScale=function(id){return this.axis.getId(id)==="y2"?this.subY2:this.subY},c3_chart_internal_fn.updateScales=function(){var $$=this,config=$$.config,forInit=!$$.x;$$.xMin=config.axis_rotated?1:0,$$.xMax=config.axis_rotated?$$.height:$$.width,$$.yMin=config.axis_rotated?0:$$.height,$$.yMax=config.axis_rotated?$$.width:1,$$.subXMin=$$.xMin,$$.subXMax=$$.xMax,$$.subYMin=config.axis_rotated?0:$$.height2,$$.subYMax=config.axis_rotated?$$.width2:1,$$.x=$$.getX($$.xMin,$$.xMax,forInit?undefined:$$.x.orgDomain(),function(){return $$.xAxis.tickOffset()}),$$.y=$$.getY($$.yMin,$$.yMax,forInit?config.axis_y_default:$$.y.domain()),$$.y2=$$.getY($$.yMin,$$.yMax,forInit?config.axis_y2_default:$$.y2.domain()),$$.subX=$$.getX($$.xMin,$$.xMax,$$.orgXDomain,function(d){return d%1?0:$$.subXAxis.tickOffset()}),$$.subY=$$.getY($$.subYMin,$$.subYMax,forInit?config.axis_y_default:$$.subY.domain()),$$.subY2=$$.getY($$.subYMin,$$.subYMax,forInit?config.axis_y2_default:$$.subY2.domain()),$$.xAxisTickFormat=$$.axis.getXAxisTickFormat(),$$.xAxisTickValues=$$.axis.getXAxisTickValues(),$$.yAxisTickValues=$$.axis.getYAxisTickValues(),$$.y2AxisTickValues=$$.axis.getY2AxisTickValues(),$$.xAxis=$$.axis.getXAxis($$.x,$$.xOrient,$$.xAxisTickFormat,$$.xAxisTickValues,config.axis_x_tick_outer),$$.subXAxis=$$.axis.getXAxis($$.subX,$$.subXOrient,$$.xAxisTickFormat,$$.xAxisTickValues,config.axis_x_tick_outer),$$.yAxis=$$.axis.getYAxis($$.y,$$.yOrient,config.axis_y_tick_format,$$.yAxisTickValues,config.axis_y_tick_outer),$$.y2Axis=$$.axis.getYAxis($$.y2,$$.y2Orient,config.axis_y2_tick_format,$$.y2AxisTickValues,config.axis_y2_tick_outer),forInit||($$.brush&&$$.brush.scale($$.subX),config.zoom_enabled&&$$.zoom.scale($$.x)),$$.updateArc&&$$.updateArc()},c3_chart_internal_fn.getYDomainMin=function(targets){var $$=this,config=$$.config,ids=$$.mapToIds(targets),ys=$$.getValuesAsIdKeyed(targets),j,k,baseId,idsInGroup,id,hasNegativeValue;if(config.data_groups.length>0){hasNegativeValue=$$.hasNegativeValueInTargets(targets);for(j=0;j<config.data_groups.length;j++){idsInGroup=config.data_groups[j].filter(function(id){return ids.indexOf(id)>=0});if(idsInGroup.length===0)continue;baseId=idsInGroup[0],hasNegativeValue&&ys[baseId]&&ys[baseId].forEach(function(v,i){ys[baseId][i]=v<0?v:0});for(k=1;k<idsInGroup.length;k++){id=idsInGroup[k];if(!ys[id])continue;ys[id].forEach(function(v,i){$$.axis.getId(id)===$$.axis.getId(baseId)&&ys[baseId]&&!(hasNegativeValue&&+v>0)&&(ys[baseId][i]+=+v)})}}}return $$.d3.min(Object.keys(ys).map(function(key){return $$.d3.min(ys[key])}))},c3_chart_internal_fn.getYDomainMax=function(targets){var $$=this,config=$$.config,ids=$$.mapToIds(targets),ys=$$.getValuesAsIdKeyed(targets),j,k,baseId,idsInGroup,id,hasPositiveValue;if(config.data_groups.length>0){hasPositiveValue=$$.hasPositiveValueInTargets(targets);for(j=0;j<config.data_groups.length;j++){idsInGroup=config.data_groups[j].filter(function(id){return ids.indexOf(id)>=0});if(idsInGroup.length===0)continue;baseId=idsInGroup[0],hasPositiveValue&&ys[baseId]&&ys[baseId].forEach(function(v,i){ys[baseId][i]=v>0?v:0});for(k=1;k<idsInGroup.length;k++){id=idsInGroup[k];if(!ys[id])continue;ys[id].forEach(function(v,i){$$.axis.getId(id)===$$.axis.getId(baseId)&&ys[baseId]&&!(hasPositiveValue&&+v<0)&&(ys[baseId][i]+=+v)})}}}return $$.d3.max(Object.keys(ys).map(function(key){return $$.d3.max(ys[key])}))},c3_chart_internal_fn.getYDomain=function(targets,axisId,xDomain){var $$=this,config=$$.config,targetsByAxisId=targets.filter(function(t){return $$.axis.getId(t.id)===axisId}),yTargets=xDomain?$$.filterByXDomain(targetsByAxisId,xDomain):targetsByAxisId,yMin=axisId==="y2"?config.axis_y2_min:config.axis_y_min,yMax=axisId==="y2"?config.axis_y2_max:config.axis_y_max,yDomainMin=$$.getYDomainMin(yTargets),yDomainMax=$$.getYDomainMax(yTargets),domain,domainLength,padding,padding_top,padding_bottom,center=axisId==="y2"?config.axis_y2_center:config.axis_y_center,yDomainAbs,lengths,diff,ratio,isAllPositive,isAllNegative,isZeroBased=$$.hasType("bar",yTargets)&&config.bar_zerobased||$$.hasType("area",yTargets)&&config.area_zerobased,isInverted=axisId==="y2"?config.axis_y2_inverted:config.axis_y_inverted,showHorizontalDataLabel=$$.hasDataLabel()&&config.axis_rotated,showVerticalDataLabel=$$.hasDataLabel()&&!config.axis_rotated;yDomainMin=isValue(yMin)?yMin:isValue(yMax)?yDomainMin<yMax?yDomainMin:yMax-10:yDomainMin,yDomainMax=isValue(yMax)?yMax:isValue(yMin)?yMin<yDomainMax?yDomainMax:yMin+10:yDomainMax;if(yTargets.length===0)return axisId==="y2"?$$.y2.domain():$$.y.domain();isNaN(yDomainMin)&&(yDomainMin=0),isNaN(yDomainMax)&&(yDomainMax=yDomainMin),yDomainMin===yDomainMax&&(yDomainMin<0?yDomainMax=0:yDomainMin=0),isAllPositive=yDomainMin>=0&&yDomainMax>=0,isAllNegative=yDomainMin<=0&&yDomainMax<=0;if(isValue(yMin)&&isAllPositive||isValue(yMax)&&isAllNegative)isZeroBased=!1;return isZeroBased&&(isAllPositive&&(yDomainMin=0),isAllNegative&&(yDomainMax=0)),domainLength=Math.abs(yDomainMax-yDomainMin),padding=padding_top=padding_bottom=domainLength*.1,typeof center!="undefined"&&(yDomainAbs=Math.max(Math.abs(yDomainMin),Math.abs(yDomainMax)),yDomainMax=center+yDomainAbs,yDomainMin=center-yDomainAbs),showHorizontalDataLabel?(lengths=$$.getDataLabelLength(yDomainMin,yDomainMax,"width"),diff=diffDomain($$.y.range()),ratio=[lengths[0]/diff,lengths[1]/diff],padding_top+=domainLength*(ratio[1]/(1-ratio[0]-ratio[1])),padding_bottom+=domainLength*(ratio[0]/(1-ratio[0]-ratio[1]))):showVerticalDataLabel&&(lengths=$$.getDataLabelLength(yDomainMin,yDomainMax,"height"),padding_top+=$$.axis.convertPixelsToAxisPadding(lengths[1],domainLength),padding_bottom+=$$.axis.convertPixelsToAxisPadding(lengths[0],domainLength)),axisId==="y"&&notEmpty(config.axis_y_padding)&&(padding_top=$$.axis.getPadding(config.axis_y_padding,"top",padding_top,domainLength),padding_bottom=$$.axis.getPadding(config.axis_y_padding,"bottom",padding_bottom,domainLength)),axisId==="y2"&&notEmpty(config.axis_y2_padding)&&(padding_top=$$.axis.getPadding(config.axis_y2_padding,"top",padding_top,domainLength),padding_bottom=$$.axis.getPadding(config.axis_y2_padding,"bottom",padding_bottom,domainLength)),isZeroBased&&(isAllPositive&&(padding_bottom=yDomainMin),isAllNegative&&(padding_top=-yDomainMax)),domain=[yDomainMin-padding_bottom,yDomainMax+padding_top],isInverted?domain.reverse():domain},c3_chart_internal_fn.getXDomainMin=function(targets){var $$=this,config=$$.config;return isDefined(config.axis_x_min)?$$.isTimeSeries()?this.parseDate(config.axis_x_min):config.axis_x_min:$$.d3.min(targets,function(t){return $$.d3.min(t.values,function(v){return v.x})})},c3_chart_internal_fn.getXDomainMax=function(targets){var $$=this,config=$$.config;return isDefined(config.axis_x_max)?$$.isTimeSeries()?this.parseDate(config.axis_x_max):config.axis_x_max:$$.d3.max(targets,function(t){return $$.d3.max(t.values,function(v){return v.x})})},c3_chart_internal_fn.getXDomainPadding=function(domain){var $$=this,config=$$.config,diff=domain[1]-domain[0],maxDataCount,padding,paddingLeft,paddingRight;return $$.isCategorized()?padding=0:$$.hasType("bar")?(maxDataCount=$$.getMaxDataCount(),padding=maxDataCount>1?diff/(maxDataCount-1)/2:.5):padding=diff*.01,typeof config.axis_x_padding=="object"&&notEmpty(config.axis_x_padding)?(paddingLeft=isValue(config.axis_x_padding.left)?config.axis_x_padding.left:padding,paddingRight=isValue(config.axis_x_padding.right)?config.axis_x_padding.right:padding):typeof config.axis_x_padding=="number"?paddingLeft=paddingRight=config.axis_x_padding:paddingLeft=paddingRight=padding,{left:paddingLeft,right:paddingRight}},c3_chart_internal_fn.getXDomain=function(targets){var $$=this,xDomain=[$$.getXDomainMin
(targets),$$.getXDomainMax(targets)],firstX=xDomain[0],lastX=xDomain[1],padding=$$.getXDomainPadding(xDomain),min=0,max=0;firstX-lastX===0&&!$$.isCategorized()&&($$.isTimeSeries()?(firstX=new Date(firstX.getTime()*.5),lastX=new Date(lastX.getTime()*1.5)):(firstX=firstX===0?1:firstX*.5,lastX=lastX===0?-1:lastX*1.5));if(firstX||firstX===0)min=$$.isTimeSeries()?new Date(firstX.getTime()-padding.left):firstX-padding.left;if(lastX||lastX===0)max=$$.isTimeSeries()?new Date(lastX.getTime()+padding.right):lastX+padding.right;return[min,max]},c3_chart_internal_fn.updateXDomain=function(targets,withUpdateXDomain,withUpdateOrgXDomain,withTrim,domain){var $$=this,config=$$.config;return withUpdateOrgXDomain&&($$.x.domain(domain?domain:$$.d3.extent($$.getXDomain(targets))),$$.orgXDomain=$$.x.domain(),config.zoom_enabled&&$$.zoom.scale($$.x).updateScaleExtent(),$$.subX.domain($$.x.domain()),$$.brush&&$$.brush.scale($$.subX)),withUpdateXDomain&&($$.x.domain(domain?domain:!$$.brush||$$.brush.empty()?$$.orgXDomain:$$.brush.extent()),config.zoom_enabled&&$$.zoom.scale($$.x).updateScaleExtent()),withTrim&&$$.x.domain($$.trimXDomain($$.x.orgDomain())),$$.x.domain()},c3_chart_internal_fn.trimXDomain=function(domain){var zoomDomain=this.getZoomDomain(),min=zoomDomain[0],max=zoomDomain[1];return domain[0]<=min&&(domain[1]=+domain[1]+(min-domain[0]),domain[0]=min),max<=domain[1]&&(domain[0]=+domain[0]-(domain[1]-max),domain[1]=max),domain},c3_chart_internal_fn.isX=function(key){var $$=this,config=$$.config;return config.data_x&&key===config.data_x||notEmpty(config.data_xs)&&hasValue(config.data_xs,key)},c3_chart_internal_fn.isNotX=function(key){return!this.isX(key)},c3_chart_internal_fn.getXKey=function(id){var $$=this,config=$$.config;return config.data_x?config.data_x:notEmpty(config.data_xs)?config.data_xs[id]:null},c3_chart_internal_fn.getXValuesOfXKey=function(key,targets){var $$=this,xValues,ids=targets&&notEmpty(targets)?$$.mapToIds(targets):[];return ids.forEach(function(id){$$.getXKey(id)===key&&(xValues=$$.data.xs[id])}),xValues},c3_chart_internal_fn.getIndexByX=function(x){var $$=this,data=$$.filterByX($$.data.targets,x);return data.length?data[0].index:null},c3_chart_internal_fn.getXValue=function(id,i){var $$=this;return id in $$.data.xs&&$$.data.xs[id]&&isValue($$.data.xs[id][i])?$$.data.xs[id][i]:i},c3_chart_internal_fn.getOtherTargetXs=function(){var $$=this,idsForX=Object.keys($$.data.xs);return idsForX.length?$$.data.xs[idsForX[0]]:null},c3_chart_internal_fn.getOtherTargetX=function(index){var xs=this.getOtherTargetXs();return xs&&index<xs.length?xs[index]:null},c3_chart_internal_fn.addXs=function(xs){var $$=this;Object.keys(xs).forEach(function(id){$$.config.data_xs[id]=xs[id]})},c3_chart_internal_fn.hasMultipleX=function(xs){return this.d3.set(Object.keys(xs).map(function(id){return xs[id]})).size()>1},c3_chart_internal_fn.isMultipleX=function(){return notEmpty(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},c3_chart_internal_fn.addName=function(data){var $$=this,name;return data&&(name=$$.config.data_names[data.id],data.name=name!==undefined?name:data.id),data},c3_chart_internal_fn.getValueOnIndex=function(values,index){var valueOnIndex=values.filter(function(v){return v.index===index});return valueOnIndex.length?valueOnIndex[0]:null},c3_chart_internal_fn.updateTargetX=function(targets,x){var $$=this;targets.forEach(function(t){t.values.forEach(function(v,i){v.x=$$.generateTargetX(x[i],t.id,i)}),$$.data.xs[t.id]=x})},c3_chart_internal_fn.updateTargetXs=function(targets,xs){var $$=this;targets.forEach(function(t){xs[t.id]&&$$.updateTargetX([t],xs[t.id])})},c3_chart_internal_fn.generateTargetX=function(rawX,id,index){var $$=this,x;return $$.isTimeSeries()?x=rawX?$$.parseDate(rawX):$$.parseDate($$.getXValue(id,index)):$$.isCustomX()&&!$$.isCategorized()?x=isValue(rawX)?+rawX:$$.getXValue(id,index):x=index,x},c3_chart_internal_fn.cloneTarget=function(target){return{id:target.id,id_org:target.id_org,values:target.values.map(function(d){return{x:d.x,value:d.value,id:d.id}})}},c3_chart_internal_fn.updateXs=function(){var $$=this;$$.data.targets.length&&($$.xs=[],$$.data.targets[0].values.forEach(function(v){$$.xs[v.index]=v.x}))},c3_chart_internal_fn.getPrevX=function(i){var x=this.xs[i-1];return typeof x!="undefined"?x:null},c3_chart_internal_fn.getNextX=function(i){var x=this.xs[i+1];return typeof x!="undefined"?x:null},c3_chart_internal_fn.getMaxDataCount=function(){var $$=this;return $$.d3.max($$.data.targets,function(t){return t.values.length})},c3_chart_internal_fn.getMaxDataCountTarget=function(targets){var length=targets.length,max=0,maxTarget;return length>1?targets.forEach(function(t){t.values.length>max&&(maxTarget=t,max=t.values.length)}):maxTarget=length?targets[0]:null,maxTarget},c3_chart_internal_fn.getEdgeX=function(targets){var $$=this;return targets.length?[$$.d3.min(targets,function(t){return t.values[0].x}),$$.d3.max(targets,function(t){return t.values[t.values.length-1].x})]:[0,0]},c3_chart_internal_fn.mapToIds=function(targets){return targets.map(function(d){return d.id})},c3_chart_internal_fn.mapToTargetIds=function(ids){var $$=this;return ids?[].concat(ids):$$.mapToIds($$.data.targets)},c3_chart_internal_fn.hasTarget=function(targets,id){var ids=this.mapToIds(targets),i;for(i=0;i<ids.length;i++)if(ids[i]===id)return!0;return!1},c3_chart_internal_fn.isTargetToShow=function(targetId){return this.hiddenTargetIds.indexOf(targetId)<0},c3_chart_internal_fn.isLegendToShow=function(targetId){return this.hiddenLegendIds.indexOf(targetId)<0},c3_chart_internal_fn.filterTargetsToShow=function(targets){var $$=this;return targets.filter(function(t){return $$.isTargetToShow(t.id)})},c3_chart_internal_fn.mapTargetsToUniqueXs=function(targets){var $$=this,xs=$$.d3.set($$.d3.merge(targets.map(function(t){return t.values.map(function(v){return+v.x})}))).values();return xs=$$.isTimeSeries()?xs.map(function(x){return new Date(+x)}):xs.map(function(x){return+x}),xs.sort(function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN})},c3_chart_internal_fn.addHiddenTargetIds=function(targetIds){this.hiddenTargetIds=this.hiddenTargetIds.concat(targetIds)},c3_chart_internal_fn.removeHiddenTargetIds=function(targetIds){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(id){return targetIds.indexOf(id)<0})},c3_chart_internal_fn.addHiddenLegendIds=function(targetIds){this.hiddenLegendIds=this.hiddenLegendIds.concat(targetIds)},c3_chart_internal_fn.removeHiddenLegendIds=function(targetIds){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(id){return targetIds.indexOf(id)<0})},c3_chart_internal_fn.getValuesAsIdKeyed=function(targets){var ys={};return targets.forEach(function(t){ys[t.id]=[],t.values.forEach(function(v){ys[t.id].push(v.value)})}),ys},c3_chart_internal_fn.checkValueInTargets=function(targets,checker){var ids=Object.keys(targets),i,j,values;for(i=0;i<ids.length;i++){values=targets[ids[i]].values;for(j=0;j<values.length;j++)if(checker(values[j].value))return!0}return!1},c3_chart_internal_fn.hasNegativeValueInTargets=function(targets){return this.checkValueInTargets(targets,function(v){return v<0})},c3_chart_internal_fn.hasPositiveValueInTargets=function(targets){return this.checkValueInTargets(targets,function(v){return v>0})},c3_chart_internal_fn.isOrderDesc=function(){var config=this.config;return typeof config.data_order=="string"&&config.data_order.toLowerCase()==="desc"},c3_chart_internal_fn.isOrderAsc=function(){var config=this.config;return typeof config.data_order=="string"&&config.data_order.toLowerCase()==="asc"},c3_chart_internal_fn.orderTargets=function(targets){var $$=this,config=$$.config,orderAsc=$$.isOrderAsc(),orderDesc=$$.isOrderDesc();return orderAsc||orderDesc?targets.sort(function(t1,t2){var reducer=function(p,c){return p+Math.abs(c.value)},t1Sum=t1.values.reduce(reducer,0),t2Sum=t2.values.reduce(reducer,0);return orderAsc?t2Sum-t1Sum:t1Sum-t2Sum}):isFunction(config.data_order)&&targets.sort(config.data_order),targets},c3_chart_internal_fn.filterByX=function(targets,x){return this.d3.merge(targets.map(function(t){return t.values})).filter(function(v){return v.x-x===0})},c3_chart_internal_fn.filterRemoveNull=function(data){return data.filter(function(d){return isValue(d.value)})},c3_chart_internal_fn.filterByXDomain=function(targets,xDomain){return targets.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(v){return xDomain[0]<=v.x&&v.x<=xDomain[1]})}})},c3_chart_internal_fn.hasDataLabel=function(){var config=this.config;return typeof config.data_labels=="boolean"&&config.data_labels?!0:typeof config.data_labels=="object"&&notEmpty(config.data_labels)?!0:!1},c3_chart_internal_fn.getDataLabelLength=function(min,max,key){var $$=this,lengths=[0,0],paddingCoef=1.3;return $$.selectChart.select("svg").selectAll(".dummy").data([min,max]).enter().append("text").text(function(d){return $$.dataLabelFormat(d.id)(d)}).each(function(d,i){lengths[i]=this.getBoundingClientRect()[key]*paddingCoef}).remove(),lengths},c3_chart_internal_fn.isNoneArc=function(d){return this.hasTarget(this.data.targets,d.id)},c3_chart_internal_fn.isArc=function(d){return"data"in d&&this.hasTarget(this.data.targets,d.data.id)},c3_chart_internal_fn.findSameXOfValues=function(values,index){var i,targetX=values[index].x,sames=[];for(i=index-1;i>=0;i--){if(targetX!==values[i].x)break;sames.push(values[i])}for(i=index;i<values.length;i++){if(targetX!==values[i].x)break;sames.push(values[i])}return sames},c3_chart_internal_fn.findClosestFromTargets=function(targets,pos){var $$=this,candidates;return candidates=targets.map(function(target){return $$.findClosest(target.values,pos)}),$$.findClosest(candidates,pos)},c3_chart_internal_fn.findClosest=function(values,pos){var $$=this,minDist=$$.config.point_sensitivity,closest;return values.filter(function(v){return v&&$$.isBarType(v.id)}).forEach(function(v){var shape=$$.main.select("."+CLASS.bars+$$.getTargetSelectorSuffix(v.id)+" ."+CLASS.bar+"-"+v.index).node();!closest&&$$.isWithinBar(shape)&&(closest=v)}),values.filter(function(v){return v&&!$$.isBarType(v.id)}).forEach(function(v){var d=$$.dist(v,pos);d<minDist&&(minDist=d,closest=v)}),closest},c3_chart_internal_fn.dist=function(data,pos){var $$=this,config=$$.config,xIndex=config.axis_rotated?1:0,yIndex=config.axis_rotated?0:1,y=$$.circleY(data,data.index),x=$$.x(data.x);return Math.sqrt(Math.pow(x-pos[xIndex],2)+Math.pow(y-pos[yIndex],2))},c3_chart_internal_fn.convertValuesToStep=function(values){var converted=[].concat(values),i;if(!this.isCategorized())return values;for(i=values.length+1;0<i;i--)converted[i]=converted[i-1];return converted[0]={x:converted[0].x-1,value:converted[0].value,id:converted[0].id},converted[values.length+1]={x:converted[values.length].x+1,value:converted[values.length].value,id:converted[values.length].id},converted},c3_chart_internal_fn.updateDataAttributes=function(name,attrs){var $$=this,config=$$.config,current=config["data_"+name];return typeof attrs=="undefined"?current:(Object.keys(attrs).forEach(function(id){current[id]=attrs[id]}),$$.redraw({withLegend:!0}),current)},c3_chart_internal_fn.convertUrlToData=function(url,mimeType,headers,keys,done){var $$=this,type=mimeType?mimeType:"csv",req=$$.d3.xhr(url);headers&&Object.keys(headers).forEach(function(header){req.header(header,headers[header])}),req.get(function(error,data){var d;if(!data)throw new Error(error.responseURL+" "+error.status+" ("+error.statusText+")");type==="json"?d=$$.convertJsonToData(JSON.parse(data.response),keys):type==="tsv"?d=$$.convertTsvToData(data.response):d=$$.convertCsvToData(data.response),done.call($$,d)})},c3_chart_internal_fn.convertXsvToData=function(xsv,parser){var rows=parser.parseRows(xsv),d;return rows.length===1?(d=[{}],rows[0].forEach(function(id){d[0][id]=null})):d=parser.parse(xsv),d},c3_chart_internal_fn.convertCsvToData=function(csv){return this.convertXsvToData(csv,this.d3.csv)},c3_chart_internal_fn.convertTsvToData=function(tsv){return this.convertXsvToData(tsv,this.d3.tsv)},c3_chart_internal_fn.convertJsonToData=function(json,keys){var $$=this,new_rows=[],targetKeys,data;return keys?(keys.x?(targetKeys=keys.value.concat(keys.x),$$.config.data_x=keys.x):targetKeys=keys.value,new_rows.push(targetKeys),json.forEach(function(o){var new_row=[];targetKeys.forEach(function(key){var v=$$.findValueInJson(o,key);isUndefined(v)&&(v=null),new_row.push(v)}),new_rows.push(new_row)}),data=$$.convertRowsToData(new_rows)):(Object.keys(json).forEach(function(key){new_rows.push([key].concat(json[key]))}),data=$$.convertColumnsToData(new_rows)),data},c3_chart_internal_fn.findValueInJson=function(object,path){path=path.replace(/\[(\w+)\]/g,".$1"),path=path.replace(/^\./,"");var pathArray=path.split(".");for(var i=0;i<pathArray.length;++i){var k=pathArray[i];if(!(k in object))return;object=object[k]}return object},c3_chart_internal_fn.convertRowsToData=function(rows){var keys=rows[0],new_row={},new_rows=[],i,j;for(i=1;i<rows.length;i++){new_row={};for(j=0;j<rows[i].length;j++){if(isUndefined(rows[i][j]))throw new Error("Source data is missing a component at ("+i+","+j+")!");new_row[keys[j]]=rows[i][j]}new_rows.push(new_row)}return new_rows},c3_chart_internal_fn.convertColumnsToData=function(columns){var new_rows=[],i,j,key;for(i=0;i<columns.length;i++){key=columns[i][0];for(j=1;j<columns[i].length;j++){isUndefined(new_rows[j-1])&&(new_rows[j-1]={});if(isUndefined(columns[i][j]))throw new Error("Source data is missing a component at ("+i+","+j+")!");new_rows[j-1][key]=columns[i][j]}}return new_rows},c3_chart_internal_fn.convertDataToTargets=function(data,appendXs){var $$=this,config=$$.config,ids=$$.d3.keys(data[0]).filter($$.isNotX,$$),xs=$$.d3.keys(data[0]).filter($$.isX,$$),targets;return ids.forEach(function(id){var xKey=$$.getXKey(id);$$.isCustomX()||$$.isTimeSeries()?xs.indexOf(xKey)>=0?$$.data.xs[id]=(appendXs&&$$.data.xs[id]?$$.data.xs[id]:[]).concat(data.map(function(d){return d[xKey]}).filter(isValue).map(function(rawX,i){return $$.generateTargetX(rawX,id,i)})):config.data_x?$$.data.xs[id]=$$.getOtherTargetXs():notEmpty(config.data_xs)&&($$.data.xs[id]=$$.getXValuesOfXKey(xKey,$$.data.targets)):$$.data.xs[id]=data.map(function(d,i){return i})}),ids.forEach(function(id){if(!$$.data.xs[id])throw new Error('x is not defined for id = "'+id+'".')}),targets=ids.map(function(id,index){var convertedId=config.data_idConverter(id);return{id:convertedId,id_org:id,values:data.map(function(d,i){var xKey=$$.getXKey(id),rawX=d[xKey],value=d[id]!==null&&!isNaN(d[id])?+d[id]:null,x;$$.isCustomX()&&$$.isCategorized()&&index===0&&!isUndefined(rawX)?(index===0&&i===0&&(config.axis_x_categories=[]),x=config.axis_x_categories.indexOf(rawX),x===-1&&(x=config.axis_x_categories.length,config.axis_x_categories.push(rawX))):x=$$.generateTargetX(rawX,id,i);if(isUndefined(d[id])||$$.data.xs[id].length<=i)x=undefined;return{x:x,value:value,id:convertedId}}).filter(function(v){return isDefined(v.x)})}}),targets.forEach(function(t){var i;config.data_xSort&&(t.values=t.values.sort(function(v1,v2){var x1=v1.x||v1.x===0?v1.x:Infinity,x2=v2.x||v2.x===0?v2.x:Infinity;return x1-x2})),i=0,t.values.forEach(function(v){v.index=i++}),$$.data.xs[t.id].sort(function(v1,v2){return v1-v2})}),$$.hasNegativeValue=$$.hasNegativeValueInTargets(targets),$$.hasPositiveValue=$$.hasPositiveValueInTargets(targets),config.data_type&&$$.setTargetType($$.mapToIds(targets).filter(function(id){return!(id in config.data_types)}),config.data_type),targets.forEach(function(d){$$.addCache(d.id_org,d)}),targets},c3_chart_internal_fn.load=function(targets,args){var $$=this;targets&&(args.filter&&(targets=targets.filter(args.filter)),(args.type||args.types)&&targets.forEach(function(t){var type=args.types&&args.types[t.id]?args.types[t.id]:args.type;$$.setTargetType(t.id,type)}),$$.data.targets.forEach(function(d){for(var i=0;i<targets.length;i++)if(d.id===targets[i].id){d.values=targets[i].values,targets.splice(i,1);break}}),$$.data.targets=$$.data.targets.concat(targets)),$$.updateTargets($$.data.targets),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),args.done&&args.done()},c3_chart_internal_fn.loadFromArgs=function(args){var $$=this;args.data?$$.load($$.convertDataToTargets(args.data),args):args.url?$$.convertUrlToData(args.url,args.mimeType,args.headers,args.keys,function(data){$$.load($$.convertDataToTargets(data),args)}):args.json?$$.load($$.convertDataToTargets($$.convertJsonToData(args.json,args.keys)),args):args.rows?$$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)),args):args.columns?$$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)),args):$$.load(null,args)},c3_chart_internal_fn.unload=function(targetIds,done){var $$=this;done||(done=function(){}),targetIds=targetIds.filter(function(id){return $$.hasTarget($$.data.targets,id)});if(!targetIds||targetIds.length===0){done();return}$$.svg.selectAll(targetIds.map(function(id){return $$.selectorTarget(id)})).transition().style("opacity",0).remove().call($$.endall,done),targetIds.forEach(function(id){$$.withoutFadeIn[id]=!1,$$.legend&&$$.legend.selectAll("."+CLASS.legendItem+$$.getTargetSelectorSuffix(id)).remove(),$$.data.targets=$$.data.targets.filter(function(t){return t.id!==id})})},c3_chart_internal_fn.categoryName=function(i){var config=this.config;return i<config.axis_x_categories.length?config.axis_x_categories[i]:i},c3_chart_internal_fn.initEventRect=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.eventRects).style("fill-opacity",0)},c3_chart_internal_fn.redrawEventRect=function(){var $$=this,config=$$.config,eventRectUpdate,maxDataCountTarget,isMultipleX=$$.isMultipleX(),eventRects=$$.main.select("."+CLASS.eventRects).style("cursor",config.zoom_enabled?config.axis_rotated?"ns-resize":"ew-resize":null).classed(CLASS.eventRectsMultiple,isMultipleX).classed(CLASS.eventRectsSingle,!isMultipleX);eventRects.selectAll("."+CLASS.eventRect).remove(),$$.eventRect=eventRects.selectAll("."+CLASS.eventRect),isMultipleX?(eventRectUpdate=$$.eventRect.data([0]),$$.generateEventRectsForMultipleXs(eventRectUpdate.enter()),$$.updateEventRect(eventRectUpdate)):(maxDataCountTarget=$$.getMaxDataCountTarget($$.data.targets),eventRects.datum(maxDataCountTarget?maxDataCountTarget.values:[]),$$.eventRect=eventRects.selectAll("."+CLASS.eventRect),eventRectUpdate=$$.eventRect.data(function(d){return d}),$$.generateEventRectsForSingleX(eventRectUpdate.enter()),$$.updateEventRect(eventRectUpdate),eventRectUpdate.exit().remove())},c3_chart_internal_fn.updateEventRect=function(eventRectUpdate){var $$=this,config=$$.config,x,y,w,h,rectW,rectX;eventRectUpdate=eventRectUpdate||$$.eventRect.data(function(d){return d}),$$.isMultipleX()?(x=0,y=0,w=$$.width,h=$$.height):(($$.isCustomX()||$$.isTimeSeries())&&!$$.isCategorized()?($$.updateXs(),rectW=function(d){var prevX=$$.getPrevX(d.index),nextX=$$.getNextX(d.index);return prevX===null&&nextX===null?config.axis_rotated?$$.height:$$.width:(prevX===null&&(prevX=$$.x.domain()[0]),nextX===null&&(nextX=$$.x.domain()[1]),Math.max(0,($$.x(nextX)-$$.x(prevX))/2))},rectX=function(d){var prevX=$$.getPrevX(d.index),nextX=$$.getNextX(d.index),thisX=$$.data.xs[d.id][d.index];return prevX===null&&nextX===null?0:(prevX===null&&(prevX=$$.x.domain()[0]),($$.x(thisX)+$$.x(prevX))/2)}):(rectW=$$.getEventRectWidth(),rectX=function(d){return $$.x(d.x)-rectW/2}),x=config.axis_rotated?0:rectX,y=config.axis_rotated?rectX:0,w=config.axis_rotated?$$.width:rectW,h=config.axis_rotated?rectW:$$.height),eventRectUpdate.attr("class",$$.classEvent.bind($$)).attr("x",x).attr("y",y).attr("width",w).attr("height",h)},c3_chart_internal_fn.generateEventRectsForSingleX=function(eventRectEnter){var $$=this,d3=$$.d3,config=$$.config;eventRectEnter.append("rect").attr("class",$$.classEvent.bind($$)).style("cursor",config.data_selection_enabled&&config.data_selection_grouped?"pointer":null).on("mouseover",function(d){var index=d.index;if($$.dragging||$$.flowing)return;if($$.hasArcType())return;config.point_focus_expand_enabled&&$$.expandCircles(index,null,!0),$$.expandBars(index,null,!0),$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(d){config.data_onmouseover.call($$.api,d)})}).on("mouseout",function(d){var index=d.index;if(!$$.config)return;if($$.hasArcType())return;$$.hideXGridFocus(),$$.hideTooltip(),$$.unexpandCircles(),$$.unexpandBars(),$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(d){config.data_onmouseout.call($$.api,d)})}).on("mousemove",function(d){var selectedData,index=d.index,eventRect=$$.svg.select("."+CLASS.eventRect+"-"+index);if($$.dragging||$$.flowing)return;if($$.hasArcType())return;$$.isStepType(d)&&$$.config.line_step_type==="step-after"&&d3.mouse(this)[0]<$$.x($$.getXValue(d.id,index))&&(index-=1),selectedData=$$.filterTargetsToShow($$.data.targets).map(function(t){return $$.addName($$.getValueOnIndex(t.values,index))}),config.tooltip_grouped&&($$.showTooltip(selectedData,this),$$.showXGridFocus(selectedData));if(config.tooltip_grouped&&(!config.data_selection_enabled||config.data_selection_grouped))return;$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(){d3.select(this).classed(CLASS.EXPANDED,!0),config.data_selection_enabled&&eventRect.style("cursor",config.data_selection_grouped?"pointer":null),config.tooltip_grouped||($$.hideXGridFocus(),$$.hideTooltip(),config.data_selection_grouped||($$.unexpandCircles(index),$$.unexpandBars(index)))}).filter(function(d){return $$.isWithinShape(this,d)}).each(function(d){config.data_selection_enabled&&(config.data_selection_grouped||config.data_selection_isselectable(d))&&eventRect.style("cursor","pointer"),config.tooltip_grouped||($$.showTooltip([d],this),$$.showXGridFocus([d]),config.point_focus_expand_enabled&&$$.expandCircles(index,d.id,!0),$$.expandBars(index,d.id,!0))})}).on("click",function(d){var index=d.index;if($$.hasArcType()||!$$.toggleShape)return;if($$.cancelClick){$$.cancelClick=!1;return}$$.isStepType(d)&&config.line_step_type==="step-after"&&d3.mouse(this)[0]<$$.x($$.getXValue(d.id,index))&&(index-=1),$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(d){if(config.data_selection_grouped||$$.isWithinShape(this,d))$$.toggleShape(this,d,index),$$.config.data_onclick.call($$.api,d,this)})}).call(config.data_selection_draggable&&$$.drag?d3.behavior.drag().origin(Object).on("drag",function(){$$.drag(d3.mouse(this))}).on("dragstart",function(){$$.dragstart(d3.mouse(this))}).on("dragend",function(){$$.dragend()}):function(){})},c3_chart_internal_fn.generateEventRectsForMultipleXs=function(eventRectEnter){function mouseout(){$$.svg.select("."+CLASS.eventRect).style("cursor",null),$$.hideXGridFocus(),$$.hideTooltip(),$$.unexpandCircles(),$$.unexpandBars()}var $$=this,d3=$$.d3,config=$$.config;eventRectEnter.append("rect").attr("x",0).attr("y",0).attr("width",$$.width).attr("height",$$.height).attr("class",CLASS.eventRect).on("mouseout",function(){if(!$$.config)return;if($$.hasArcType())return;mouseout()}).on("mousemove",function(){var targetsToShow=$$.filterTargetsToShow($$.data.targets),mouse,closest,sameXData,selectedData;if($$.dragging)return;if($$.hasArcType(targetsToShow))return;mouse=d3.mouse(this),closest=$$.findClosestFromTargets(targetsToShow,mouse),$$.mouseover&&(!closest||closest.id!==$$.mouseover.id)&&(config.data_onmouseout.call($$.api,$$.mouseover),$$.mouseover=undefined);if(!closest){mouseout();return}$$.isScatterType(closest)||!config.tooltip_grouped?sameXData=[closest]:sameXData=$$.filterByX(targetsToShow,closest.x),selectedData=sameXData.map(function(d){return $$.addName(d)}),$$.showTooltip(selectedData,this),config.point_focus_expand_enabled&&$$.expandCircles(closest.index,closest.id,!0),$$.expandBars(closest.index,closest.id,!0),$$.showXGridFocus(selectedData);if($$.isBarType(closest.id)||$$.dist(closest,mouse)<config.point_sensitivity)$$.svg.select("."+CLASS.eventRect).style("cursor","pointer"),$$.mouseover||(config.data_onmouseover.call($$.api,closest),$$.mouseover=closest)}).on("click",function(){var targetsToShow=$$.filterTargetsToShow($$.data.targets),mouse,closest;if($$.hasArcType(targetsToShow))return;mouse=d3.mouse(this),closest=$$.findClosestFromTargets(targetsToShow,mouse);if(!closest)return;($$.isBarType(closest.id)||$$.dist(closest,mouse)<config.point_sensitivity)&&$$.main.selectAll("."+CLASS.shapes+$$.getTargetSelectorSuffix(closest.id)).selectAll("."+CLASS.shape+"-"+closest.index).each(function(){if(config.data_selection_grouped||$$.isWithinShape(this,closest))$$.toggleShape(this,closest,closest.index),$$.config.data_onclick.call($$.api,closest,this)})}).call(config.data_selection_draggable&&$$.drag?d3.behavior.drag().origin(Object).on("drag",function(){$$.drag(d3.mouse(this))}).on("dragstart",function(){$$.dragstart(d3.mouse(this))}).on("dragend",function(){$$.dragend()}):function(){})},c3_chart_internal_fn.dispatchEvent=function(type,index,mouse){var $$=this,selector="."+CLASS.eventRect+($$.isMultipleX()?"":"-"+index),eventRect=$$.main.select(selector).node(),box=eventRect.getBoundingClientRect(),x=box.left+(mouse?mouse[0]:0),y=box.top+(mouse?mouse[1]:0),event=document.createEvent("MouseEvents");event.initMouseEvent(type,!0,!0,window,0,x,y,x,y,!1,!1,!1,!1,0,null),eventRect.dispatchEvent(event)},c3_chart_internal_fn.getCurrentWidth=function(){var $$=this,config=$$.config;return config.size_width?config.size_width:$$.getParentWidth()},c3_chart_internal_fn.getCurrentHeight=function(){var $$=this,config=$$.config,h=config.size_height?config.size_height:$$.getParentHeight();return h>0?h:320/($$.hasType("gauge")&&!config.gauge_fullCircle?2:1)},c3_chart_internal_fn.getCurrentPaddingTop=function(){var $$=this,config=$$.config,padding=isValue(config.padding_top)?config.padding_top:0;return $$.title&&$$.title.node()&&(padding+=$$.getTitlePadding()),padding},c3_chart_internal_fn.getCurrentPaddingBottom=function(){var config=this.config;return isValue(config.padding_bottom)?config.padding_bottom:0},c3_chart_internal_fn.getCurrentPaddingLeft=function(withoutRecompute){var $$=this,config=$$.config;return isValue(config.padding_left)?config.padding_left:config.axis_rotated?config.axis_x_show?Math.max(ceil10($$.getAxisWidthByAxisId("x",withoutRecompute)),40):1:!config.axis_y_show||config.axis_y_inner?$$.axis.getYAxisLabelPosition().isOuter?30:1:ceil10($$.getAxisWidthByAxisId("y",withoutRecompute))},c3_chart_internal_fn.getCurrentPaddingRight=function(){var $$=this,config=$$.config,defaultPadding=10,legendWidthOnRight=$$.isLegendRight?$$.getLegendWidth()+20:0;return isValue(config.padding_right)?config.padding_right+1:config.axis_rotated?defaultPadding+legendWidthOnRight:!config.axis_y2_show||config.axis_y2_inner?2+legendWidthOnRight+($$.axis.getY2AxisLabelPosition().isOuter?20:0):ceil10($$.getAxisWidthByAxisId("y2"))+legendWidthOnRight},c3_chart_internal_fn.getParentRectValue=function(key){var parent=this.selectChart.node(),v;while(parent&&parent.tagName!=="BODY"){try{v=parent.getBoundingClientRect()[key]}catch(e){key==="width"&&(v=parent.offsetWidth)}if(v)break;parent=parent.parentNode}return v},c3_chart_internal_fn.getParentWidth=function(){return this.getParentRectValue("width")},c3_chart_internal_fn.getParentHeight=function(){var h=this.selectChart.style("height");return h.indexOf("px")>0?+h.replace("px",""):0},c3_chart_internal_fn.getSvgLeft=function(withoutRecompute){var $$=this,config=$$.config,hasLeftAxisRect=config.axis_rotated||!config.axis_rotated&&!config.axis_y_inner,leftAxisClass=config.axis_rotated?CLASS.axisX:CLASS.axisY,leftAxis=$$.main.select("."+leftAxisClass).node(),svgRect=leftAxis&&hasLeftAxisRect?leftAxis.getBoundingClientRect():{right:0},chartRect=$$.selectChart.node().getBoundingClientRect(),hasArc=$$.hasArcType(),svgLeft=svgRect.right-chartRect.left-(hasArc?0:$$.getCurrentPaddingLeft(withoutRecompute));return svgLeft>0?svgLeft:0},c3_chart_internal_fn.getAxisWidthByAxisId=function(id,withoutRecompute){var $$=this,position=$$.axis.getLabelPositionById(id);return $$.axis.getMaxTickWidth(id,withoutRecompute)+(position.isInner?20:40)},c3_chart_internal_fn.getHorizontalAxisHeight=function(axisId){var $$=this,config=$$.config,h=30;return axisId==="x"&&!config.axis_x_show?8:axisId==="x"&&config.axis_x_height?config.axis_x_height:axisId==="y"&&!config.axis_y_show?config.legend_show&&!$$.isLegendRight&&!$$.isLegendInset?10:1:axisId==="y2"&&!config.axis_y2_show?$$.rotated_padding_top:(axisId==="x"&&!config.axis_rotated&&config.axis_x_tick_rotate&&(h=30+$$.axis.getMaxTickWidth(axisId)*Math.cos(Math.PI*(90-config.axis_x_tick_rotate)/180)),axisId==="y"&&config.axis_rotated&&config.axis_y_tick_rotate&&(h=30+$$.axis.getMaxTickWidth(axisId)*Math.cos(Math.PI*(90-config.axis_y_tick_rotate)/180)),h+($$.axis.getLabelPositionById(axisId).isInner?0:10)+(axisId==="y2"?-10:0))},c3_chart_internal_fn.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},c3_chart_internal_fn.getShapeIndices=function(typeFilter){var $$=this,config=$$.config,indices={},i=0,j,k;return $$.filterTargetsToShow($$.data.targets.filter(typeFilter,$$)).forEach(function(d){for(j=0;j<config.data_groups.length;j++){if(config.data_groups[j].indexOf(d.id)<0)continue;for(k=0;k<config.data_groups[j].length;k++)if(config.data_groups[j][k]in indices){indices[d.id]=indices[config.data_groups[j][k]];break}}isUndefined(indices[d.id])&&(indices[d.id]=i++)}),indices.__max__=i-1,indices},c3_chart_internal_fn.getShapeX=function(offset,targetsNum,indices,isSub){var $$=this,scale=isSub?$$.subX:$$.x;return function(d){var index=d.id in indices?indices[d.id]:0;return d.x||d.x===0?scale(d.x)-offset*(targetsNum/2-index):0}},c3_chart_internal_fn.getShapeY=function(isSub){var $$=this;return function(d){var scale=isSub?$$.getSubYScale(d.id):$$.getYScale(d.id);return scale(d.value)}},c3_chart_internal_fn.getShapeOffset=function(typeFilter,indices,isSub){var $$=this,targets=$$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter,$$))),targetIds=targets.map(function(t){return t.id});return function(d,i){var scale=isSub?$$.getSubYScale(d.id):$$.getYScale(d.id),y0=scale(0),offset=y0;return targets.forEach(function(t){var values=$$.isStepType(d)?$$.convertValuesToStep(t.values):t.values;if(t.id===d.id||indices[t.id]!==indices[d.id])return;if(targetIds.indexOf(t.id)<targetIds.indexOf(d.id)){if(typeof values[i]=="undefined"||+values[i].x!==+d.x)i=-1,values.forEach(function(v,j){v.x===d.x&&(i=j)});i in values&&values[i].value*d.value>=0&&(offset+=scale(values[i].value)-y0)}}),offset}},c3_chart_internal_fn.isWithinShape=function(that,d){var $$=this,shape=$$.d3.select(that),isWithin;return $$.isTargetToShow(d.id)?that.nodeName==="circle"?isWithin=$$.isStepType(d)?$$.isWithinStep(that,$$.getYScale(d.id)(d.value)):$$.isWithinCircle(that,$$.pointSelectR(d)*1.5):that.nodeName==="path"&&(isWithin=shape.classed(CLASS.bar)?$$.isWithinBar(that):!0):isWithin=!1,isWithin},c3_chart_internal_fn.getInterpolate=function(d){var $$=this,interpolation=$$.isInterpolationType($$.config.spline_interpolation_type)?$$.config.spline_interpolation_type:"cardinal";return $$.isSplineType(d)?interpolation:$$.isStepType(d)?$$.config.line_step_type:"linear"},c3_chart_internal_fn.initLine=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartLines)},c3_chart_internal_fn.updateTargetsForLine=function(targets){var $$=this,config=$$.config,mainLineUpdate,mainLineEnter,classChartLine=$$.classChartLine.bind($$),classLines=$$.classLines.bind($$),classAreas=$$.classAreas.bind($$),classCircles=$$.classCircles.bind($$),classFocus=$$.classFocus.bind($$);mainLineUpdate=$$.main.select("."+CLASS.chartLines).selectAll("."+CLASS.chartLine).data(targets).attr("class",function(d){return classChartLine(d)+classFocus(d)}),mainLineEnter=mainLineUpdate.enter().append("g").attr("class",classChartLine).style("opacity",0).style("pointer-events","none"),mainLineEnter.append("g").attr("class",classLines),mainLineEnter.append("g").attr("class",classAreas),mainLineEnter.append("g").attr("class",function(d){return $$.generateClass(CLASS.selectedCircles,d.id)}),mainLineEnter.append("g").attr("class",classCircles).style("cursor",function(d){return config.data_selection_isselectable(d)?"pointer":null}),targets.forEach(function(t){$$.main.selectAll("."+CLASS.selectedCircles+$$.getTargetSelectorSuffix(t.id)).selectAll("."+CLASS.selectedCircle).each(function(d){d.value=t.values[d.index].value})})},c3_chart_internal_fn.updateLine=function(durationForExit){var $$=this;$$.mainLine=$$.main.selectAll("."+CLASS.lines).selectAll("."+CLASS.line).data($$.lineData.bind($$)),$$.mainLine.enter().append("path").attr("class",$$.classLine.bind($$)).style("stroke",$$
.color),$$.mainLine.style("opacity",$$.initialOpacity.bind($$)).style("shape-rendering",function(d){return $$.isStepType(d)?"crispEdges":""}).attr("transform",null),$$.mainLine.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawLine=function(drawLine,withTransition){return[(withTransition?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",drawLine).style("stroke",this.color).style("opacity",1)]},c3_chart_internal_fn.generateDrawLine=function(lineIndices,isSub){var $$=this,config=$$.config,line=$$.d3.svg.line(),getPoints=$$.generateGetLinePoints(lineIndices,isSub),yScaleGetter=isSub?$$.getSubYScale:$$.getYScale,xValue=function(d){return(isSub?$$.subxx:$$.xx).call($$,d)},yValue=function(d,i){return config.data_groups.length>0?getPoints(d,i)[0][1]:yScaleGetter.call($$,d.id)(d.value)};return line=config.axis_rotated?line.x(yValue).y(xValue):line.x(xValue).y(yValue),config.line_connectNull||(line=line.defined(function(d){return d.value!=null})),function(d){var values=config.line_connectNull?$$.filterRemoveNull(d.values):d.values,x=isSub?$$.x:$$.subX,y=yScaleGetter.call($$,d.id),x0=0,y0=0,path;return $$.isLineType(d)?config.data_regions[d.id]?path=$$.lineWithRegions(values,x,y,config.data_regions[d.id]):($$.isStepType(d)&&(values=$$.convertValuesToStep(values)),path=line.interpolate($$.getInterpolate(d))(values)):(values[0]&&(x0=x(values[0].x),y0=y(values[0].value)),path=config.axis_rotated?"M "+y0+" "+x0:"M "+x0+" "+y0),path?path:"M 0 0"}},c3_chart_internal_fn.generateGetLinePoints=function(lineIndices,isSub){var $$=this,config=$$.config,lineTargetsNum=lineIndices.__max__+1,x=$$.getShapeX(0,lineTargetsNum,lineIndices,!!isSub),y=$$.getShapeY(!!isSub),lineOffset=$$.getShapeOffset($$.isLineType,lineIndices,!!isSub),yScale=isSub?$$.getSubYScale:$$.getYScale;return function(d,i){var y0=yScale.call($$,d.id)(0),offset=lineOffset(d,i)||y0,posX=x(d),posY=y(d);return config.axis_rotated&&(0<d.value&&posY<y0||d.value<0&&y0<posY)&&(posY=y0),[[posX,posY-(y0-offset)],[posX,posY-(y0-offset)],[posX,posY-(y0-offset)],[posX,posY-(y0-offset)]]}},c3_chart_internal_fn.lineWithRegions=function(d,x,y,_regions){function isWithinRegions(x,regions){var i;for(i=0;i<regions.length;i++)if(regions[i].start<x&&x<=regions[i].end)return!0;return!1}function generateM(points){return"M"+points[0][0]+" "+points[0][1]+" "+points[1][0]+" "+points[1][1]}var $$=this,config=$$.config,prev=-1,i,j,s="M",sWithRegion,xp,yp,dx,dy,dd,diff,diffx2,xOffset=$$.isCategorized()?.5:0,xValue,yValue,regions=[];if(isDefined(_regions))for(i=0;i<_regions.length;i++)regions[i]={},isUndefined(_regions[i].start)?regions[i].start=d[0].x:regions[i].start=$$.isTimeSeries()?$$.parseDate(_regions[i].start):_regions[i].start,isUndefined(_regions[i].end)?regions[i].end=d[d.length-1].x:regions[i].end=$$.isTimeSeries()?$$.parseDate(_regions[i].end):_regions[i].end;xValue=config.axis_rotated?function(d){return y(d.value)}:function(d){return x(d.x)},yValue=config.axis_rotated?function(d){return x(d.x)}:function(d){return y(d.value)},$$.isTimeSeries()?sWithRegion=function(d0,d1,j,diff){var x0=d0.x.getTime(),x_diff=d1.x-d0.x,xv0=new Date(x0+x_diff*j),xv1=new Date(x0+x_diff*(j+diff)),points;return config.axis_rotated?points=[[y(yp(j)),x(xv0)],[y(yp(j+diff)),x(xv1)]]:points=[[x(xv0),y(yp(j))],[x(xv1),y(yp(j+diff))]],generateM(points)}:sWithRegion=function(d0,d1,j,diff){var points;return config.axis_rotated?points=[[y(yp(j),!0),x(xp(j))],[y(yp(j+diff),!0),x(xp(j+diff))]]:points=[[x(xp(j),!0),y(yp(j))],[x(xp(j+diff),!0),y(yp(j+diff))]],generateM(points)};for(i=0;i<d.length;i++){if(isUndefined(regions)||!isWithinRegions(d[i].x,regions))s+=" "+xValue(d[i])+" "+yValue(d[i]);else{xp=$$.getScale(d[i-1].x+xOffset,d[i].x+xOffset,$$.isTimeSeries()),yp=$$.getScale(d[i-1].value,d[i].value),dx=x(d[i].x)-x(d[i-1].x),dy=y(d[i].value)-y(d[i-1].value),dd=Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2)),diff=2/dd,diffx2=diff*2;for(j=diff;j<=1;j+=diffx2)s+=sWithRegion(d[i-1],d[i],j,diff)}prev=d[i].x}return s},c3_chart_internal_fn.updateArea=function(durationForExit){var $$=this,d3=$$.d3;$$.mainArea=$$.main.selectAll("."+CLASS.areas).selectAll("."+CLASS.area).data($$.lineData.bind($$)),$$.mainArea.enter().append("path").attr("class",$$.classArea.bind($$)).style("fill",$$.color).style("opacity",function(){return $$.orgAreaOpacity=+d3.select(this).style("opacity"),0}),$$.mainArea.style("opacity",$$.orgAreaOpacity),$$.mainArea.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawArea=function(drawArea,withTransition){return[(withTransition?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",drawArea).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},c3_chart_internal_fn.generateDrawArea=function(areaIndices,isSub){var $$=this,config=$$.config,area=$$.d3.svg.area(),getPoints=$$.generateGetAreaPoints(areaIndices,isSub),yScaleGetter=isSub?$$.getSubYScale:$$.getYScale,xValue=function(d){return(isSub?$$.subxx:$$.xx).call($$,d)},value0=function(d,i){return config.data_groups.length>0?getPoints(d,i)[0][1]:yScaleGetter.call($$,d.id)($$.getAreaBaseValue(d.id))},value1=function(d,i){return config.data_groups.length>0?getPoints(d,i)[1][1]:yScaleGetter.call($$,d.id)(d.value)};return area=config.axis_rotated?area.x0(value0).x1(value1).y(xValue):area.x(xValue).y0(config.area_above?0:value0).y1(value1),config.line_connectNull||(area=area.defined(function(d){return d.value!==null})),function(d){var values=config.line_connectNull?$$.filterRemoveNull(d.values):d.values,x0=0,y0=0,path;return $$.isAreaType(d)?($$.isStepType(d)&&(values=$$.convertValuesToStep(values)),path=area.interpolate($$.getInterpolate(d))(values)):(values[0]&&(x0=$$.x(values[0].x),y0=$$.getYScale(d.id)(values[0].value)),path=config.axis_rotated?"M "+y0+" "+x0:"M "+x0+" "+y0),path?path:"M 0 0"}},c3_chart_internal_fn.getAreaBaseValue=function(){return 0},c3_chart_internal_fn.generateGetAreaPoints=function(areaIndices,isSub){var $$=this,config=$$.config,areaTargetsNum=areaIndices.__max__+1,x=$$.getShapeX(0,areaTargetsNum,areaIndices,!!isSub),y=$$.getShapeY(!!isSub),areaOffset=$$.getShapeOffset($$.isAreaType,areaIndices,!!isSub),yScale=isSub?$$.getSubYScale:$$.getYScale;return function(d,i){var y0=yScale.call($$,d.id)(0),offset=areaOffset(d,i)||y0,posX=x(d),posY=y(d);return config.axis_rotated&&(0<d.value&&posY<y0||d.value<0&&y0<posY)&&(posY=y0),[[posX,offset],[posX,posY-(y0-offset)],[posX,posY-(y0-offset)],[posX,offset]]}},c3_chart_internal_fn.updateCircle=function(){var $$=this;$$.mainCircle=$$.main.selectAll("."+CLASS.circles).selectAll("."+CLASS.circle).data($$.lineOrScatterData.bind($$)),$$.mainCircle.enter().append("circle").attr("class",$$.classCircle.bind($$)).attr("r",$$.pointR.bind($$)).style("fill",$$.color),$$.mainCircle.style("opacity",$$.initialOpacityForCircle.bind($$)),$$.mainCircle.exit().remove()},c3_chart_internal_fn.redrawCircle=function(cx,cy,withTransition){var selectedCircles=this.main.selectAll("."+CLASS.selectedCircle);return[(withTransition?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",cx).attr("cy",cy),(withTransition?selectedCircles.transition(Math.random().toString()):selectedCircles).attr("cx",cx).attr("cy",cy)]},c3_chart_internal_fn.circleX=function(d){return d.x||d.x===0?this.x(d.x):null},c3_chart_internal_fn.updateCircleY=function(){var $$=this,lineIndices,getPoints;$$.config.data_groups.length>0?(lineIndices=$$.getShapeIndices($$.isLineType),getPoints=$$.generateGetLinePoints(lineIndices),$$.circleY=function(d,i){return getPoints(d,i)[0][1]}):$$.circleY=function(d){return $$.getYScale(d.id)(d.value)}},c3_chart_internal_fn.getCircles=function(i,id){var $$=this;return(id?$$.main.selectAll("."+CLASS.circles+$$.getTargetSelectorSuffix(id)):$$.main).selectAll("."+CLASS.circle+(isValue(i)?"-"+i:""))},c3_chart_internal_fn.expandCircles=function(i,id,reset){var $$=this,r=$$.pointExpandedR.bind($$);reset&&$$.unexpandCircles(),$$.getCircles(i,id).classed(CLASS.EXPANDED,!0).attr("r",r)},c3_chart_internal_fn.unexpandCircles=function(i){var $$=this,r=$$.pointR.bind($$);$$.getCircles(i).filter(function(){return $$.d3.select(this).classed(CLASS.EXPANDED)}).classed(CLASS.EXPANDED,!1).attr("r",r)},c3_chart_internal_fn.pointR=function(d){var $$=this,config=$$.config;return $$.isStepType(d)?0:isFunction(config.point_r)?config.point_r(d):config.point_r},c3_chart_internal_fn.pointExpandedR=function(d){var $$=this,config=$$.config;return config.point_focus_expand_enabled?config.point_focus_expand_r?config.point_focus_expand_r:$$.pointR(d)*1.75:$$.pointR(d)},c3_chart_internal_fn.pointSelectR=function(d){var $$=this,config=$$.config;return isFunction(config.point_select_r)?config.point_select_r(d):config.point_select_r?config.point_select_r:$$.pointR(d)*4},c3_chart_internal_fn.isWithinCircle=function(that,r){var d3=this.d3,mouse=d3.mouse(that),d3_this=d3.select(that),cx=+d3_this.attr("cx"),cy=+d3_this.attr("cy");return Math.sqrt(Math.pow(cx-mouse[0],2)+Math.pow(cy-mouse[1],2))<r},c3_chart_internal_fn.isWithinStep=function(that,y){return Math.abs(y-this.d3.mouse(that)[1])<30},c3_chart_internal_fn.initBar=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartBars)},c3_chart_internal_fn.updateTargetsForBar=function(targets){var $$=this,config=$$.config,mainBarUpdate,mainBarEnter,classChartBar=$$.classChartBar.bind($$),classBars=$$.classBars.bind($$),classFocus=$$.classFocus.bind($$);mainBarUpdate=$$.main.select("."+CLASS.chartBars).selectAll("."+CLASS.chartBar).data(targets).attr("class",function(d){return classChartBar(d)+classFocus(d)}),mainBarEnter=mainBarUpdate.enter().append("g").attr("class",classChartBar).style("opacity",0).style("pointer-events","none"),mainBarEnter.append("g").attr("class",classBars).style("cursor",function(d){return config.data_selection_isselectable(d)?"pointer":null})},c3_chart_internal_fn.updateBar=function(durationForExit){var $$=this,barData=$$.barData.bind($$),classBar=$$.classBar.bind($$),initialOpacity=$$.initialOpacity.bind($$),color=function(d){return $$.color(d.id)};$$.mainBar=$$.main.selectAll("."+CLASS.bars).selectAll("."+CLASS.bar).data(barData),$$.mainBar.enter().append("path").attr("class",classBar).style("stroke",color).style("fill",color),$$.mainBar.style("opacity",initialOpacity),$$.mainBar.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawBar=function(drawBar,withTransition){return[(withTransition?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",drawBar).style("fill",this.color).style("opacity",1)]},c3_chart_internal_fn.getBarW=function(axis,barTargetsNum){var $$=this,config=$$.config,w=typeof config.bar_width=="number"?config.bar_width:barTargetsNum?axis.tickInterval()*config.bar_width_ratio/barTargetsNum:0;return config.bar_width_max&&w>config.bar_width_max?config.bar_width_max:w},c3_chart_internal_fn.getBars=function(i,id){var $$=this;return(id?$$.main.selectAll("."+CLASS.bars+$$.getTargetSelectorSuffix(id)):$$.main).selectAll("."+CLASS.bar+(isValue(i)?"-"+i:""))},c3_chart_internal_fn.expandBars=function(i,id,reset){var $$=this;reset&&$$.unexpandBars(),$$.getBars(i,id).classed(CLASS.EXPANDED,!0)},c3_chart_internal_fn.unexpandBars=function(i){var $$=this;$$.getBars(i).classed(CLASS.EXPANDED,!1)},c3_chart_internal_fn.generateDrawBar=function(barIndices,isSub){var $$=this,config=$$.config,getPoints=$$.generateGetBarPoints(barIndices,isSub);return function(d,i){var points=getPoints(d,i),indexX=config.axis_rotated?1:0,indexY=config.axis_rotated?0:1,path="M "+points[0][indexX]+","+points[0][indexY]+" "+"L"+points[1][indexX]+","+points[1][indexY]+" "+"L"+points[2][indexX]+","+points[2][indexY]+" "+"L"+points[3][indexX]+","+points[3][indexY]+" "+"z";return path}},c3_chart_internal_fn.generateGetBarPoints=function(barIndices,isSub){var $$=this,axis=isSub?$$.subXAxis:$$.xAxis,barTargetsNum=barIndices.__max__+1,barW=$$.getBarW(axis,barTargetsNum),barX=$$.getShapeX(barW,barTargetsNum,barIndices,!!isSub),barY=$$.getShapeY(!!isSub),barOffset=$$.getShapeOffset($$.isBarType,barIndices,!!isSub),yScale=isSub?$$.getSubYScale:$$.getYScale;return function(d,i){var y0=yScale.call($$,d.id)(0),offset=barOffset(d,i)||y0,posX=barX(d),posY=barY(d);return $$.config.axis_rotated&&(0<d.value&&posY<y0||d.value<0&&y0<posY)&&(posY=y0),[[posX,offset],[posX,posY-(y0-offset)],[posX+barW,posY-(y0-offset)],[posX+barW,offset]]}},c3_chart_internal_fn.isWithinBar=function(that){var mouse=this.d3.mouse(that),box=that.getBoundingClientRect(),seg0=that.pathSegList.getItem(0),seg1=that.pathSegList.getItem(1),x=Math.min(seg0.x,seg1.x),y=Math.min(seg0.y,seg1.y),w=box.width,h=box.height,offset=2,sx=x-offset,ex=x+w+offset,sy=y+h+offset,ey=y-offset;return sx<mouse[0]&&mouse[0]<ex&&ey<mouse[1]&&mouse[1]<sy},c3_chart_internal_fn.initText=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartTexts),$$.mainText=$$.d3.selectAll([])},c3_chart_internal_fn.updateTargetsForText=function(targets){var $$=this,mainTextUpdate,mainTextEnter,classChartText=$$.classChartText.bind($$),classTexts=$$.classTexts.bind($$),classFocus=$$.classFocus.bind($$);mainTextUpdate=$$.main.select("."+CLASS.chartTexts).selectAll("."+CLASS.chartText).data(targets).attr("class",function(d){return classChartText(d)+classFocus(d)}),mainTextEnter=mainTextUpdate.enter().append("g").attr("class",classChartText).style("opacity",0).style("pointer-events","none"),mainTextEnter.append("g").attr("class",classTexts)},c3_chart_internal_fn.updateText=function(durationForExit){var $$=this,config=$$.config,barOrLineData=$$.barOrLineData.bind($$),classText=$$.classText.bind($$);$$.mainText=$$.main.selectAll("."+CLASS.texts).selectAll("."+CLASS.text).data(barOrLineData),$$.mainText.enter().append("text").attr("class",classText).attr("text-anchor",function(d){return config.axis_rotated?d.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(d){return $$.color(d)}).style("fill-opacity",0),$$.mainText.text(function(d,i,j){return $$.dataLabelFormat(d.id)(d.value,d.id,i,j)}),$$.mainText.exit().transition().duration(durationForExit).style("fill-opacity",0).remove()},c3_chart_internal_fn.redrawText=function(xForText,yForText,forFlow,withTransition){return[(withTransition?this.mainText.transition():this.mainText).attr("x",xForText).attr("y",yForText).style("fill",this.color).style("fill-opacity",forFlow?0:this.opacityForText.bind(this))]},c3_chart_internal_fn.getTextRect=function(text,cls,element){var dummy=this.d3.select("body").append("div").classed("c3",!0),svg=dummy.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),font=this.d3.select(element).style("font"),rect;return svg.selectAll(".dummy").data([text]).enter().append("text").classed(cls?cls:"",!0).style("font",font).text(text).each(function(){rect=this.getBoundingClientRect()}),dummy.remove(),rect},c3_chart_internal_fn.generateXYForText=function(areaIndices,barIndices,lineIndices,forX){var $$=this,getAreaPoints=$$.generateGetAreaPoints(areaIndices,!1),getBarPoints=$$.generateGetBarPoints(barIndices,!1),getLinePoints=$$.generateGetLinePoints(lineIndices,!1),getter=forX?$$.getXForText:$$.getYForText;return function(d,i){var getPoints=$$.isAreaType(d)?getAreaPoints:$$.isBarType(d)?getBarPoints:getLinePoints;return getter.call($$,getPoints(d,i),d,this)}},c3_chart_internal_fn.getXForText=function(points,d,textElement){var $$=this,box=textElement.getBoundingClientRect(),xPos,padding;return $$.config.axis_rotated?(padding=$$.isBarType(d)?4:6,xPos=points[2][1]+padding*(d.value<0?-1:1)):xPos=$$.hasType("bar")?(points[2][0]+points[0][0])/2:points[0][0],d.value===null&&(xPos>$$.width?xPos=$$.width-box.width:xPos<0&&(xPos=4)),xPos},c3_chart_internal_fn.getYForText=function(points,d,textElement){var $$=this,box=textElement.getBoundingClientRect(),yPos;return $$.config.axis_rotated?yPos=(points[0][0]+points[2][0]+box.height*.6)/2:(yPos=points[2][1],d.value<0||d.value===0&&!$$.hasPositiveValue?(yPos+=box.height,$$.isBarType(d)&&$$.isSafari()?yPos-=3:!$$.isBarType(d)&&$$.isChrome()&&(yPos+=3)):yPos+=$$.isBarType(d)?-3:-6),d.value===null&&!$$.config.axis_rotated&&(yPos<box.height?yPos=box.height:yPos>this.height&&(yPos=this.height-4)),yPos},c3_chart_internal_fn.setTargetType=function(targetIds,type){var $$=this,config=$$.config;$$.mapToTargetIds(targetIds).forEach(function(id){$$.withoutFadeIn[id]=type===config.data_types[id],config.data_types[id]=type}),targetIds||(config.data_type=type)},c3_chart_internal_fn.hasType=function(type,targets){var $$=this,types=$$.config.data_types,has=!1;return targets=targets||$$.data.targets,targets&&targets.length?targets.forEach(function(target){var t=types[target.id];if(t&&t.indexOf(type)>=0||!t&&type==="line")has=!0}):Object.keys(types).length?Object.keys(types).forEach(function(id){types[id]===type&&(has=!0)}):has=$$.config.data_type===type,has},c3_chart_internal_fn.hasArcType=function(targets){return this.hasType("pie",targets)||this.hasType("donut",targets)||this.hasType("gauge",targets)},c3_chart_internal_fn.isLineType=function(d){var config=this.config,id=isString(d)?d:d.id;return!config.data_types[id]||["line","spline","area","area-spline","step","area-step"].indexOf(config.data_types[id])>=0},c3_chart_internal_fn.isStepType=function(d){var id=isString(d)?d:d.id;return["step","area-step"].indexOf(this.config.data_types[id])>=0},c3_chart_internal_fn.isSplineType=function(d){var id=isString(d)?d:d.id;return["spline","area-spline"].indexOf(this.config.data_types[id])>=0},c3_chart_internal_fn.isAreaType=function(d){var id=isString(d)?d:d.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[id])>=0},c3_chart_internal_fn.isBarType=function(d){var id=isString(d)?d:d.id;return this.config.data_types[id]==="bar"},c3_chart_internal_fn.isScatterType=function(d){var id=isString(d)?d:d.id;return this.config.data_types[id]==="scatter"},c3_chart_internal_fn.isPieType=function(d){var id=isString(d)?d:d.id;return this.config.data_types[id]==="pie"},c3_chart_internal_fn.isGaugeType=function(d){var id=isString(d)?d:d.id;return this.config.data_types[id]==="gauge"},c3_chart_internal_fn.isDonutType=function(d){var id=isString(d)?d:d.id;return this.config.data_types[id]==="donut"},c3_chart_internal_fn.isArcType=function(d){return this.isPieType(d)||this.isDonutType(d)||this.isGaugeType(d)},c3_chart_internal_fn.lineData=function(d){return this.isLineType(d)?[d]:[]},c3_chart_internal_fn.arcData=function(d){return this.isArcType(d.data)?[d]:[]},c3_chart_internal_fn.barData=function(d){return this.isBarType(d)?d.values:[]},c3_chart_internal_fn.lineOrScatterData=function(d){return this.isLineType(d)||this.isScatterType(d)?d.values:[]},c3_chart_internal_fn.barOrLineData=function(d){return this.isBarType(d)||this.isLineType(d)?d.values:[]},c3_chart_internal_fn.isInterpolationType=function(type){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(type)>=0},c3_chart_internal_fn.initGrid=function(){var $$=this,config=$$.config,d3=$$.d3;$$.grid=$$.main.append("g").attr("clip-path",$$.clipPathForGrid).attr("class",CLASS.grid),config.grid_x_show&&$$.grid.append("g").attr("class",CLASS.xgrids),config.grid_y_show&&$$.grid.append("g").attr("class",CLASS.ygrids),config.grid_focus_show&&$$.grid.append("g").attr("class",CLASS.xgridFocus).append("line").attr("class",CLASS.xgridFocus),$$.xgrid=d3.selectAll([]),config.grid_lines_front||$$.initGridLines()},c3_chart_internal_fn.initGridLines=function(){var $$=this,d3=$$.d3;$$.gridLines=$$.main.append("g").attr("clip-path",$$.clipPathForGrid).attr("class",CLASS.grid+" "+CLASS.gridLines),$$.gridLines.append("g").attr("class",CLASS.xgridLines),$$.gridLines.append("g").attr("class",CLASS.ygridLines),$$.xgridLines=d3.selectAll([])},c3_chart_internal_fn.updateXGrid=function(withoutUpdate){var $$=this,config=$$.config,d3=$$.d3,xgridData=$$.generateGridData(config.grid_x_type,$$.x),tickOffset=$$.isCategorized()?$$.xAxis.tickOffset():0;$$.xgridAttr=config.axis_rotated?{x1:0,x2:$$.width,y1:function(d){return $$.x(d)-tickOffset},y2:function(d){return $$.x(d)-tickOffset}}:{x1:function(d){return $$.x(d)+tickOffset},x2:function(d){return $$.x(d)+tickOffset},y1:0,y2:$$.height},$$.xgrid=$$.main.select("."+CLASS.xgrids).selectAll("."+CLASS.xgrid).data(xgridData),$$.xgrid.enter().append("line").attr("class",CLASS.xgrid),withoutUpdate||$$.xgrid.attr($$.xgridAttr).style("opacity",function(){return+d3.select(this).attr(config.axis_rotated?"y1":"x1")===(config.axis_rotated?$$.height:0)?0:1}),$$.xgrid.exit().remove()},c3_chart_internal_fn.updateYGrid=function(){var $$=this,config=$$.config,gridValues=$$.yAxis.tickValues()||$$.y.ticks(config.grid_y_ticks);$$.ygrid=$$.main.select("."+CLASS.ygrids).selectAll("."+CLASS.ygrid).data(gridValues),$$.ygrid.enter().append("line").attr("class",CLASS.ygrid),$$.ygrid.attr("x1",config.axis_rotated?$$.y:0).attr("x2",config.axis_rotated?$$.y:$$.width).attr("y1",config.axis_rotated?0:$$.y).attr("y2",config.axis_rotated?$$.height:$$.y),$$.ygrid.exit().remove(),$$.smoothLines($$.ygrid,"grid")},c3_chart_internal_fn.gridTextAnchor=function(d){return d.position?d.position:"end"},c3_chart_internal_fn.gridTextDx=function(d){return d.position==="start"?4:d.position==="middle"?0:-4},c3_chart_internal_fn.xGridTextX=function(d){return d.position==="start"?-this.height:d.position==="middle"?-this.height/2:0},c3_chart_internal_fn.yGridTextX=function(d){return d.position==="start"?0:d.position==="middle"?this.width/2:this.width},c3_chart_internal_fn.updateGrid=function(duration){var $$=this,main=$$.main,config=$$.config,xgridLine,ygridLine,yv;$$.grid.style("visibility",$$.hasArcType()?"hidden":"visible"),main.select("line."+CLASS.xgridFocus).style("visibility","hidden"),config.grid_x_show&&$$.updateXGrid(),$$.xgridLines=main.select("."+CLASS.xgridLines).selectAll("."+CLASS.xgridLine).data(config.grid_x_lines),xgridLine=$$.xgridLines.enter().append("g").attr("class",function(d){return CLASS.xgridLine+(d["class"]?" "+d["class"]:"")}),xgridLine.append("line").style("opacity",0),xgridLine.append("text").attr("text-anchor",$$.gridTextAnchor).attr("transform",config.axis_rotated?"":"rotate(-90)").attr("dx",$$.gridTextDx).attr("dy",-5).style("opacity",0),$$.xgridLines.exit().transition().duration(duration).style("opacity",0).remove(),config.grid_y_show&&$$.updateYGrid(),$$.ygridLines=main.select("."+CLASS.ygridLines).selectAll("."+CLASS.ygridLine).data(config.grid_y_lines),ygridLine=$$.ygridLines.enter().append("g").attr("class",function(d){return CLASS.ygridLine+(d["class"]?" "+d["class"]:"")}),ygridLine.append("line").style("opacity",0),ygridLine.append("text").attr("text-anchor",$$.gridTextAnchor).attr("transform",config.axis_rotated?"rotate(-90)":"").attr("dx",$$.gridTextDx).attr("dy",-5).style("opacity",0),yv=$$.yv.bind($$),$$.ygridLines.select("line").transition().duration(duration).attr("x1",config.axis_rotated?yv:0).attr("x2",config.axis_rotated?yv:$$.width).attr("y1",config.axis_rotated?0:yv).attr("y2",config.axis_rotated?$$.height:yv).style("opacity",1),$$.ygridLines.select("text").transition().duration(duration).attr("x",config.axis_rotated?$$.xGridTextX.bind($$):$$.yGridTextX.bind($$)).attr("y",yv).text(function(d){return d.text}).style("opacity",1),$$.ygridLines.exit().transition().duration(duration).style("opacity",0).remove()},c3_chart_internal_fn.redrawGrid=function(withTransition){var $$=this,config=$$.config,xv=$$.xv.bind($$),lines=$$.xgridLines.select("line"),texts=$$.xgridLines.select("text");return[(withTransition?lines.transition():lines).attr("x1",config.axis_rotated?0:xv).attr("x2",config.axis_rotated?$$.width:xv).attr("y1",config.axis_rotated?xv:0).attr("y2",config.axis_rotated?xv:$$.height).style("opacity",1),(withTransition?texts.transition():texts).attr("x",config.axis_rotated?$$.yGridTextX.bind($$):$$.xGridTextX.bind($$)).attr("y",xv).text(function(d){return d.text}).style("opacity",1)]},c3_chart_internal_fn.showXGridFocus=function(selectedData){var $$=this,config=$$.config,dataToShow=selectedData.filter(function(d){return d&&isValue(d.value)}),focusEl=$$.main.selectAll("line."+CLASS.xgridFocus),xx=$$.xx.bind($$);if(!config.tooltip_show)return;if($$.hasType("scatter")||$$.hasArcType())return;focusEl.style("visibility","visible").data([dataToShow[0]]).attr(config.axis_rotated?"y1":"x1",xx).attr(config.axis_rotated?"y2":"x2",xx),$$.smoothLines(focusEl,"grid")},c3_chart_internal_fn.hideXGridFocus=function(){this.main.select("line."+CLASS.xgridFocus).style("visibility","hidden")},c3_chart_internal_fn.updateXgridFocus=function(){var $$=this,config=$$.config;$$.main.select("line."+CLASS.xgridFocus).attr("x1",config.axis_rotated?0:-10).attr("x2",config.axis_rotated?$$.width:-10).attr("y1",config.axis_rotated?-10:0).attr("y2",config.axis_rotated?-10:$$.height)},c3_chart_internal_fn.generateGridData=function(type,scale){var $$=this,gridData=[],xDomain,firstYear,lastYear,i,tickNum=$$.main.select("."+CLASS.axisX).selectAll(".tick").size();if(type==="year"){xDomain=$$.getXDomain(),firstYear=xDomain[0].getFullYear(),lastYear=xDomain[1].getFullYear();for(i=firstYear;i<=lastYear;i++)gridData.push(new Date(i+"-01-01 00:00:00"))}else gridData=scale.ticks(10),gridData.length>tickNum&&(gridData=gridData.filter(function(d){return(""+d).indexOf(".")<0}));return gridData},c3_chart_internal_fn.getGridFilterToRemove=function(params){return params?function(line){var found=!1;return[].concat(params).forEach(function(param){if("value"in param&&line.value===param.value||"class"in param&&line["class"]===param["class"])found=!0}),found}:function(){return!0}},c3_chart_internal_fn.removeGridLines=function(params,forX){var $$=this,config=$$.config,toRemove=$$.getGridFilterToRemove(params),toShow=function(line){return!toRemove(line)},classLines=forX?CLASS.xgridLines:CLASS.ygridLines,classLine=forX?CLASS.xgridLine:CLASS.ygridLine;$$.main.select("."+classLines).selectAll("."+classLine).filter(toRemove).transition().duration(config.transition_duration).style("opacity",0).remove(),forX?config.grid_x_lines=config.grid_x_lines.filter(toShow):config.grid_y_lines=config.grid_y_lines.filter(toShow)},c3_chart_internal_fn.initTooltip=function(){var $$=this,config=$$.config,i;$$.tooltip=$$.selectChart.style("position","relative").append("div").attr("class",CLASS.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(config.tooltip_init_show){if($$.isTimeSeries()&&isString(config.tooltip_init_x)){config.tooltip_init_x=$$.parseDate(config.tooltip_init_x);for(i=0;i<$$.data.targets[0].values.length;i++)if($$.data.targets[0].values[i].x-config.tooltip_init_x===0)break;config.tooltip_init_x=i}$$.tooltip.html(config.tooltip_contents.call($$,$$.data.targets.map(function(d){return $$.addName(d.values[config.tooltip_init_x])}),$$.axis.getXAxisTickFormat(),$$.getYFormat($$.hasArcType()),$$.color)),$$.tooltip.style("top",config.tooltip_init_position.top).style("left",config.tooltip_init_position.left).style("display","block")}},c3_chart_internal_fn.getTooltipContent=function(d,defaultTitleFormat,defaultValueFormat,color){var $$=this,config=$$.config,titleFormat=config.tooltip_format_title||defaultTitleFormat,nameFormat=config.tooltip_format_name||function(name){return name},valueFormat=config.tooltip_format_value||defaultValueFormat,text,i,title,value,name,bgcolor,orderAsc=$$.isOrderAsc();if(config.data_groups.length===0)d.sort(function(a,b){var v1=a?a.value:null,v2=b?b.value:null;return orderAsc?v1-v2:v2-v1});else{var ids=$$.orderTargets($$.data.targets).map(function(i){return i.id});d.sort(function(a,b){var v1=a?a.value:null,v2=b?b.value:null;return v1>0&&v2>0&&(v1=a?ids.indexOf(a.id):null,v2=b?ids.indexOf(b.id):null),orderAsc?v1-v2:v2-v1})}for(i=0;i<d.length;i++){if(!d[i]||!d[i].value&&d[i].value!==0)continue;text||(title=sanitise(titleFormat?titleFormat(d[i].x):d[i].x),text="<table class='"+$$.CLASS.tooltip+"'>"+(title||title===0?"<tr><th colspan='2'>"+title+"</th></tr>":"")),value=sanitise(valueFormat(d[i].value,d[i].ratio,d[i].id,d[i].index,d));if(value!==undefined){if(d[i].name===null)continue;name=sanitise(nameFormat(d[i].name,d[i].ratio,d[i].id,d[i].index)),bgcolor=$$.levelColor?$$.levelColor(d[i].value):color(d[i].id),text+="<tr class='"+$$.CLASS.tooltipName+"-"+$$.getTargetSelectorSuffix(d[i].id)+"'>",text+="<td class='name'><span style='background-color:"+bgcolor+"'></span>"+name+"</td>",text+="<td class='value'>"+value+"</td>",text+="</tr>"}}return text+"</table>"},c3_chart_internal_fn.tooltipPosition=function(dataToShow,tWidth,tHeight,element){var $$=this,config=$$.config,d3=$$.d3,svgLeft,tooltipLeft,tooltipRight,tooltipTop,chartRight,forArc=$$.hasArcType(),mouse=d3.mouse(element);return forArc?(tooltipLeft=($$.width-($$.isLegendRight?$$.getLegendWidth():0))/2+mouse[0],tooltipTop=$$.height/2+mouse[1]+20):(svgLeft=$$.getSvgLeft(!0),config.axis_rotated?(tooltipLeft=svgLeft+mouse[0]+100,tooltipRight=tooltipLeft+tWidth,chartRight=$$.currentWidth-$$.getCurrentPaddingRight(),tooltipTop=$$.x(dataToShow[0].x)+20):(tooltipLeft=svgLeft+$$.getCurrentPaddingLeft(!0)+$$.x(dataToShow[0].x)+20,tooltipRight=tooltipLeft+tWidth,chartRight=svgLeft+$$.currentWidth-$$.getCurrentPaddingRight(),tooltipTop=mouse[1]+15),tooltipRight>chartRight&&(tooltipLeft-=tooltipRight-chartRight+20),tooltipTop+tHeight>$$.currentHeight&&(tooltipTop-=tHeight+30)),tooltipTop<0&&(tooltipTop=0),{top:tooltipTop,left:tooltipLeft}},c3_chart_internal_fn.showTooltip=function(selectedData,element){var $$=this,config=$$.config,tWidth,tHeight,position,forArc=$$.hasArcType(),dataToShow=selectedData.filter(function(d){return d&&isValue(d.value)}),positionFunction=config.tooltip_position||c3_chart_internal_fn.tooltipPosition;if(dataToShow.length===0||!config.tooltip_show)return;$$.tooltip.html(config.tooltip_contents.call($$,selectedData,$$.axis.getXAxisTickFormat(),$$.getYFormat(forArc),$$.color)).style("display","block"),tWidth=$$.tooltip.property("offsetWidth"),tHeight=$$.tooltip.property("offsetHeight"),position=positionFunction.call(this,dataToShow,tWidth,tHeight,element),$$.tooltip.style("top",position.top+"px").style("left",position.left+"px")},c3_chart_internal_fn.hideTooltip=function(){this.tooltip.style("display","none")},c3_chart_internal_fn.initLegend=function(){var $$=this;$$.legendItemTextBox={},$$.legendHasRendered=!1,$$.legend=$$.svg.append("g").attr("transform",$$.getTranslate("legend"));if(!$$.config.legend_show){$$.legend.style("visibility","hidden"),$$.hiddenLegendIds=$$.mapToIds($$.data.targets);return}$$.updateLegendWithDefaults()},c3_chart_internal_fn.updateLegendWithDefaults=function(){var $$=this;$$.updateLegend($$.mapToIds($$.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},c3_chart_internal_fn.updateSizeForLegend=function(legendHeight,legendWidth){var $$=this,config=$$.config,insetLegendPosition={top:$$.isLegendTop?$$.getCurrentPaddingTop()+config.legend_inset_y+5.5:$$.currentHeight-legendHeight-$$.getCurrentPaddingBottom()-config.legend_inset_y,left:$$.isLegendLeft?$$.getCurrentPaddingLeft()+config.legend_inset_x+.5:$$.currentWidth-legendWidth-$$.getCurrentPaddingRight()-config.legend_inset_x+.5};$$.margin3={top:$$.isLegendRight?0:$$.isLegendInset?insetLegendPosition.top:$$.currentHeight-legendHeight,right:NaN,bottom:0,left:$$.isLegendRight?$$.currentWidth-legendWidth:$$.isLegendInset?insetLegendPosition.left:0}},c3_chart_internal_fn.transformLegend=function(withTransition){var $$=this;(withTransition?$$.legend.transition():$$.legend).attr("transform",$$.getTranslate("legend"))},c3_chart_internal_fn.updateLegendStep=function(step){this.legendStep=step},c3_chart_internal_fn.updateLegendItemWidth=function(w){this.legendItemWidth=w},c3_chart_internal_fn.updateLegendItemHeight=function(h){this.legendItemHeight=h},c3_chart_internal_fn.getLegendWidth=function(){var $$=this;return $$.config.legend_show?$$.isLegendRight||$$.isLegendInset?$$.legendItemWidth*($$.legendStep+1):$$.currentWidth:0},c3_chart_internal_fn.getLegendHeight=function(){var $$=this,h=0;return $$.config.legend_show&&($$.isLegendRight?h=$$.currentHeight:h=Math.max(20,$$.legendItemHeight)*($$.legendStep+1)),h},c3_chart_internal_fn.opacityForLegend=function(legendItem){return legendItem.classed(CLASS.legendItemHidden)?null:1},c3_chart_internal_fn.opacityForUnfocusedLegend=function(legendItem){return legendItem.classed(CLASS.legendItemHidden)?null:.3},c3_chart_internal_fn.toggleFocusLegend=
function(targetIds,focus){var $$=this;targetIds=$$.mapToTargetIds(targetIds),$$.legend.selectAll("."+CLASS.legendItem).filter(function(id){return targetIds.indexOf(id)>=0}).classed(CLASS.legendItemFocused,focus).transition().duration(100).style("opacity",function(){var opacity=focus?$$.opacityForLegend:$$.opacityForUnfocusedLegend;return opacity.call($$,$$.d3.select(this))})},c3_chart_internal_fn.revertLegend=function(){var $$=this,d3=$$.d3;$$.legend.selectAll("."+CLASS.legendItem).classed(CLASS.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return $$.opacityForLegend(d3.select(this))})},c3_chart_internal_fn.showLegend=function(targetIds){var $$=this,config=$$.config;config.legend_show||(config.legend_show=!0,$$.legend.style("visibility","visible"),$$.legendHasRendered||$$.updateLegendWithDefaults()),$$.removeHiddenLegendIds(targetIds),$$.legend.selectAll($$.selectorLegends(targetIds)).style("visibility","visible").transition().style("opacity",function(){return $$.opacityForLegend($$.d3.select(this))})},c3_chart_internal_fn.hideLegend=function(targetIds){var $$=this,config=$$.config;config.legend_show&&isEmpty(targetIds)&&(config.legend_show=!1,$$.legend.style("visibility","hidden")),$$.addHiddenLegendIds(targetIds),$$.legend.selectAll($$.selectorLegends(targetIds)).style("opacity",0).style("visibility","hidden")},c3_chart_internal_fn.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},c3_chart_internal_fn.updateLegend=function(targetIds,options,transitions){function getTextBox(textElement,id){return $$.legendItemTextBox[id]||($$.legendItemTextBox[id]=$$.getTextRect(textElement.textContent,CLASS.legendItem,textElement)),$$.legendItemTextBox[id]}function updatePositions(textElement,id,index){function updateValues(id,withoutStep){withoutStep||(margin=(areaLength-totalLength-itemLength)/2,margin<posMin&&(margin=(areaLength-itemLength)/2,totalLength=0,step++)),steps[id]=step,margins[step]=$$.isLegendInset?10:margin,offsets[id]=totalLength,totalLength+=itemLength}var reset=index===0,isLast=index===targetIds.length-1,box=getTextBox(textElement,id),itemWidth=box.width+tileWidth+(isLast&&!$$.isLegendRight&&!$$.isLegendInset?0:paddingRight)+config.legend_padding,itemHeight=box.height+paddingTop,itemLength=$$.isLegendRight||$$.isLegendInset?itemHeight:itemWidth,areaLength=$$.isLegendRight||$$.isLegendInset?$$.getLegendHeight():$$.getLegendWidth(),margin,maxLength;reset&&(totalLength=0,step=0,maxWidth=0,maxHeight=0);if(config.legend_show&&!$$.isLegendToShow(id)){widths[id]=heights[id]=steps[id]=offsets[id]=0;return}widths[id]=itemWidth,heights[id]=itemHeight;if(!maxWidth||itemWidth>=maxWidth)maxWidth=itemWidth;if(!maxHeight||itemHeight>=maxHeight)maxHeight=itemHeight;maxLength=$$.isLegendRight||$$.isLegendInset?maxHeight:maxWidth,config.legend_equally?(Object.keys(widths).forEach(function(id){widths[id]=maxWidth}),Object.keys(heights).forEach(function(id){heights[id]=maxHeight}),margin=(areaLength-maxLength*targetIds.length)/2,margin<posMin?(totalLength=0,step=0,targetIds.forEach(function(id){updateValues(id)})):updateValues(id,!0)):updateValues(id)}var $$=this,config=$$.config,xForLegend,xForLegendText,xForLegendRect,yForLegend,yForLegendText,yForLegendRect,x1ForLegendTile,x2ForLegendTile,yForLegendTile,paddingTop=4,paddingRight=10,maxWidth=0,maxHeight=0,posMin=10,tileWidth=config.legend_item_tile_width+5,l,totalLength=0,offsets={},widths={},heights={},margins=[0],steps={},step=0,withTransition,withTransitionForTransform,texts,rects,tiles,background;targetIds=targetIds.filter(function(id){return!isDefined(config.data_names[id])||config.data_names[id]!==null}),options=options||{},withTransition=getOption(options,"withTransition",!0),withTransitionForTransform=getOption(options,"withTransitionForTransform",!0),$$.isLegendInset&&(step=config.legend_inset_step?config.legend_inset_step:targetIds.length,$$.updateLegendStep(step)),$$.isLegendRight?(xForLegend=function(id){return maxWidth*steps[id]},yForLegend=function(id){return margins[steps[id]]+offsets[id]}):$$.isLegendInset?(xForLegend=function(id){return maxWidth*steps[id]+10},yForLegend=function(id){return margins[steps[id]]+offsets[id]}):(xForLegend=function(id){return margins[steps[id]]+offsets[id]},yForLegend=function(id){return maxHeight*steps[id]}),xForLegendText=function(id,i){return xForLegend(id,i)+4+config.legend_item_tile_width},yForLegendText=function(id,i){return yForLegend(id,i)+9},xForLegendRect=function(id,i){return xForLegend(id,i)},yForLegendRect=function(id,i){return yForLegend(id,i)-5},x1ForLegendTile=function(id,i){return xForLegend(id,i)-2},x2ForLegendTile=function(id,i){return xForLegend(id,i)-2+config.legend_item_tile_width},yForLegendTile=function(id,i){return yForLegend(id,i)+4},l=$$.legend.selectAll("."+CLASS.legendItem).data(targetIds).enter().append("g").attr("class",function(id){return $$.generateClass(CLASS.legendItem,id)}).style("visibility",function(id){return $$.isLegendToShow(id)?"visible":"hidden"}).style("cursor","pointer").on("click",function(id){config.legend_item_onclick?config.legend_item_onclick.call($$,id):$$.d3.event.altKey?($$.api.hide(),$$.api.show(id)):($$.api.toggle(id),$$.isTargetToShow(id)?$$.api.focus(id):$$.api.revert())}).on("mouseover",function(id){config.legend_item_onmouseover?config.legend_item_onmouseover.call($$,id):($$.d3.select(this).classed(CLASS.legendItemFocused,!0),!$$.transiting&&$$.isTargetToShow(id)&&$$.api.focus(id))}).on("mouseout",function(id){config.legend_item_onmouseout?config.legend_item_onmouseout.call($$,id):($$.d3.select(this).classed(CLASS.legendItemFocused,!1),$$.api.revert())}),l.append("text").text(function(id){return isDefined(config.data_names[id])?config.data_names[id]:id}).each(function(id,i){updatePositions(this,id,i)}).style("pointer-events","none").attr("x",$$.isLegendRight||$$.isLegendInset?xForLegendText:-200).attr("y",$$.isLegendRight||$$.isLegendInset?-200:yForLegendText),l.append("rect").attr("class",CLASS.legendItemEvent).style("fill-opacity",0).attr("x",$$.isLegendRight||$$.isLegendInset?xForLegendRect:-200).attr("y",$$.isLegendRight||$$.isLegendInset?-200:yForLegendRect),l.append("line").attr("class",CLASS.legendItemTile).style("stroke",$$.color).style("pointer-events","none").attr("x1",$$.isLegendRight||$$.isLegendInset?x1ForLegendTile:-200).attr("y1",$$.isLegendRight||$$.isLegendInset?-200:yForLegendTile).attr("x2",$$.isLegendRight||$$.isLegendInset?x2ForLegendTile:-200).attr("y2",$$.isLegendRight||$$.isLegendInset?-200:yForLegendTile).attr("stroke-width",config.legend_item_tile_height),background=$$.legend.select("."+CLASS.legendBackground+" rect"),$$.isLegendInset&&maxWidth>0&&background.size()===0&&(background=$$.legend.insert("g","."+CLASS.legendItem).attr("class",CLASS.legendBackground).append("rect")),texts=$$.legend.selectAll("text").data(targetIds).text(function(id){return isDefined(config.data_names[id])?config.data_names[id]:id}).each(function(id,i){updatePositions(this,id,i)}),(withTransition?texts.transition():texts).attr("x",xForLegendText).attr("y",yForLegendText),rects=$$.legend.selectAll("rect."+CLASS.legendItemEvent).data(targetIds),(withTransition?rects.transition():rects).attr("width",function(id){return widths[id]}).attr("height",function(id){return heights[id]}).attr("x",xForLegendRect).attr("y",yForLegendRect),tiles=$$.legend.selectAll("line."+CLASS.legendItemTile).data(targetIds),(withTransition?tiles.transition():tiles).style("stroke",$$.color).attr("x1",x1ForLegendTile).attr("y1",yForLegendTile).attr("x2",x2ForLegendTile).attr("y2",yForLegendTile),background&&(withTransition?background.transition():background).attr("height",$$.getLegendHeight()-12).attr("width",maxWidth*(step+1)+10),$$.legend.selectAll("."+CLASS.legendItem).classed(CLASS.legendItemHidden,function(id){return!$$.isTargetToShow(id)}),$$.updateLegendItemWidth(maxWidth),$$.updateLegendItemHeight(maxHeight),$$.updateLegendStep(step),$$.updateSizes(),$$.updateScales(),$$.updateSvgSize(),$$.transformAll(withTransitionForTransform,transitions),$$.legendHasRendered=!0},c3_chart_internal_fn.initTitle=function(){var $$=this;$$.title=$$.svg.append("text").text($$.config.title_text).attr("class",$$.CLASS.title)},c3_chart_internal_fn.redrawTitle=function(){var $$=this;$$.title.attr("x",$$.xForTitle.bind($$)).attr("y",$$.yForTitle.bind($$))},c3_chart_internal_fn.xForTitle=function(){var $$=this,config=$$.config,position=config.title_position||"left",x;return position.indexOf("right")>=0?x=$$.currentWidth-$$.getTextRect($$.title.node().textContent,$$.CLASS.title,$$.title.node()).width-config.title_padding.right:position.indexOf("center")>=0?x=($$.currentWidth-$$.getTextRect($$.title.node().textContent,$$.CLASS.title,$$.title.node()).width)/2:x=config.title_padding.left,x},c3_chart_internal_fn.yForTitle=function(){var $$=this;return $$.config.title_padding.top+$$.getTextRect($$.title.node().textContent,$$.CLASS.title,$$.title.node()).height},c3_chart_internal_fn.getTitlePadding=function(){var $$=this;return $$.yForTitle()+$$.config.title_padding.bottom},inherit(API,Axis),Axis.prototype.init=function init(){var $$=this.owner,config=$$.config,main=$$.main;$$.axes.x=main.append("g").attr("class",CLASS.axis+" "+CLASS.axisX).attr("clip-path",$$.clipPathForXAxis).attr("transform",$$.getTranslate("x")).style("visibility",config.axis_x_show?"visible":"hidden"),$$.axes.x.append("text").attr("class",CLASS.axisXLabel).attr("transform",config.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),$$.axes.y=main.append("g").attr("class",CLASS.axis+" "+CLASS.axisY).attr("clip-path",config.axis_y_inner?"":$$.clipPathForYAxis).attr("transform",$$.getTranslate("y")).style("visibility",config.axis_y_show?"visible":"hidden"),$$.axes.y.append("text").attr("class",CLASS.axisYLabel).attr("transform",config.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),$$.axes.y2=main.append("g").attr("class",CLASS.axis+" "+CLASS.axisY2).attr("transform",$$.getTranslate("y2")).style("visibility",config.axis_y2_show?"visible":"hidden"),$$.axes.y2.append("text").attr("class",CLASS.axisY2Label).attr("transform",config.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},Axis.prototype.getXAxis=function getXAxis(scale,orient,tickFormat,tickValues,withOuterTick,withoutTransition,withoutRotateTickText){var $$=this.owner,config=$$.config,axisParams={isCategory:$$.isCategorized(),withOuterTick:withOuterTick,tickMultiline:config.axis_x_tick_multiline,tickWidth:config.axis_x_tick_width,tickTextRotate:withoutRotateTickText?0:config.axis_x_tick_rotate,withoutTransition:withoutTransition},axis=c3_axis($$.d3,axisParams).scale(scale).orient(orient);return $$.isTimeSeries()&&tickValues&&typeof tickValues!="function"&&(tickValues=tickValues.map(function(v){return $$.parseDate(v)})),axis.tickFormat(tickFormat).tickValues(tickValues),$$.isCategorized()&&(axis.tickCentered(config.axis_x_tick_centered),isEmpty(config.axis_x_tick_culling)&&(config.axis_x_tick_culling=!1)),axis},Axis.prototype.updateXAxisTickValues=function updateXAxisTickValues(targets,axis){var $$=this.owner,config=$$.config,tickValues;if(config.axis_x_tick_fit||config.axis_x_tick_count)tickValues=this.generateTickValues($$.mapTargetsToUniqueXs(targets),config.axis_x_tick_count,$$.isTimeSeries());return axis?axis.tickValues(tickValues):($$.xAxis.tickValues(tickValues),$$.subXAxis.tickValues(tickValues)),tickValues},Axis.prototype.getYAxis=function getYAxis(scale,orient,tickFormat,tickValues,withOuterTick,withoutTransition,withoutRotateTickText){var $$=this.owner,config=$$.config,axisParams={withOuterTick:withOuterTick,withoutTransition:withoutTransition,tickTextRotate:withoutRotateTickText?0:config.axis_y_tick_rotate},axis=c3_axis($$.d3,axisParams).scale(scale).orient(orient).tickFormat(tickFormat);return $$.isTimeSeriesY()?axis.ticks($$.d3.time[config.axis_y_tick_time_value],config.axis_y_tick_time_interval):axis.tickValues(tickValues),axis},Axis.prototype.getId=function getId(id){var config=this.owner.config;return id in config.data_axes?config.data_axes[id]:"y"},Axis.prototype.getXAxisTickFormat=function getXAxisTickFormat(){var $$=this.owner,config=$$.config,format=$$.isTimeSeries()?$$.defaultAxisTimeFormat:$$.isCategorized()?$$.categoryName:function(v){return v<0?v.toFixed(0):v};return config.axis_x_tick_format&&(isFunction(config.axis_x_tick_format)?format=config.axis_x_tick_format:$$.isTimeSeries()&&(format=function(date){return date?$$.axisTimeFormat(config.axis_x_tick_format)(date):""})),isFunction(format)?function(v){return format.call($$,v)}:format},Axis.prototype.getTickValues=function getTickValues(tickValues,axis){return tickValues?tickValues:axis?axis.tickValues():undefined},Axis.prototype.getXAxisTickValues=function getXAxisTickValues(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},Axis.prototype.getYAxisTickValues=function getYAxisTickValues(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},Axis.prototype.getY2AxisTickValues=function getY2AxisTickValues(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},Axis.prototype.getLabelOptionByAxisId=function getLabelOptionByAxisId(axisId){var $$=this.owner,config=$$.config,option;return axisId==="y"?option=config.axis_y_label:axisId==="y2"?option=config.axis_y2_label:axisId==="x"&&(option=config.axis_x_label),option},Axis.prototype.getLabelText=function getLabelText(axisId){var option=this.getLabelOptionByAxisId(axisId);return isString(option)?option:option?option.text:null},Axis.prototype.setLabelText=function setLabelText(axisId,text){var $$=this.owner,config=$$.config,option=this.getLabelOptionByAxisId(axisId);isString(option)?axisId==="y"?config.axis_y_label=text:axisId==="y2"?config.axis_y2_label=text:axisId==="x"&&(config.axis_x_label=text):option&&(option.text=text)},Axis.prototype.getLabelPosition=function getLabelPosition(axisId,defaultPosition){var option=this.getLabelOptionByAxisId(axisId),position=option&&typeof option=="object"&&option.position?option.position:defaultPosition;return{isInner:position.indexOf("inner")>=0,isOuter:position.indexOf("outer")>=0,isLeft:position.indexOf("left")>=0,isCenter:position.indexOf("center")>=0,isRight:position.indexOf("right")>=0,isTop:position.indexOf("top")>=0,isMiddle:position.indexOf("middle")>=0,isBottom:position.indexOf("bottom")>=0}},Axis.prototype.getXAxisLabelPosition=function getXAxisLabelPosition(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},Axis.prototype.getYAxisLabelPosition=function getYAxisLabelPosition(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getY2AxisLabelPosition=function getY2AxisLabelPosition(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getLabelPositionById=function getLabelPositionById(id){return id==="y2"?this.getY2AxisLabelPosition():id==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},Axis.prototype.textForXAxisLabel=function textForXAxisLabel(){return this.getLabelText("x")},Axis.prototype.textForYAxisLabel=function textForYAxisLabel(){return this.getLabelText("y")},Axis.prototype.textForY2AxisLabel=function textForY2AxisLabel(){return this.getLabelText("y2")},Axis.prototype.xForAxisLabel=function xForAxisLabel(forHorizontal,position){var $$=this.owner;return forHorizontal?position.isLeft?0:position.isCenter?$$.width/2:$$.width:position.isBottom?-$$.height:position.isMiddle?-$$.height/2:0},Axis.prototype.dxForAxisLabel=function dxForAxisLabel(forHorizontal,position){return forHorizontal?position.isLeft?"0.5em":position.isRight?"-0.5em":"0":position.isTop?"-0.5em":position.isBottom?"0.5em":"0"},Axis.prototype.textAnchorForAxisLabel=function textAnchorForAxisLabel(forHorizontal,position){return forHorizontal?position.isLeft?"start":position.isCenter?"middle":"end":position.isBottom?"start":position.isMiddle?"middle":"end"},Axis.prototype.xForXAxisLabel=function xForXAxisLabel(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.xForYAxisLabel=function xForYAxisLabel(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.xForY2AxisLabel=function xForY2AxisLabel(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dxForXAxisLabel=function dxForXAxisLabel(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.dxForYAxisLabel=function dxForYAxisLabel(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.dxForY2AxisLabel=function dxForY2AxisLabel(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dyForXAxisLabel=function dyForXAxisLabel(){var $$=this.owner,config=$$.config,position=this.getXAxisLabelPosition();return config.axis_rotated?position.isInner?"1.2em":-25-this.getMaxTickWidth("x"):position.isInner?"-0.5em":config.axis_x_height?config.axis_x_height-10:"3em"},Axis.prototype.dyForYAxisLabel=function dyForYAxisLabel(){var $$=this.owner,position=this.getYAxisLabelPosition();return $$.config.axis_rotated?position.isInner?"-0.5em":"3em":position.isInner?"1.2em":-10-($$.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Axis.prototype.dyForY2AxisLabel=function dyForY2AxisLabel(){var $$=this.owner,position=this.getY2AxisLabelPosition();return $$.config.axis_rotated?position.isInner?"1.2em":"-2.2em":position.isInner?"-0.5em":15+($$.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Axis.prototype.textAnchorForXAxisLabel=function textAnchorForXAxisLabel(){var $$=this.owner;return this.textAnchorForAxisLabel(!$$.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.textAnchorForYAxisLabel=function textAnchorForYAxisLabel(){var $$=this.owner;return this.textAnchorForAxisLabel($$.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.textAnchorForY2AxisLabel=function textAnchorForY2AxisLabel(){var $$=this.owner;return this.textAnchorForAxisLabel($$.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.getMaxTickWidth=function getMaxTickWidth(id,withoutRecompute){var $$=this.owner,config=$$.config,maxWidth=0,targetsToShow,scale,axis,dummy,svg;return withoutRecompute&&$$.currentMaxTickWidths[id]?$$.currentMaxTickWidths[id]:($$.svg&&(targetsToShow=$$.filterTargetsToShow($$.data.targets),id==="y"?(scale=$$.y.copy().domain($$.getYDomain(targetsToShow,"y")),axis=this.getYAxis(scale,$$.yOrient,config.axis_y_tick_format,$$.yAxisTickValues,!1,!0,!0)):id==="y2"?(scale=$$.y2.copy().domain($$.getYDomain(targetsToShow,"y2")),axis=this.getYAxis(scale,$$.y2Orient,config.axis_y2_tick_format,$$.y2AxisTickValues,!1,!0,!0)):(scale=$$.x.copy().domain($$.getXDomain(targetsToShow)),axis=this.getXAxis(scale,$$.xOrient,$$.xAxisTickFormat,$$.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(targetsToShow,axis)),dummy=$$.d3.select("body").append("div").classed("c3",!0),svg=dummy.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),svg.append("g").call(axis).each(function(){$$.d3.select(this).selectAll("text").each(function(){var box=this.getBoundingClientRect();maxWidth<box.width&&(maxWidth=box.width)}),dummy.remove()})),$$.currentMaxTickWidths[id]=maxWidth<=0?$$.currentMaxTickWidths[id]:maxWidth,$$.currentMaxTickWidths[id])},Axis.prototype.updateLabels=function updateLabels(withTransition){var $$=this.owner,axisXLabel=$$.main.select("."+CLASS.axisX+" ."+CLASS.axisXLabel),axisYLabel=$$.main.select("."+CLASS.axisY+" ."+CLASS.axisYLabel),axisY2Label=$$.main.select("."+CLASS.axisY2+" ."+CLASS.axisY2Label);(withTransition?axisXLabel.transition():axisXLabel).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(withTransition?axisYLabel.transition():axisYLabel).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(withTransition?axisY2Label.transition():axisY2Label).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},Axis.prototype.getPadding=function getPadding(padding,key,defaultValue,domainLength){var p=typeof padding=="number"?padding:padding[key];return isValue(p)?padding.unit==="ratio"?padding[key]*domainLength:this.convertPixelsToAxisPadding(p,domainLength):defaultValue},Axis.prototype.convertPixelsToAxisPadding=function convertPixelsToAxisPadding(pixels,domainLength){var $$=this.owner,length=$$.config.axis_rotated?$$.width:$$.height;return domainLength*(pixels/length)},Axis.prototype.generateTickValues=function generateTickValues(values,tickCount,forTimeSeries){var tickValues=values,targetCount,start,end,count,interval,i,tickValue;if(tickCount){targetCount=isFunction(tickCount)?tickCount():tickCount;if(targetCount===1)tickValues=[values[0]];else if(targetCount===2)tickValues=[values[0],values[values.length-1]];else if(targetCount>2){count=targetCount-2,start=values[0],end=values[values.length-1],interval=(end-start)/(count+1),tickValues=[start];for(i=0;i<count;i++)tickValue=+start+interval*(i+1),tickValues.push(forTimeSeries?new Date(tickValue):tickValue);tickValues.push(end)}}return forTimeSeries||(tickValues=tickValues.sort(function(a,b){return a-b})),tickValues},Axis.prototype.generateTransitions=function generateTransitions(duration){var $$=this.owner,axes=$$.axes;return{axisX:duration?axes.x.transition().duration(duration):axes.x,axisY:duration?axes.y.transition().duration(duration):axes.y,axisY2:duration?axes.y2.transition().duration(duration):axes.y2,axisSubX:duration?axes.subx.transition().duration(duration):axes.subx}},Axis.prototype.redraw=function redraw(transitions,isHidden){var $$=this.owner;$$.axes.x.style("opacity",isHidden?0:1),$$.axes.y.style("opacity",isHidden?0:1),$$.axes.y2.style("opacity",isHidden?0:1),$$.axes.subx.style("opacity",isHidden?0:1),transitions.axisX.call($$.xAxis),transitions.axisY.call($$.yAxis),transitions.axisY2.call($$.y2Axis),transitions.axisSubX.call($$.subXAxis)},c3_chart_internal_fn.getClipPath=function(id){var isIE9=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(isIE9?"":document.URL.split("#")[0])+"#"+id+")"},c3_chart_internal_fn.appendClip=function(parent,id){return parent.append("clipPath").attr("id",id).append("rect")},c3_chart_internal_fn.getAxisClipX=function(forHorizontal){var left=Math.max(30,this.margin.left);return forHorizontal?-(1+left):-(left-1)},c3_chart_internal_fn.getAxisClipY=function(forHorizontal){return forHorizontal?-20:-this.margin.top},c3_chart_internal_fn.getXAxisClipX=function(){var $$=this;return $$.getAxisClipX(!$$.config.axis_rotated)},c3_chart_internal_fn.getXAxisClipY=function(){var $$=this;return $$.getAxisClipY(!$$.config.axis_rotated)},c3_chart_internal_fn.getYAxisClipX=function(){var $$=this;return $$.config.axis_y_inner?-1:$$.getAxisClipX($$.config.axis_rotated)},c3_chart_internal_fn.getYAxisClipY=function(){var $$=this;return $$.getAxisClipY($$.config.axis_rotated)},c3_chart_internal_fn.getAxisClipWidth=function(forHorizontal){var $$=this,left=Math.max(30,$$.margin.left),right=Math.max(30,$$.margin.right);return forHorizontal?$$.width+2+left+right:$$.margin.left+20},c3_chart_internal_fn.getAxisClipHeight=function(forHorizontal){return(forHorizontal?this.margin.bottom:this.margin.top+this.height)+20},c3_chart_internal_fn.getXAxisClipWidth=function(){var $$=this;return $$.getAxisClipWidth(!$$.config.axis_rotated)},c3_chart_internal_fn.getXAxisClipHeight=function(){var $$=this;return $$.getAxisClipHeight(!$$.config.axis_rotated)},c3_chart_internal_fn.getYAxisClipWidth=function(){var $$=this;return $$.getAxisClipWidth($$.config.axis_rotated)+($$.config.axis_y_inner?20:0)},c3_chart_internal_fn.getYAxisClipHeight=function(){var $$=this;return $$.getAxisClipHeight($$.config.axis_rotated)},c3_chart_internal_fn.initPie=function(){var $$=this,d3=$$.d3,config=$$.config;$$.pie=d3.layout.pie().value(function(d){return d.values.reduce(function(a,b){return a+b.value},0)}),config.data_order||$$.pie.sort(null)},c3_chart_internal_fn.updateRadius=function(){var $$=this,config=$$.config,w=config.gauge_width||config.donut_width;$$.radiusExpanded=Math.min($$.arcWidth,$$.arcHeight)/2,$$.radius=$$.radiusExpanded*.95,$$.innerRadiusRatio=w?($$.radius-w)/$$.radius:.6,$$.innerRadius=$$.hasType("donut")||$$.hasType("gauge")?$$.radius*$$.innerRadiusRatio:0},c3_chart_internal_fn.updateArc=function(){var $$=this;$$.svgArc=$$.getSvgArc(),$$.svgArcExpanded=$$.getSvgArcExpanded(),$$.svgArcExpandedSub=$$.getSvgArcExpanded(.98)},c3_chart_internal_fn.updateAngle=function(d){var $$=this,config=$$.config,found=!1,index=0,gMin,gMax,gTic,gValue;return config?($$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function(t){!found&&t.data.id===d.data.id&&(found=!0,d=t,d.index=index),index++}),isNaN(d.startAngle)&&(d.startAngle=0),isNaN(d.endAngle)&&(d.endAngle=d.startAngle),$$.isGaugeType(d.data)&&(gMin=config.gauge_min,gMax=config.gauge_max,gTic=Math.PI*(config.gauge_fullCircle?2:1)/(gMax-gMin),gValue=d.value<gMin?0:d.value<gMax?d.value-gMin:gMax-gMin,d.startAngle=config.gauge_startingAngle,d.endAngle=d.startAngle+gTic*gValue),found?d:null):null},c3_chart_internal_fn.getSvgArc=function(){var $$=this,arc=$$.d3.svg.arc().outerRadius($$.radius).innerRadius($$.innerRadius),newArc=function(d,withoutUpdate){var updated;return withoutUpdate?arc(d):(updated=$$.updateAngle(d),updated?arc(updated):"M 0 0")};return newArc.centroid=arc.centroid,newArc},c3_chart_internal_fn.getSvgArcExpanded=function(rate){var $$=this,arc=$$.d3.svg.arc().outerRadius($$.radiusExpanded*(rate?rate:1)).innerRadius($$.innerRadius);return function(d){var updated=$$.updateAngle(d);return updated?arc(updated):"M 0 0"}},c3_chart_internal_fn.getArc=function(d,withoutUpdate,force){return force||this.isArcType(d.data)?this.svgArc(d,withoutUpdate):"M 0 0"},c3_chart_internal_fn.transformForArcLabel=function(d){var $$=this,config=$$.config,updated=$$.updateAngle(d),c,x,y,h,ratio,translate="";return updated&&!$$.hasType("gauge")&&(c=this.svgArc.centroid(updated),x=isNaN(c[0])?0:c[0],y=isNaN(c[1])?0:c[1],h=Math.sqrt(x*x+y*y),$$.hasType("donut")&&config.donut_label_ratio?ratio=isFunction(config.donut_label_ratio)?config.donut_label_ratio(d,$$.radius,h):config.donut_label_ratio:$$.hasType("pie")&&config.pie_label_ratio?ratio=isFunction(config.pie_label_ratio)?config.pie_label_ratio(d,$$.radius,h):config.pie_label_ratio:ratio=$$.radius&&h?(36/$$.radius>.375?1.175-36/$$.radius:.8)*$$.radius/h:0,translate="translate("+x*ratio+","+y*ratio+")"),translate},c3_chart_internal_fn.getArcRatio=function(d){var $$=this,config=$$.config,whole=Math.PI*($$.hasType("gauge")&&!config.gauge_fullCircle?1:2);return d?(d.endAngle-d.startAngle)/whole:null},c3_chart_internal_fn.convertToArcData=function(d){return this.addName({id:d.data.id,value:d.value,ratio:this.getArcRatio(d),index:d.index})},c3_chart_internal_fn.textForArcLabel=function(d){var $$=this,updated,value,ratio,id,format;return $$.shouldShowArcLabel()?(updated=$$.updateAngle(d),value=updated?updated.value:null,ratio=$$.getArcRatio(updated),id=d.data.id,!$$.hasType("gauge")&&!$$.meetsArcLabelThreshold(ratio)?"":(format=$$.getArcLabelFormat(),format?format(value,ratio,id):$$.defaultArcValueFormat(value,ratio))):""},c3_chart_internal_fn.expandArc=function(targetIds){var $$=this,interval;if($$.transiting){interval=window.setInterval(function(){$$.transiting||(window.clearInterval(interval),$$.legend.selectAll(".c3-legend-item-focused").size()>0&&$$.expandArc(targetIds))},10);return}targetIds=$$.mapToTargetIds(targetIds),$$.svg.selectAll($$.selectorTargets(targetIds,"."+CLASS.chartArc)).each(function(d){if(!$$.shouldExpand(d.data.id))return;$$.d3.select(this).selectAll("path").transition().duration($$.expandDuration(d.data.id)).attr("d",$$.svgArcExpanded).transition().duration($$.expandDuration(d.data.id)*2).attr("d",$$.svgArcExpandedSub).each(function(d){$$.isDonutType(d.data)})})},c3_chart_internal_fn.unexpandArc=function(targetIds){var $$=this;if($$.transiting)return;targetIds=$$.mapToTargetIds(targetIds),$$.svg.selectAll($$.selectorTargets(targetIds,"."+CLASS.chartArc)).selectAll("path").transition().duration(function(d){return $$.expandDuration(d.data.id)}).attr("d",$$.svgArc),$$.svg.selectAll("."+CLASS.arc).style("opacity",1)},c3_chart_internal_fn.expandDuration=function(id){var $$=this,config=$$.config;return $$.isDonutType(id)?config.donut_expand_duration:$$.isGaugeType(id)?config.gauge_expand_duration:$$.isPieType(id)?config.pie_expand_duration:50},c3_chart_internal_fn.shouldExpand=function(id){var $$=this,config=$$.config;return $$.isDonutType(id)&&config.donut_expand||$$.isGaugeType(id)&&config.gauge_expand||$$.isPieType(id)&&config.pie_expand},c3_chart_internal_fn.shouldShowArcLabel=function(){var $$=this,config=$$.config,shouldShow=!0;return $$.hasType("donut")?shouldShow=config.donut_label_show:$$.hasType("pie")&&(shouldShow=config.pie_label_show),shouldShow},c3_chart_internal_fn.meetsArcLabelThreshold=function(ratio){var $$=this,config=$$.config,threshold=$$.hasType("donut")?config.donut_label_threshold:config.pie_label_threshold;return ratio>=threshold},c3_chart_internal_fn.getArcLabelFormat=function(){var $$=this,config=$$.config,format=config.pie_label_format;return $$.hasType("gauge")?format=config.gauge_label_format:$$.hasType("donut")&&(format=config.donut_label_format),format},c3_chart_internal_fn.getArcTitle=function(){var $$=this;return $$.hasType("donut")?$$.config.donut_title:""},c3_chart_internal_fn.updateTargetsForArc=function(targets){var $$=this,main=$$.main,mainPieUpdate,mainPieEnter,classChartArc=$$.classChartArc.bind($$),classArcs=$$.classArcs.bind($$),classFocus=$$.classFocus.bind($$);mainPieUpdate=main.select("."+CLASS.chartArcs).selectAll("."+CLASS.chartArc).data($$.pie(targets)).attr("class",function(d){return classChartArc(d)+classFocus(d.data)}),mainPieEnter=mainPieUpdate.enter().append("g").attr("class",classChartArc),mainPieEnter.append("g").attr("class",classArcs),mainPieEnter.append("text").attr("dy",$$.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},c3_chart_internal_fn.initArc=function(){var $$=this;$$.arcs=$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartArcs).attr("transform",$$.getTranslate("arc")),$$.arcs.append("text").attr("class",CLASS.chartArcsTitle).style("text-anchor","middle").text($$.getArcTitle())},c3_chart_internal_fn.redrawArc=function(duration,durationForExit,withTransform){var $$=this,d3=$$.d3,config=$$.config,main=$$.main,mainArc;mainArc=main.selectAll("."+CLASS.arcs).selectAll("."+CLASS.arc).data($$.arcData.bind($$)),mainArc.enter().append("path").attr("class",$$.classArc.bind($$)).style("fill",function(d){return $$.color(d.data)}).style("cursor",function(d){return config.interaction_enabled&&config.data_selection_isselectable(d)?"pointer":null}).style("opacity",0).each(function(d){$$.isGaugeType(d.data)&&(d.startAngle=d.endAngle=config.gauge_startingAngle),this._current=d}),mainArc.attr("transform",function(d){return!$$.isGaugeType(d.data)&&withTransform?"scale(0)":""}).style("opacity",function(d){return d===this._current?0:1}).on("mouseover",config.interaction_enabled?function(d){var updated,arcData;if($$.transiting)return;updated=$$.updateAngle(d),updated&&(arcData=$$.convertToArcData(updated),$$.expandArc(updated.data.id),$$.api.focus(updated.data.id),$$.toggleFocusLegend(updated.data.id,!0),$$.config.data_onmouseover(arcData,this))}:null).on("mousemove",config.interaction_enabled?function(d){var updated=$$.updateAngle(d),arcData,selectedData;updated&&(arcData=$$.convertToArcData(updated),selectedData=[arcData],$$.showTooltip(selectedData,this))}:null).on("mouseout",config.interaction_enabled?function(d){var updated,arcData;if($$.transiting)return;updated=$$.updateAngle(d),updated&&(arcData=$$.convertToArcData(updated),$$.unexpandArc(updated.data.id),$$.api.revert(),$$.revertLegend(),$$.hideTooltip(),$$.config.data_onmouseout(arcData,this))}:null).on("click",config.interaction_enabled?function(d,i){var updated=$$.updateAngle(d),arcData;updated&&(arcData=$$.convertToArcData(updated),$$.toggleShape&&$$.toggleShape
(this,arcData,i),$$.config.data_onclick.call($$.api,arcData,this))}:null).each(function(){$$.transiting=!0}).transition().duration(duration).attrTween("d",function(d){var updated=$$.updateAngle(d),interpolate;return updated?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),interpolate=d3.interpolate(this._current,updated),this._current=interpolate(0),function(t){var interpolated=interpolate(t);return interpolated.data=d.data,$$.getArc(interpolated,!0)}):function(){return"M 0 0"}}).attr("transform",withTransform?"scale(1)":"").style("fill",function(d){return $$.levelColor?$$.levelColor(d.data.values[0].value):$$.color(d.data.id)}).style("opacity",1).call($$.endall,function(){$$.transiting=!1}),mainArc.exit().transition().duration(durationForExit).style("opacity",0).remove(),main.selectAll("."+CLASS.chartArc).select("text").style("opacity",0).attr("class",function(d){return $$.isGaugeType(d.data)?CLASS.gaugeValue:""}).text($$.textForArcLabel.bind($$)).attr("transform",$$.transformForArcLabel.bind($$)).style("font-size",function(d){return $$.isGaugeType(d.data)?Math.round($$.radius/5)+"px":""}).transition().duration(duration).style("opacity",function(d){return $$.isTargetToShow(d.data.id)&&$$.isArcType(d.data)?1:0}),main.select("."+CLASS.chartArcsTitle).style("opacity",$$.hasType("donut")||$$.hasType("gauge")?1:0),$$.hasType("gauge")&&($$.arcs.select("."+CLASS.chartArcsBackground).attr("d",function(){var d={data:[{value:config.gauge_max}],startAngle:config.gauge_startingAngle,endAngle:-1*config.gauge_startingAngle};return $$.getArc(d,!0,!0)}),$$.arcs.select("."+CLASS.chartArcsGaugeUnit).attr("dy",".75em").text(config.gauge_label_show?config.gauge_units:""),$$.arcs.select("."+CLASS.chartArcsGaugeMin).attr("dx",-1*($$.innerRadius+($$.radius-$$.innerRadius)/(config.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(config.gauge_label_show?config.gauge_min:""),$$.arcs.select("."+CLASS.chartArcsGaugeMax).attr("dx",$$.innerRadius+($$.radius-$$.innerRadius)/(config.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(config.gauge_label_show?config.gauge_max:""))},c3_chart_internal_fn.initGauge=function(){var arcs=this.arcs;this.hasType("gauge")&&(arcs.append("path").attr("class",CLASS.chartArcsBackground),arcs.append("text").attr("class",CLASS.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),arcs.append("text").attr("class",CLASS.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),arcs.append("text").attr("class",CLASS.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},c3_chart_internal_fn.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},c3_chart_internal_fn.initRegion=function(){var $$=this;$$.region=$$.main.append("g").attr("clip-path",$$.clipPath).attr("class",CLASS.regions)},c3_chart_internal_fn.updateRegion=function(duration){var $$=this,config=$$.config;$$.region.style("visibility",$$.hasArcType()?"hidden":"visible"),$$.mainRegion=$$.main.select("."+CLASS.regions).selectAll("."+CLASS.region).data(config.regions),$$.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),$$.mainRegion.attr("class",$$.classRegion.bind($$)),$$.mainRegion.exit().transition().duration(duration).style("opacity",0).remove()},c3_chart_internal_fn.redrawRegion=function(withTransition){var $$=this,regions=$$.mainRegion.selectAll("rect").each(function(){var parentData=$$.d3.select(this.parentNode).datum();$$.d3.select(this).datum(parentData)}),x=$$.regionX.bind($$),y=$$.regionY.bind($$),w=$$.regionWidth.bind($$),h=$$.regionHeight.bind($$);return[(withTransition?regions.transition():regions).attr("x",x).attr("y",y).attr("width",w).attr("height",h).style("fill-opacity",function(d){return isValue(d.opacity)?d.opacity:.1})]},c3_chart_internal_fn.regionX=function(d){var $$=this,config=$$.config,xPos,yScale=d.axis==="y"?$$.y:$$.y2;return d.axis==="y"||d.axis==="y2"?xPos=config.axis_rotated?"start"in d?yScale(d.start):0:0:xPos=config.axis_rotated?0:"start"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.start):d.start):0,xPos},c3_chart_internal_fn.regionY=function(d){var $$=this,config=$$.config,yPos,yScale=d.axis==="y"?$$.y:$$.y2;return d.axis==="y"||d.axis==="y2"?yPos=config.axis_rotated?0:"end"in d?yScale(d.end):0:yPos=config.axis_rotated?"start"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.start):d.start):0:0,yPos},c3_chart_internal_fn.regionWidth=function(d){var $$=this,config=$$.config,start=$$.regionX(d),end,yScale=d.axis==="y"?$$.y:$$.y2;return d.axis==="y"||d.axis==="y2"?end=config.axis_rotated?"end"in d?yScale(d.end):$$.width:$$.width:end=config.axis_rotated?$$.width:"end"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.end):d.end):$$.width,end<start?0:end-start},c3_chart_internal_fn.regionHeight=function(d){var $$=this,config=$$.config,start=this.regionY(d),end,yScale=d.axis==="y"?$$.y:$$.y2;return d.axis==="y"||d.axis==="y2"?end=config.axis_rotated?$$.height:"start"in d?yScale(d.start):$$.height:end=config.axis_rotated?"end"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.end):d.end):$$.height:$$.height,end<start?0:end-start},c3_chart_internal_fn.isRegionOnX=function(d){return!d.axis||d.axis==="x"},c3_chart_internal_fn.drag=function(mouse){var $$=this,config=$$.config,main=$$.main,d3=$$.d3,sx,sy,mx,my,minX,maxX,minY,maxY;if($$.hasArcType())return;if(!config.data_selection_enabled)return;if(config.zoom_enabled&&!$$.zoom.altDomain)return;if(!config.data_selection_multiple)return;sx=$$.dragStart[0],sy=$$.dragStart[1],mx=mouse[0],my=mouse[1],minX=Math.min(sx,mx),maxX=Math.max(sx,mx),minY=config.data_selection_grouped?$$.margin.top:Math.min(sy,my),maxY=config.data_selection_grouped?$$.height:Math.max(sy,my),main.select("."+CLASS.dragarea).attr("x",minX).attr("y",minY).attr("width",maxX-minX).attr("height",maxY-minY),main.selectAll("."+CLASS.shapes).selectAll("."+CLASS.shape).filter(function(d){return config.data_selection_isselectable(d)}).each(function(d,i){var shape=d3.select(this),isSelected=shape.classed(CLASS.SELECTED),isIncluded=shape.classed(CLASS.INCLUDED),_x,_y,_w,_h,toggle,isWithin=!1,box;if(shape.classed(CLASS.circle))_x=shape.attr("cx")*1,_y=shape.attr("cy")*1,toggle=$$.togglePoint,isWithin=minX<_x&&_x<maxX&&minY<_y&&_y<maxY;else{if(!shape.classed(CLASS.bar))return;box=getPathBox(this),_x=box.x,_y=box.y,_w=box.width,_h=box.height,toggle=$$.togglePath,isWithin=!(maxX<_x||_x+_w<minX)&&!(maxY<_y||_y+_h<minY)}isWithin^isIncluded&&(shape.classed(CLASS.INCLUDED,!isIncluded),shape.classed(CLASS.SELECTED,!isSelected),toggle.call($$,!isSelected,shape,d,i))})},c3_chart_internal_fn.dragstart=function(mouse){var $$=this,config=$$.config;if($$.hasArcType())return;if(!config.data_selection_enabled)return;$$.dragStart=mouse,$$.main.select("."+CLASS.chart).append("rect").attr("class",CLASS.dragarea).style("opacity",.1),$$.dragging=!0},c3_chart_internal_fn.dragend=function(){var $$=this,config=$$.config;if($$.hasArcType())return;if(!config.data_selection_enabled)return;$$.main.select("."+CLASS.dragarea).transition().duration(100).style("opacity",0).remove(),$$.main.selectAll("."+CLASS.shape).classed(CLASS.INCLUDED,!1),$$.dragging=!1},c3_chart_internal_fn.selectPoint=function(target,d,i){var $$=this,config=$$.config,cx=(config.axis_rotated?$$.circleY:$$.circleX).bind($$),cy=(config.axis_rotated?$$.circleX:$$.circleY).bind($$),r=$$.pointSelectR.bind($$);config.data_onselected.call($$.api,d,target.node()),$$.main.select("."+CLASS.selectedCircles+$$.getTargetSelectorSuffix(d.id)).selectAll("."+CLASS.selectedCircle+"-"+i).data([d]).enter().append("circle").attr("class",function(){return $$.generateClass(CLASS.selectedCircle,i)}).attr("cx",cx).attr("cy",cy).attr("stroke",function(){return $$.color(d)}).attr("r",function(d){return $$.pointSelectR(d)*1.4}).transition().duration(100).attr("r",r)},c3_chart_internal_fn.unselectPoint=function(target,d,i){var $$=this;$$.config.data_onunselected.call($$.api,d,target.node()),$$.main.select("."+CLASS.selectedCircles+$$.getTargetSelectorSuffix(d.id)).selectAll("."+CLASS.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},c3_chart_internal_fn.togglePoint=function(selected,target,d,i){selected?this.selectPoint(target,d,i):this.unselectPoint(target,d,i)},c3_chart_internal_fn.selectPath=function(target,d){var $$=this;$$.config.data_onselected.call($$,d,target.node()),$$.config.interaction_brighten&&target.transition().duration(100).style("fill",function(){return $$.d3.rgb($$.color(d)).brighter(.75)})},c3_chart_internal_fn.unselectPath=function(target,d){var $$=this;$$.config.data_onunselected.call($$,d,target.node()),$$.config.interaction_brighten&&target.transition().duration(100).style("fill",function(){return $$.color(d)})},c3_chart_internal_fn.togglePath=function(selected,target,d,i){selected?this.selectPath(target,d,i):this.unselectPath(target,d,i)},c3_chart_internal_fn.getToggle=function(that,d){var $$=this,toggle;return that.nodeName==="circle"?$$.isStepType(d)?toggle=function(){}:toggle=$$.togglePoint:that.nodeName==="path"&&(toggle=$$.togglePath),toggle},c3_chart_internal_fn.toggleShape=function(that,d,i){var $$=this,d3=$$.d3,config=$$.config,shape=d3.select(that),isSelected=shape.classed(CLASS.SELECTED),toggle=$$.getToggle(that,d).bind($$);config.data_selection_enabled&&config.data_selection_isselectable(d)&&(config.data_selection_multiple||$$.main.selectAll("."+CLASS.shapes+(config.data_selection_grouped?$$.getTargetSelectorSuffix(d.id):"")).selectAll("."+CLASS.shape).each(function(d,i){var shape=d3.select(this);shape.classed(CLASS.SELECTED)&&toggle(!1,shape.classed(CLASS.SELECTED,!1),d,i)}),shape.classed(CLASS.SELECTED,!isSelected),toggle(!isSelected,shape,d,i))},c3_chart_internal_fn.initBrush=function(){var $$=this,d3=$$.d3;$$.brush=d3.svg.brush().on("brush",function(){$$.redrawForBrush()}),$$.brush.update=function(){return $$.context&&$$.context.select("."+CLASS.brush).call(this),this},$$.brush.scale=function(scale){return $$.config.axis_rotated?this.y(scale):this.x(scale)}},c3_chart_internal_fn.initSubchart=function(){var $$=this,config=$$.config,context=$$.context=$$.svg.append("g").attr("transform",$$.getTranslate("context")),visibility=config.subchart_show?"visible":"hidden";context.style("visibility",visibility),context.append("g").attr("clip-path",$$.clipPathForSubchart).attr("class",CLASS.chart),context.select("."+CLASS.chart).append("g").attr("class",CLASS.chartBars),context.select("."+CLASS.chart).append("g").attr("class",CLASS.chartLines),context.append("g").attr("clip-path",$$.clipPath).attr("class",CLASS.brush).call($$.brush),$$.axes.subx=context.append("g").attr("class",CLASS.axisX).attr("transform",$$.getTranslate("subx")).attr("clip-path",config.axis_rotated?"":$$.clipPathForXAxis).style("visibility",config.subchart_axis_x_show?visibility:"hidden")},c3_chart_internal_fn.updateTargetsForSubchart=function(targets){var $$=this,context=$$.context,config=$$.config,contextLineEnter,contextLineUpdate,contextBarEnter,contextBarUpdate,classChartBar=$$.classChartBar.bind($$),classBars=$$.classBars.bind($$),classChartLine=$$.classChartLine.bind($$),classLines=$$.classLines.bind($$),classAreas=$$.classAreas.bind($$);config.subchart_show&&(contextBarUpdate=context.select("."+CLASS.chartBars).selectAll("."+CLASS.chartBar).data(targets).attr("class",classChartBar),contextBarEnter=contextBarUpdate.enter().append("g").style("opacity",0).attr("class",classChartBar),contextBarEnter.append("g").attr("class",classBars),contextLineUpdate=context.select("."+CLASS.chartLines).selectAll("."+CLASS.chartLine).data(targets).attr("class",classChartLine),contextLineEnter=contextLineUpdate.enter().append("g").style("opacity",0).attr("class",classChartLine),contextLineEnter.append("g").attr("class",classLines),contextLineEnter.append("g").attr("class",classAreas),context.selectAll("."+CLASS.brush+" rect").attr(config.axis_rotated?"width":"height",config.axis_rotated?$$.width2:$$.height2))},c3_chart_internal_fn.updateBarForSubchart=function(durationForExit){var $$=this;$$.contextBar=$$.context.selectAll("."+CLASS.bars).selectAll("."+CLASS.bar).data($$.barData.bind($$)),$$.contextBar.enter().append("path").attr("class",$$.classBar.bind($$)).style("stroke","none").style("fill",$$.color),$$.contextBar.style("opacity",$$.initialOpacity.bind($$)),$$.contextBar.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawBarForSubchart=function(drawBarOnSub,withTransition,duration){(withTransition?this.contextBar.transition(Math.random().toString()).duration(duration):this.contextBar).attr("d",drawBarOnSub).style("opacity",1)},c3_chart_internal_fn.updateLineForSubchart=function(durationForExit){var $$=this;$$.contextLine=$$.context.selectAll("."+CLASS.lines).selectAll("."+CLASS.line).data($$.lineData.bind($$)),$$.contextLine.enter().append("path").attr("class",$$.classLine.bind($$)).style("stroke",$$.color),$$.contextLine.style("opacity",$$.initialOpacity.bind($$)),$$.contextLine.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawLineForSubchart=function(drawLineOnSub,withTransition,duration){(withTransition?this.contextLine.transition(Math.random().toString()).duration(duration):this.contextLine).attr("d",drawLineOnSub).style("opacity",1)},c3_chart_internal_fn.updateAreaForSubchart=function(durationForExit){var $$=this,d3=$$.d3;$$.contextArea=$$.context.selectAll("."+CLASS.areas).selectAll("."+CLASS.area).data($$.lineData.bind($$)),$$.contextArea.enter().append("path").attr("class",$$.classArea.bind($$)).style("fill",$$.color).style("opacity",function(){return $$.orgAreaOpacity=+d3.select(this).style("opacity"),0}),$$.contextArea.style("opacity",0),$$.contextArea.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawAreaForSubchart=function(drawAreaOnSub,withTransition,duration){(withTransition?this.contextArea.transition(Math.random().toString()).duration(duration):this.contextArea).attr("d",drawAreaOnSub).style("fill",this.color).style("opacity",this.orgAreaOpacity)},c3_chart_internal_fn.redrawSubchart=function(withSubchart,transitions,duration,durationForExit,areaIndices,barIndices,lineIndices){var $$=this,d3=$$.d3,config=$$.config,drawAreaOnSub,drawBarOnSub,drawLineOnSub;$$.context.style("visibility",config.subchart_show?"visible":"hidden"),config.subchart_show&&(d3.event&&d3.event.type==="zoom"&&$$.brush.extent($$.x.orgDomain()).update(),withSubchart&&($$.brush.empty()||$$.brush.extent($$.x.orgDomain()).update(),drawAreaOnSub=$$.generateDrawArea(areaIndices,!0),drawBarOnSub=$$.generateDrawBar(barIndices,!0),drawLineOnSub=$$.generateDrawLine(lineIndices,!0),$$.updateBarForSubchart(duration),$$.updateLineForSubchart(duration),$$.updateAreaForSubchart(duration),$$.redrawBarForSubchart(drawBarOnSub,duration,duration),$$.redrawLineForSubchart(drawLineOnSub,duration,duration),$$.redrawAreaForSubchart(drawAreaOnSub,duration,duration)))},c3_chart_internal_fn.redrawForBrush=function(){var $$=this,x=$$.x;$$.redraw({withTransition:!1,withY:$$.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),$$.config.subchart_onbrush.call($$.api,x.orgDomain())},c3_chart_internal_fn.transformContext=function(withTransition,transitions){var $$=this,subXAxis;transitions&&transitions.axisSubX?subXAxis=transitions.axisSubX:(subXAxis=$$.context.select("."+CLASS.axisX),withTransition&&(subXAxis=subXAxis.transition())),$$.context.attr("transform",$$.getTranslate("context")),subXAxis.attr("transform",$$.getTranslate("subx"))},c3_chart_internal_fn.getDefaultExtent=function(){var $$=this,config=$$.config,extent=isFunction(config.axis_x_extent)?config.axis_x_extent($$.getXDomain($$.data.targets)):config.axis_x_extent;return $$.isTimeSeries()&&(extent=[$$.parseDate(extent[0]),$$.parseDate(extent[1])]),extent},c3_chart_internal_fn.initZoom=function(){var $$=this,d3=$$.d3,config=$$.config,startEvent;$$.zoom=d3.behavior.zoom().on("zoomstart",function(){startEvent=d3.event.sourceEvent,$$.zoom.altDomain=d3.event.sourceEvent.altKey?$$.x.orgDomain():null,config.zoom_onzoomstart.call($$.api,d3.event.sourceEvent)}).on("zoom",function(){$$.redrawForZoom.call($$)}).on("zoomend",function(){var event=d3.event.sourceEvent;if(event&&startEvent.clientX===event.clientX&&startEvent.clientY===event.clientY)return;$$.redrawEventRect(),$$.updateZoom(),config.zoom_onzoomend.call($$.api,$$.x.orgDomain())}),$$.zoom.scale=function(scale){return config.axis_rotated?this.y(scale):this.x(scale)},$$.zoom.orgScaleExtent=function(){var extent=config.zoom_extent?config.zoom_extent:[1,10];return[extent[0],Math.max($$.getMaxDataCount()/extent[1],extent[1])]},$$.zoom.updateScaleExtent=function(){var ratio=diffDomain($$.x.orgDomain())/diffDomain($$.getZoomDomain()),extent=this.orgScaleExtent();return this.scaleExtent([extent[0]*ratio,extent[1]*ratio]),this}},c3_chart_internal_fn.getZoomDomain=function(){var $$=this,config=$$.config,d3=$$.d3,min=d3.min([$$.orgXDomain[0],config.zoom_x_min]),max=d3.max([$$.orgXDomain[1],config.zoom_x_max]);return[min,max]},c3_chart_internal_fn.updateZoom=function(){var $$=this,z=$$.config.zoom_enabled?$$.zoom:function(){};$$.main.select("."+CLASS.zoomRect).call(z).on("dblclick.zoom",null),$$.main.selectAll("."+CLASS.eventRect).call(z).on("dblclick.zoom",null)},c3_chart_internal_fn.redrawForZoom=function(){var $$=this,d3=$$.d3,config=$$.config,zoom=$$.zoom,x=$$.x;if(!config.zoom_enabled)return;if($$.filterTargetsToShow($$.data.targets).length===0)return;if(d3.event.sourceEvent.type==="mousemove"&&zoom.altDomain){x.domain(zoom.altDomain),zoom.scale(x).updateScaleExtent();return}$$.isCategorized()&&x.orgDomain()[0]===$$.orgXDomain[0]&&x.domain([$$.orgXDomain[0]-1e-10,x.orgDomain()[1]]),$$.redraw({withTransition:!1,withY:config.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),d3.event.sourceEvent.type==="mousemove"&&($$.cancelClick=!0),config.zoom_onzoom.call($$.api,x.orgDomain())},c3_chart_internal_fn.generateColor=function(){var $$=this,config=$$.config,d3=$$.d3,colors=config.data_colors,pattern=notEmpty(config.color_pattern)?config.color_pattern:d3.scale.category10().range(),callback=config.data_color,ids=[];return function(d){var id=d.id||d.data&&d.data.id||d,color;return colors[id]instanceof Function?color=colors[id](d):colors[id]?color=colors[id]:(ids.indexOf(id)<0&&ids.push(id),color=pattern[ids.indexOf(id)%pattern.length],colors[id]=color),callback instanceof Function?callback(color,d):color}},c3_chart_internal_fn.generateLevelColor=function(){var $$=this,config=$$.config,colors=config.color_pattern,threshold=config.color_threshold,asValue=threshold.unit==="value",values=threshold.values&&threshold.values.length?threshold.values:[],max=threshold.max||100;return notEmpty(config.color_threshold)?function(value){var i,v,color=colors[colors.length-1];for(i=0;i<values.length;i++){v=asValue?value:value*100/max;if(v<values[i]){color=colors[i];break}}return color}:null},c3_chart_internal_fn.getYFormat=function(forArc){var $$=this,formatForY=forArc&&!$$.hasType("gauge")?$$.defaultArcValueFormat:$$.yFormat,formatForY2=forArc&&!$$.hasType("gauge")?$$.defaultArcValueFormat:$$.y2Format;return function(v,ratio,id){var format=$$.axis.getId(id)==="y2"?formatForY2:formatForY;return format.call($$,v,ratio)}},c3_chart_internal_fn.yFormat=function(v){var $$=this,config=$$.config,format=config.axis_y_tick_format?config.axis_y_tick_format:$$.defaultValueFormat;return format(v)},c3_chart_internal_fn.y2Format=function(v){var $$=this,config=$$.config,format=config.axis_y2_tick_format?config.axis_y2_tick_format:$$.defaultValueFormat;return format(v)},c3_chart_internal_fn.defaultValueFormat=function(v){return isValue(v)?+v:""},c3_chart_internal_fn.defaultArcValueFormat=function(v,ratio){return(ratio*100).toFixed(1)+"%"},c3_chart_internal_fn.dataLabelFormat=function(targetId){var $$=this,data_labels=$$.config.data_labels,format,defaultFormat=function(v){return isValue(v)?+v:""};return typeof data_labels.format=="function"?format=data_labels.format:typeof data_labels.format=="object"?data_labels.format[targetId]?format=data_labels.format[targetId]===!0?defaultFormat:data_labels.format[targetId]:format=function(){return""}:format=defaultFormat,format},c3_chart_internal_fn.hasCaches=function(ids){for(var i=0;i<ids.length;i++)if(!(ids[i]in this.cache))return!1;return!0},c3_chart_internal_fn.addCache=function(id,target){this.cache[id]=this.cloneTarget(target)},c3_chart_internal_fn.getCaches=function(ids){var targets=[],i;for(i=0;i<ids.length;i++)ids[i]in this.cache&&targets.push(this.cloneTarget(this.cache[ids[i]]));return targets};var CLASS=c3_chart_internal_fn.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};c3_chart_internal_fn.generateClass=function(prefix,targetId){return" "+prefix+" "+prefix+this.getTargetSelectorSuffix(targetId)},c3_chart_internal_fn.classText=function(d){return this.generateClass(CLASS.text,d.index)},c3_chart_internal_fn.classTexts=function(d){return this.generateClass(CLASS.texts,d.id)},c3_chart_internal_fn.classShape=function(d){return this.generateClass(CLASS.shape,d.index)},c3_chart_internal_fn.classShapes=function(d){return this.generateClass(CLASS.shapes,d.id)},c3_chart_internal_fn.classLine=function(d){return this.classShape(d)+this.generateClass(CLASS.line,d.id)},c3_chart_internal_fn.classLines=function(d){return this.classShapes(d)+this.generateClass(CLASS.lines,d.id)},c3_chart_internal_fn.classCircle=function(d){return this.classShape(d)+this.generateClass(CLASS.circle,d.index)},c3_chart_internal_fn.classCircles=function(d){return this.classShapes(d)+this.generateClass(CLASS.circles,d.id)},c3_chart_internal_fn.classBar=function(d){return this.classShape(d)+this.generateClass(CLASS.bar,d.index)},c3_chart_internal_fn.classBars=function(d){return this.classShapes(d)+this.generateClass(CLASS.bars,d.id)},c3_chart_internal_fn.classArc=function(d){return this.classShape(d.data)+this.generateClass(CLASS.arc,d.data.id)},c3_chart_internal_fn.classArcs=function(d){return this.classShapes(d.data)+this.generateClass(CLASS.arcs,d.data.id)},c3_chart_internal_fn.classArea=function(d){return this.classShape(d)+this.generateClass(CLASS.area,d.id)},c3_chart_internal_fn.classAreas=function(d){return this.classShapes(d)+this.generateClass(CLASS.areas,d.id)},c3_chart_internal_fn.classRegion=function(d,i){return this.generateClass(CLASS.region,i)+" "+("class"in d?d["class"]:"")},c3_chart_internal_fn.classEvent=function(d){return this.generateClass(CLASS.eventRect,d.index)},c3_chart_internal_fn.classTarget=function(id){var $$=this,additionalClassSuffix=$$.config.data_classes[id],additionalClass="";return additionalClassSuffix&&(additionalClass=" "+CLASS.target+"-"+additionalClassSuffix),$$.generateClass(CLASS.target,id)+additionalClass},c3_chart_internal_fn.classFocus=function(d){return this.classFocused(d)+this.classDefocused(d)},c3_chart_internal_fn.classFocused=function(d){return" "+(this.focusedTargetIds.indexOf(d.id)>=0?CLASS.focused:"")},c3_chart_internal_fn.classDefocused=function(d){return" "+(this.defocusedTargetIds.indexOf(d.id)>=0?CLASS.defocused:"")},c3_chart_internal_fn.classChartText=function(d){return CLASS.chartText+this.classTarget(d.id)},c3_chart_internal_fn.classChartLine=function(d){return CLASS.chartLine+this.classTarget(d.id)},c3_chart_internal_fn.classChartBar=function(d){return CLASS.chartBar+this.classTarget(d.id)},c3_chart_internal_fn.classChartArc=function(d){return CLASS.chartArc+this.classTarget(d.data.id)},c3_chart_internal_fn.getTargetSelectorSuffix=function(targetId){return targetId||targetId===0?("-"+targetId).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},c3_chart_internal_fn.selectorTarget=function(id,prefix){return(prefix||"")+"."+CLASS.target+this.getTargetSelectorSuffix(id)},c3_chart_internal_fn.selectorTargets=function(ids,prefix){var $$=this;return ids=ids||[],ids.length?ids.map(function(id){return $$.selectorTarget(id,prefix)}):null},c3_chart_internal_fn.selectorLegend=function(id){return"."+CLASS.legendItem+this.getTargetSelectorSuffix(id)},c3_chart_internal_fn.selectorLegends=function(ids){var $$=this;return ids&&ids.length?ids.map(function(id){return $$.selectorLegend(id)}):null};var isValue=c3_chart_internal_fn.isValue=function(v){return v||v===0},isFunction=c3_chart_internal_fn.isFunction=function(o){return typeof o=="function"},isString=c3_chart_internal_fn.isString=function(o){return typeof o=="string"},isUndefined=c3_chart_internal_fn.isUndefined=function(v){return typeof v=="undefined"},isDefined=c3_chart_internal_fn.isDefined=function(v){return typeof v!="undefined"},ceil10=c3_chart_internal_fn.ceil10=function(v){return Math.ceil(v/10)*10},asHalfPixel=c3_chart_internal_fn.asHalfPixel=function(n){return Math.ceil(n)+.5},diffDomain=c3_chart_internal_fn.diffDomain=function(d){return d[1]-d[0]},isEmpty=c3_chart_internal_fn.isEmpty=function(o){return typeof o=="undefined"||o===null||isString(o)&&o.length===0||typeof o=="object"&&Object.keys(o).length===0},notEmpty=c3_chart_internal_fn.notEmpty=function(o){return!c3_chart_internal_fn.isEmpty(o)},getOption=c3_chart_internal_fn.getOption=function(options,key,defaultValue){return isDefined(options[key])?options[key]:defaultValue},hasValue=c3_chart_internal_fn.hasValue=function(dict,value){var found=!1;return Object.keys(dict).forEach(function(key){dict[key]===value&&(found=!0)}),found},sanitise=c3_chart_internal_fn.sanitise=function(str){return typeof str=="string"?str.replace(/</g,"&lt;").replace(/>/g,"&gt;"):str},getPathBox=c3_chart_internal_fn.getPathBox=function(path){var box=path.getBoundingClientRect(),items=[path.pathSegList.getItem(0),path.pathSegList.getItem(1)],minX=items[0].x,minY=Math.min(items[0].y,items[1].y);return{x:minX,y:minY,width:box.width,height:box.height}};c3_chart_fn.focus=function(targetIds){var $$=this.internal,candidates;targetIds=$$.mapToTargetIds(targetIds),candidates=$$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow,$$))),this.revert(),this.defocus(),candidates.classed(CLASS.focused,!0).classed(CLASS.defocused,!1),$$.hasArcType()&&$$.expandArc(targetIds),$$.toggleFocusLegend(targetIds,!0),$$.focusedTargetIds=targetIds,$$.defocusedTargetIds=$$.defocusedTargetIds.filter(function(id){return targetIds.indexOf(id)<0})},c3_chart_fn.defocus=function(targetIds){var $$=this.internal,candidates;targetIds=$$.mapToTargetIds(targetIds),candidates=$$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow,$$))),candidates.classed(CLASS.focused,!1).classed(CLASS.defocused,!0),$$.hasArcType()&&$$.unexpandArc(targetIds),$$.toggleFocusLegend(targetIds,!1),$$.focusedTargetIds=$$.focusedTargetIds.filter(function(id){return targetIds.indexOf(id)<0}),$$.defocusedTargetIds=targetIds},c3_chart_fn.revert=function(targetIds){var $$=this.internal,candidates;targetIds=$$.mapToTargetIds(targetIds),candidates=$$.svg.selectAll($$.selectorTargets(targetIds)),candidates.classed(CLASS.focused,!1).classed(CLASS.defocused,!1),$$.hasArcType()&&$$.unexpandArc(targetIds),$$.config.legend_show&&($$.showLegend(targetIds.filter($$.isLegendToShow.bind($$))),$$.legend.selectAll($$.selectorLegends(targetIds)).filter(function(){return $$.d3.select(this).classed(CLASS.legendItemFocused)}).classed(CLASS.legendItemFocused,!1)),$$.focusedTargetIds=[],$$.defocusedTargetIds=[]},c3_chart_fn.show=function(targetIds,options){var $$=this.internal,targets;targetIds=$$.mapToTargetIds(targetIds),options=options||{},$$.removeHiddenTargetIds(targetIds),targets=$$.svg.selectAll($$.selectorTargets(targetIds)),targets.transition().style("opacity",1,"important").call($$.endall,function(){targets.style("opacity",null).style("opacity",1)}),options.withLegend&&$$.showLegend(targetIds),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c3_chart_fn.hide=function(targetIds,options){var $$=this.internal,targets;targetIds=$$.mapToTargetIds(targetIds),options=options||{},$$.addHiddenTargetIds(targetIds),targets=$$.svg.selectAll($$.selectorTargets(targetIds)),targets.transition().style("opacity",0,"important").call($$.endall,function(){targets.style("opacity",null).style("opacity",0)}),options.withLegend&&$$.hideLegend(targetIds),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c3_chart_fn.toggle=function(targetIds,options){var that=this,$$=this.internal;$$.mapToTargetIds(targetIds).forEach(function(targetId){$$.isTargetToShow(targetId)?that.hide(targetId,options):that.show(targetId,options)})},c3_chart_fn.zoom=function(domain){var $$=this.internal;return domain&&($$.isTimeSeries()&&(domain=domain.map(function(x){return $$.parseDate(x)})),$$.brush.extent(domain),$$.redraw({withUpdateXDomain:!0,withY:$$.config.zoom_rescale}),$$.config.zoom_onzoom.call(this,$$.x.orgDomain())),$$.brush.extent()},c3_chart_fn.zoom.enable=function(enabled){var $$=this.internal;$$.config.zoom_enabled=enabled,$$.updateAndRedraw()},c3_chart_fn.unzoom=function(){var $$=this.internal;$$.brush.clear().update(),$$.redraw({withUpdateXDomain:!0})},c3_chart_fn.zoom.max=function(max){var $$=this.internal,config=$$.config,d3=$$.d3;if(max!==0&&!max)return config.zoom_x_max;config.zoom_x_max=d3.max([$$.orgXDomain[1],max])},c3_chart_fn.zoom.min=function(min){var $$=this.internal,config=$$.config,d3=$$.d3;if(min!==0&&!min)return config.zoom_x_min;config.zoom_x_min=d3.min([$$.orgXDomain[0],min])},c3_chart_fn.zoom.range=function(range){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};isDefined(range.max)&&this.domain.max(range.max),isDefined(range.min)&&this.domain.min(range.min)},c3_chart_fn.load=function(args){var $$=this.internal,config=$$.config;args.xs&&$$.addXs(args.xs),"names"in args&&c3_chart_fn.data.names.bind(this)(args.names),"classes"in args&&Object.keys(args.classes).forEach(function(id){config.data_classes[id]=args.classes[id]}),"categories"in args&&$$.isCategorized()&&(config.axis_x_categories=args.categories),"axes"in args&&Object.keys(args.axes).forEach(function(id){config.data_axes[id]=args.axes[id]}),"colors"in args&&Object.keys(args.colors).forEach(function(id){config.data_colors[id]=args.colors[id]});if("cacheIds"in args&&$$.hasCaches(args.cacheIds)){$$.load($$.getCaches(args.cacheIds),args.done);return}"unload"in args?$$.unload($$.mapToTargetIds(typeof args.unload=="boolean"&&args.unload?null:args.unload),function(){$$.loadFromArgs(args)}):$$.loadFromArgs(args)},c3_chart_fn.unload=function(args){var $$=this.internal;args=args||{},args instanceof Array?args={ids:args}:typeof args=="string"&&(args={ids:[args]}),$$.unload($$.mapToTargetIds(args.ids),function(){$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),args.done&&args.done()})},c3_chart_fn.flow=function(args){var $$=this.internal,targets,data,notfoundIds=[],
orgDataCount=$$.getMaxDataCount(),dataCount,domain,baseTarget,baseValue,length=0,tail=0,diff,to;if(args.json)data=$$.convertJsonToData(args.json,args.keys);else if(args.rows)data=$$.convertRowsToData(args.rows);else{if(!args.columns)return;data=$$.convertColumnsToData(args.columns)}targets=$$.convertDataToTargets(data,!0),$$.data.targets.forEach(function(t){var found=!1,i,j;for(i=0;i<targets.length;i++)if(t.id===targets[i].id){found=!0,t.values[t.values.length-1]&&(tail=t.values[t.values.length-1].index+1),length=targets[i].values.length;for(j=0;j<length;j++)targets[i].values[j].index=tail+j,$$.isTimeSeries()||(targets[i].values[j].x=tail+j);t.values=t.values.concat(targets[i].values),targets.splice(i,1);break}found||notfoundIds.push(t.id)}),$$.data.targets.forEach(function(t){var i,j;for(i=0;i<notfoundIds.length;i++)if(t.id===notfoundIds[i]){tail=t.values[t.values.length-1].index+1;for(j=0;j<length;j++)t.values.push({id:t.id,index:tail+j,x:$$.isTimeSeries()?$$.getOtherTargetX(tail+j):tail+j,value:null})}}),$$.data.targets.length&&targets.forEach(function(t){var i,missing=[];for(i=$$.data.targets[0].values[0].index;i<tail;i++)missing.push({id:t.id,index:i,x:$$.isTimeSeries()?$$.getOtherTargetX(i):i,value:null});t.values.forEach(function(v){v.index+=tail,$$.isTimeSeries()||(v.x+=tail)}),t.values=missing.concat(t.values)}),$$.data.targets=$$.data.targets.concat(targets),dataCount=$$.getMaxDataCount(),baseTarget=$$.data.targets[0],baseValue=baseTarget.values[0],isDefined(args.to)?(length=0,to=$$.isTimeSeries()?$$.parseDate(args.to):args.to,baseTarget.values.forEach(function(v){v.x<to&&length++})):isDefined(args.length)&&(length=args.length),orgDataCount?orgDataCount===1&&$$.isTimeSeries()&&(diff=(baseTarget.values[baseTarget.values.length-1].x-baseValue.x)/2,domain=[new Date(+baseValue.x-diff),new Date(+baseValue.x+diff)],$$.updateXDomain(null,!0,!0,!1,domain)):($$.isTimeSeries()?baseTarget.values.length>1?diff=baseTarget.values[baseTarget.values.length-1].x-baseValue.x:diff=baseValue.x-$$.getXDomain($$.data.targets)[0]:diff=1,domain=[baseValue.x-diff,baseValue.x],$$.updateXDomain(null,!0,!0,!1,domain)),$$.updateTargets($$.data.targets),$$.redraw({flow:{index:baseValue.index,length:length,duration:isValue(args.duration)?args.duration:$$.config.transition_duration,done:args.done,orgDataCount:orgDataCount},withLegend:!0,withTransition:orgDataCount>1,withTrimXDomain:!1,withUpdateXAxis:!0})},c3_chart_internal_fn.generateFlow=function(args){var $$=this,config=$$.config,d3=$$.d3;return function(){var targets=args.targets,flow=args.flow,drawBar=args.drawBar,drawLine=args.drawLine,drawArea=args.drawArea,cx=args.cx,cy=args.cy,xv=args.xv,xForText=args.xForText,yForText=args.yForText,duration=args.duration,translateX,scaleX=1,transform,flowIndex=flow.index,flowLength=flow.length,flowStart=$$.getValueOnIndex($$.data.targets[0].values,flowIndex),flowEnd=$$.getValueOnIndex($$.data.targets[0].values,flowIndex+flowLength),orgDomain=$$.x.domain(),domain,durationForFlow=flow.duration||duration,done=flow.done||function(){},wait=$$.generateWait(),xgrid=$$.xgrid||d3.selectAll([]),xgridLines=$$.xgridLines||d3.selectAll([]),mainRegion=$$.mainRegion||d3.selectAll([]),mainText=$$.mainText||d3.selectAll([]),mainBar=$$.mainBar||d3.selectAll([]),mainLine=$$.mainLine||d3.selectAll([]),mainArea=$$.mainArea||d3.selectAll([]),mainCircle=$$.mainCircle||d3.selectAll([]);$$.flowing=!0,$$.data.targets.forEach(function(d){d.values.splice(0,flowLength)}),domain=$$.updateXDomain(targets,!0,!0),$$.updateXGrid&&$$.updateXGrid(!0),flow.orgDataCount?flow.orgDataCount===1||(flowStart&&flowStart.x)===(flowEnd&&flowEnd.x)?translateX=$$.x(orgDomain[0])-$$.x(domain[0]):$$.isTimeSeries()?translateX=$$.x(orgDomain[0])-$$.x(domain[0]):translateX=$$.x(flowStart.x)-$$.x(flowEnd.x):$$.data.targets[0].values.length!==1?translateX=$$.x(orgDomain[0])-$$.x(domain[0]):$$.isTimeSeries()?(flowStart=$$.getValueOnIndex($$.data.targets[0].values,0),flowEnd=$$.getValueOnIndex($$.data.targets[0].values,$$.data.targets[0].values.length-1),translateX=$$.x(flowStart.x)-$$.x(flowEnd.x)):translateX=diffDomain(domain)/2,scaleX=diffDomain(orgDomain)/diffDomain(domain),transform="translate("+translateX+",0) scale("+scaleX+",1)",$$.hideXGridFocus(),d3.transition().ease("linear").duration(durationForFlow).each(function(){wait.add($$.axes.x.transition().call($$.xAxis)),wait.add(mainBar.transition().attr("transform",transform)),wait.add(mainLine.transition().attr("transform",transform)),wait.add(mainArea.transition().attr("transform",transform)),wait.add(mainCircle.transition().attr("transform",transform)),wait.add(mainText.transition().attr("transform",transform)),wait.add(mainRegion.filter($$.isRegionOnX).transition().attr("transform",transform)),wait.add(xgrid.transition().attr("transform",transform)),wait.add(xgridLines.transition().attr("transform",transform))}).call(wait,function(){var i,shapes=[],texts=[],eventRects=[];if(flowLength){for(i=0;i<flowLength;i++)shapes.push("."+CLASS.shape+"-"+(flowIndex+i)),texts.push("."+CLASS.text+"-"+(flowIndex+i)),eventRects.push("."+CLASS.eventRect+"-"+(flowIndex+i));$$.svg.selectAll("."+CLASS.shapes).selectAll(shapes).remove(),$$.svg.selectAll("."+CLASS.texts).selectAll(texts).remove(),$$.svg.selectAll("."+CLASS.eventRects).selectAll(eventRects).remove(),$$.svg.select("."+CLASS.xgrid).remove()}xgrid.attr("transform",null).attr($$.xgridAttr),xgridLines.attr("transform",null),xgridLines.select("line").attr("x1",config.axis_rotated?0:xv).attr("x2",config.axis_rotated?$$.width:xv),xgridLines.select("text").attr("x",config.axis_rotated?$$.width:0).attr("y",xv),mainBar.attr("transform",null).attr("d",drawBar),mainLine.attr("transform",null).attr("d",drawLine),mainArea.attr("transform",null).attr("d",drawArea),mainCircle.attr("transform",null).attr("cx",cx).attr("cy",cy),mainText.attr("transform",null).attr("x",xForText).attr("y",yForText).style("fill-opacity",$$.opacityForText.bind($$)),mainRegion.attr("transform",null),mainRegion.select("rect").filter($$.isRegionOnX).attr("x",$$.regionX.bind($$)).attr("width",$$.regionWidth.bind($$)),config.interaction_enabled&&$$.redrawEventRect(),done(),$$.flowing=!1})}},c3_chart_fn.selected=function(targetId){var $$=this.internal,d3=$$.d3;return d3.merge($$.main.selectAll("."+CLASS.shapes+$$.getTargetSelectorSuffix(targetId)).selectAll("."+CLASS.shape).filter(function(){return d3.select(this).classed(CLASS.SELECTED)}).map(function(d){return d.map(function(d){var data=d.__data__;return data.data?data.data:data})}))},c3_chart_fn.select=function(ids,indices,resetOther){var $$=this.internal,d3=$$.d3,config=$$.config;if(!config.data_selection_enabled)return;$$.main.selectAll("."+CLASS.shapes).selectAll("."+CLASS.shape).each(function(d,i){var shape=d3.select(this),id=d.data?d.data.id:d.id,toggle=$$.getToggle(this,d).bind($$),isTargetId=config.data_selection_grouped||!ids||ids.indexOf(id)>=0,isTargetIndex=!indices||indices.indexOf(i)>=0,isSelected=shape.classed(CLASS.SELECTED);if(shape.classed(CLASS.line)||shape.classed(CLASS.area))return;isTargetId&&isTargetIndex?config.data_selection_isselectable(d)&&!isSelected&&toggle(!0,shape.classed(CLASS.SELECTED,!0),d,i):isDefined(resetOther)&&resetOther&&isSelected&&toggle(!1,shape.classed(CLASS.SELECTED,!1),d,i)})},c3_chart_fn.unselect=function(ids,indices){var $$=this.internal,d3=$$.d3,config=$$.config;if(!config.data_selection_enabled)return;$$.main.selectAll("."+CLASS.shapes).selectAll("."+CLASS.shape).each(function(d,i){var shape=d3.select(this),id=d.data?d.data.id:d.id,toggle=$$.getToggle(this,d).bind($$),isTargetId=config.data_selection_grouped||!ids||ids.indexOf(id)>=0,isTargetIndex=!indices||indices.indexOf(i)>=0,isSelected=shape.classed(CLASS.SELECTED);if(shape.classed(CLASS.line)||shape.classed(CLASS.area))return;isTargetId&&isTargetIndex&&config.data_selection_isselectable(d)&&isSelected&&toggle(!1,shape.classed(CLASS.SELECTED,!1),d,i)})},c3_chart_fn.transform=function(type,targetIds){var $$=this.internal,options=["pie","donut"].indexOf(type)>=0?{withTransform:!0}:null;$$.transformTo(targetIds,type,options)},c3_chart_internal_fn.transformTo=function(targetIds,type,optionsForRedraw){var $$=this,withTransitionForAxis=!$$.hasArcType(),options=optionsForRedraw||{withTransitionForAxis:withTransitionForAxis};options.withTransitionForTransform=!1,$$.transiting=!1,$$.setTargetType(targetIds,type),$$.updateTargets($$.data.targets),$$.updateAndRedraw(options)},c3_chart_fn.groups=function(groups){var $$=this.internal,config=$$.config;return isUndefined(groups)?config.data_groups:(config.data_groups=groups,$$.redraw(),config.data_groups)},c3_chart_fn.xgrids=function(grids){var $$=this.internal,config=$$.config;return grids?(config.grid_x_lines=grids,$$.redrawWithoutRescale(),config.grid_x_lines):config.grid_x_lines},c3_chart_fn.xgrids.add=function(grids){var $$=this.internal;return this.xgrids($$.config.grid_x_lines.concat(grids?grids:[]))},c3_chart_fn.xgrids.remove=function(params){var $$=this.internal;$$.removeGridLines(params,!0)},c3_chart_fn.ygrids=function(grids){var $$=this.internal,config=$$.config;return grids?(config.grid_y_lines=grids,$$.redrawWithoutRescale(),config.grid_y_lines):config.grid_y_lines},c3_chart_fn.ygrids.add=function(grids){var $$=this.internal;return this.ygrids($$.config.grid_y_lines.concat(grids?grids:[]))},c3_chart_fn.ygrids.remove=function(params){var $$=this.internal;$$.removeGridLines(params,!1)},c3_chart_fn.regions=function(regions){var $$=this.internal,config=$$.config;return regions?(config.regions=regions,$$.redrawWithoutRescale(),config.regions):config.regions},c3_chart_fn.regions.add=function(regions){var $$=this.internal,config=$$.config;return regions?(config.regions=config.regions.concat(regions),$$.redrawWithoutRescale(),config.regions):config.regions},c3_chart_fn.regions.remove=function(options){var $$=this.internal,config=$$.config,duration,classes,regions;return options=options||{},duration=$$.getOption(options,"duration",config.transition_duration),classes=$$.getOption(options,"classes",[CLASS.region]),regions=$$.main.select("."+CLASS.regions).selectAll(classes.map(function(c){return"."+c})),(duration?regions.transition().duration(duration):regions).style("opacity",0).remove(),config.regions=config.regions.filter(function(region){var found=!1;return region["class"]?(region["class"].split(" ").forEach(function(c){classes.indexOf(c)>=0&&(found=!0)}),!found):!0}),config.regions},c3_chart_fn.data=function(targetIds){var targets=this.internal.data.targets;return typeof targetIds=="undefined"?targets:targets.filter(function(t){return[].concat(targetIds).indexOf(t.id)>=0})},c3_chart_fn.data.shown=function(targetIds){return this.internal.filterTargetsToShow(this.data(targetIds))},c3_chart_fn.data.values=function(targetId){var targets,values=null;return targetId&&(targets=this.data(targetId),values=targets[0]?targets[0].values.map(function(d){return d.value}):null),values},c3_chart_fn.data.names=function(names){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",names)},c3_chart_fn.data.colors=function(colors){return this.internal.updateDataAttributes("colors",colors)},c3_chart_fn.data.axes=function(axes){return this.internal.updateDataAttributes("axes",axes)},c3_chart_fn.category=function(i,category){var $$=this.internal,config=$$.config;return arguments.length>1&&(config.axis_x_categories[i]=category,$$.redraw()),config.axis_x_categories[i]},c3_chart_fn.categories=function(categories){var $$=this.internal,config=$$.config;return arguments.length?(config.axis_x_categories=categories,$$.redraw(),config.axis_x_categories):config.axis_x_categories},c3_chart_fn.color=function(id){var $$=this.internal;return $$.color(id)},c3_chart_fn.x=function(x){var $$=this.internal;return arguments.length&&($$.updateTargetX($$.data.targets,x),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),$$.data.xs},c3_chart_fn.xs=function(xs){var $$=this.internal;return arguments.length&&($$.updateTargetXs($$.data.targets,xs),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),$$.data.xs},c3_chart_fn.axis=function(){},c3_chart_fn.axis.labels=function(labels){var $$=this.internal;arguments.length&&(Object.keys(labels).forEach(function(axisId){$$.axis.setLabelText(axisId,labels[axisId])}),$$.axis.updateLabels())},c3_chart_fn.axis.max=function(max){var $$=this.internal,config=$$.config;if(!arguments.length)return{x:config.axis_x_max,y:config.axis_y_max,y2:config.axis_y2_max};typeof max=="object"?(isValue(max.x)&&(config.axis_x_max=max.x),isValue(max.y)&&(config.axis_y_max=max.y),isValue(max.y2)&&(config.axis_y2_max=max.y2)):config.axis_y_max=config.axis_y2_max=max,$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},c3_chart_fn.axis.min=function(min){var $$=this.internal,config=$$.config;if(!arguments.length)return{x:config.axis_x_min,y:config.axis_y_min,y2:config.axis_y2_min};typeof min=="object"?(isValue(min.x)&&(config.axis_x_min=min.x),isValue(min.y)&&(config.axis_y_min=min.y),isValue(min.y2)&&(config.axis_y2_min=min.y2)):config.axis_y_min=config.axis_y2_min=min,$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},c3_chart_fn.axis.range=function(range){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};isDefined(range.max)&&this.axis.max(range.max),isDefined(range.min)&&this.axis.min(range.min)},c3_chart_fn.legend=function(){},c3_chart_fn.legend.show=function(targetIds){var $$=this.internal;$$.showLegend($$.mapToTargetIds(targetIds)),$$.updateAndRedraw({withLegend:!0})},c3_chart_fn.legend.hide=function(targetIds){var $$=this.internal;$$.hideLegend($$.mapToTargetIds(targetIds)),$$.updateAndRedraw({withLegend:!0})},c3_chart_fn.resize=function(size){var $$=this.internal,config=$$.config;config.size_width=size?size.width:null,config.size_height=size?size.height:null,this.flush()},c3_chart_fn.flush=function(){var $$=this.internal;$$.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},c3_chart_fn.destroy=function(){var $$=this.internal;window.clearInterval($$.intervalForObserveInserted),$$.resizeTimeout!==undefined&&window.clearTimeout($$.resizeTimeout);if(window.detachEvent)window.detachEvent("onresize",$$.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",$$.resizeFunction);else{var wrapper=window.onresize;wrapper&&wrapper.add&&wrapper.remove&&wrapper.remove($$.resizeFunction)}return $$.selectChart.classed("c3",!1).html(""),Object.keys($$).forEach(function(key){$$[key]=null}),null},c3_chart_fn.tooltip=function(){},c3_chart_fn.tooltip.show=function(args){var $$=this.internal,index,mouse;args.mouse&&(mouse=args.mouse),args.data?$$.isMultipleX()?(mouse=[$$.x(args.data.x),$$.getYScale(args.data.id)(args.data.value)],index=null):index=isValue(args.data.index)?args.data.index:$$.getIndexByX(args.data.x):typeof args.x!="undefined"?index=$$.getIndexByX(args.x):typeof args.index!="undefined"&&(index=args.index),$$.dispatchEvent("mouseover",index,mouse),$$.dispatchEvent("mousemove",index,mouse),$$.config.tooltip_onshow.call($$,args.data)},c3_chart_fn.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var tickTextCharSize;c3_chart_internal_fn.isSafari=function(){var ua=window.navigator.userAgent;return ua.indexOf("Safari")>=0&&ua.indexOf("Chrome")<0},c3_chart_internal_fn.isChrome=function(){var ua=window.navigator.userAgent;return ua.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(oThis){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};return fNOP.prototype=this.prototype,fBound.prototype=new fNOP,fBound}),function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(type,typeAsLetter,owningPathSegList){this.pathSegType=type,this.pathSegTypeAsLetter=typeAsLetter,this._owningPathSegList=owningPathSegList},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(owningPathSegList){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",owningPathSegList)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(undefined)},window.SVGPathSegMovetoAbs=function(owningPathSegList,x,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",owningPathSegList),this._x=x,this._y=y},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(undefined,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(owningPathSegList,x,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",owningPathSegList),this._x=x,this._y=y},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(undefined,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(owningPathSegList,x,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",owningPathSegList),this._x=x,this._y=y},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(undefined,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(owningPathSegList,x,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",owningPathSegList),this._x=x,this._y=y},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(undefined,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(owningPathSegList,x,y,x1,y1,x2,y2){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",owningPathSegList),this._x=x,this._y=y,this._x1=x1,this._y1=y1,this._x2=x2,this._y2=y2},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(x1){this._x1=x1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(y1){this._y1=y1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(x2){this._x2=x2,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(y2){this._y2=y2,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(owningPathSegList,x,y,x1,y1,x2,y2){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",owningPathSegList),this._x=x,this._y=y,this._x1=x1,this._y1=y1,this._x2=x2,this._y2=y2},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(x1){this._x1=x1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(y1){this._y1=y1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(x2){this._x2=x2,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(y2){this._y2=y2,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(owningPathSegList,x,y,x1,y1){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",owningPathSegList),this._x=x,this._y=y,this._x1=x1,this._y1=y1},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(x1){this._x1=x1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(y1){this._y1=y1,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(owningPathSegList,x,y,x1,y1){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",owningPathSegList),this._x=x,this._y=y,this._x1=x1,this._y1=y1},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(x1){this._x1=x1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(y1){this._y1=y1,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(owningPathSegList,x,y,r1,r2,angle,largeArcFlag,sweepFlag){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",owningPathSegList),this._x=x,this._y=y,this._r1=r1,this._r2=r2,this._angle=angle,this._largeArcFlag=largeArcFlag,this._sweepFlag=sweepFlag},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(r1){this._r1=r1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(r2){this._r2=r2,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(angle){this._angle=angle,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(largeArcFlag){this._largeArcFlag=largeArcFlag,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(sweepFlag){this._sweepFlag=sweepFlag,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(owningPathSegList,x,y,r1,r2,angle,largeArcFlag,sweepFlag){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",owningPathSegList),this._x=x,this._y=y,this._r1=r1,this._r2=r2,this._angle=angle,this._largeArcFlag=largeArcFlag,this._sweepFlag=sweepFlag},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(r1){this._r1=r1,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(r2){this._r2=r2,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(angle){this._angle=angle,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(largeArcFlag){this._largeArcFlag=largeArcFlag,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(sweepFlag){this._sweepFlag=sweepFlag,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(owningPathSegList,x){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",owningPathSegList),this._x=x},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(undefined,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(owningPathSegList,x){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",owningPathSegList),this._x=x},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(undefined,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(owningPathSegList,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",owningPathSegList),this._y=y},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs
.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(undefined,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(owningPathSegList,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",owningPathSegList),this._y=y},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(undefined,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(owningPathSegList,x,y,x2,y2){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",owningPathSegList),this._x=x,this._y=y,this._x2=x2,this._y2=y2},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(x2){this._x2=x2,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(y2){this._y2=y2,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(owningPathSegList,x,y,x2,y2){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",owningPathSegList),this._x=x,this._y=y,this._x2=x2,this._y2=y2},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(x2){this._x2=x2,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(y2){this._y2=y2,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(owningPathSegList,x,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",owningPathSegList),this._x=x,this._y=y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(owningPathSegList,x,y){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",owningPathSegList),this._x=x,this._y=y},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(x){this._x=x,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(y){this._y=y,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(undefined)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(x,y){return new SVGPathSegMovetoAbs(undefined,x,y)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(x,y){return new SVGPathSegMovetoRel(undefined,x,y)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(x,y){return new SVGPathSegLinetoAbs(undefined,x,y)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(x,y){return new SVGPathSegLinetoRel(undefined,x,y)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(x,y,x1,y1,x2,y2){return new SVGPathSegCurvetoCubicAbs(undefined,x,y,x1,y1,x2,y2)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(x,y,x1,y1,x2,y2){return new SVGPathSegCurvetoCubicRel(undefined,x,y,x1,y1,x2,y2)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(x,y,x1,y1){return new SVGPathSegCurvetoQuadraticAbs(undefined,x,y,x1,y1)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(x,y,x1,y1){return new SVGPathSegCurvetoQuadraticRel(undefined,x,y,x1,y1)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(x,y,r1,r2,angle,largeArcFlag,sweepFlag){return new SVGPathSegArcAbs(undefined,x,y,r1,r2,angle,largeArcFlag,sweepFlag)},SVGPathElement.prototype.createSVGPathSegArcRel=function(x,y,r1,r2,angle,largeArcFlag,sweepFlag){return new SVGPathSegArcRel(undefined,x,y,r1,r2,angle,largeArcFlag,sweepFlag)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(x){return new SVGPathSegLinetoHorizontalAbs(undefined,x)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(x){return new SVGPathSegLinetoHorizontalRel(undefined,x)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(y){return new SVGPathSegLinetoVerticalAbs(undefined,y)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(y){return new SVGPathSegLinetoVerticalRel(undefined,y)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(x,y,x2,y2){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,x,y,x2,y2)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(x,y,x2,y2){return new SVGPathSegCurvetoCubicSmoothRel(undefined,x,y,x2,y2)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(x,y){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,x,y)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(x,y){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,x,y)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(pathElement){this._pathElement=pathElement,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(mutationRecords){if(!this._pathElement)return;var hasPathMutations=!1;mutationRecords.forEach(function(record){record.attributeName=="d"&&(hasPathMutations=!0)}),hasPathMutations&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(pathSeg){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(pathSeg){pathSeg._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(newItem){return this._checkPathSynchronizedToList(),this._list=[newItem],newItem._owningPathSegList=this,this._writeListToPath(),newItem},SVGPathSegList.prototype._checkValidIndex=function(index){if(isNaN(index)||index<0||index>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(index){return this._checkPathSynchronizedToList(),this._checkValidIndex(index),this._list[index]},SVGPathSegList.prototype.insertItemBefore=function(newItem,index){return this._checkPathSynchronizedToList(),index>this.numberOfItems&&(index=this.numberOfItems),newItem._owningPathSegList&&(newItem=newItem.clone()),this._list.splice(index,0,newItem),newItem._owningPathSegList=this,this._writeListToPath(),newItem},SVGPathSegList.prototype.replaceItem=function(newItem,index){return this._checkPathSynchronizedToList(),newItem._owningPathSegList&&(newItem=newItem.clone()),this._checkValidIndex(index),this._list[index]=newItem,newItem._owningPathSegList=this,this._writeListToPath(),newItem},SVGPathSegList.prototype.removeItem=function(index){this._checkPathSynchronizedToList(),this._checkValidIndex(index);var item=this._list[index];return this._list.splice(index,1),this._writeListToPath(),item},SVGPathSegList.prototype.appendItem=function(newItem){return this._checkPathSynchronizedToList(),newItem._owningPathSegList&&(newItem=newItem.clone()),this._list.push(newItem),newItem._owningPathSegList=this,this._writeListToPath(),newItem},SVGPathSegList._pathSegArrayAsString=function(pathSegArray){var string="",first=!0;return pathSegArray.forEach(function(pathSeg){first?(first=!1,string+=pathSeg._asPathString()):string+=" "+pathSeg._asPathString()}),string},SVGPathSegList.prototype._parsePath=function(string){if(!string||string.length==0)return[];var owningPathSegList=this,Builder=function(){this.pathSegList=[]};Builder.prototype.appendSegment=function(pathSeg){this.pathSegList.push(pathSeg)};var Source=function(string){this._string=string,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};Source.prototype._isCurrentSpace=function(){var character=this._string[this._currentIndex];return character<=" "&&(character==" "||character=="\n"||character=="	"||character=="\r"||character=="\f")},Source.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace())this._currentIndex++;return this._currentIndex<this._endIndex},Source.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},Source.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},Source.prototype.peekSegmentType=function(){var lookahead=this._string[this._currentIndex];return this._pathSegTypeFromChar(lookahead)},Source.prototype._pathSegTypeFromChar=function(lookahead){switch(lookahead){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},Source.prototype._nextCommandHelper=function(lookahead,previousCommand){return(lookahead=="+"||lookahead=="-"||lookahead=="."||lookahead>="0"&&lookahead<="9")&&previousCommand!=SVGPathSeg.PATHSEG_CLOSEPATH?previousCommand==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:previousCommand==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:previousCommand:SVGPathSeg.PATHSEG_UNKNOWN},Source.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var command=this.peekSegmentType();return command==SVGPathSeg.PATHSEG_MOVETO_ABS||command==SVGPathSeg.PATHSEG_MOVETO_REL},Source.prototype._parseNumber=function(){var exponent=0,integer=0,frac=1,decimal=0,sign=1,expsign=1,startIndex=this._currentIndex;this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,sign=-1);if(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return undefined;var startIntPartIndex=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")this._currentIndex++;if(this._currentIndex!=startIntPartIndex){var scanIntPartIndex=this._currentIndex-1,multiplier=1;while(scanIntPartIndex>=startIntPartIndex)integer+=multiplier*(this._string.charAt(scanIntPartIndex--)-"0"),multiplier*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")decimal+=(this._string.charAt(this._currentIndex++)-"0")*(frac*=.1)}if(this._currentIndex!=startIndex&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,expsign=-1);if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")exponent*=10,exponent+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var number=integer+decimal;return number*=sign,exponent&&(number*=Math.pow(10,expsign*exponent)),startIndex==this._currentIndex?undefined:(this._skipOptionalSpacesOrDelimiter(),number)},Source.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var flag=!1,flagChar=this._string.charAt(this._currentIndex++);if(flagChar=="0")flag=!1;else{if(flagChar!="1")return undefined;flag=!0}return this._skipOptionalSpacesOrDelimiter(),flag},Source.prototype.parseSegment=function(){var lookahead=this._string[this._currentIndex],command=this._pathSegTypeFromChar(lookahead);if(command==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;command=this._nextCommandHelper(lookahead,this._previousCommand);if(command==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;this._previousCommand=command;switch(command){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(owningPathSegList,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(owningPathSegList,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(owningPathSegList,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(owningPathSegList,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(owningPathSegList,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(owningPathSegList,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(owningPathSegList,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(owningPathSegList,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(owningPathSegList);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var points={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(owningPathSegList,points.x,points.y,points.x1,points.y1,points.x2,points.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var points={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(owningPathSegList,points.x,points.y,points.x1,points.y1,points.x2,points.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var points={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(owningPathSegList,points.x,points.y,points.x2,points.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var points={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList,points.x,points.y,points.x2,points.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var points={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(owningPathSegList,points.x,points.y,points.x1,points.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var points={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(owningPathSegList,points.x,points.y,points.x1,points.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var points={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(owningPathSegList,points.x,points.y,points.x1,points.y1,points.arcAngle,points.arcLarge,points.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var points={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(owningPathSegList,points.x,points.y,points.x1,points.y1,points.arcAngle,points.arcLarge,points.arcSweep);default:throw"Unknown path seg type."}};var builder=new Builder,source=new Source(string);if(!source.initialCommandIsMoveTo())return[];while(source.hasMoreData()){var pathSeg=source.parseSegment();if(!pathSeg)return[];builder.appendSegment(pathSeg)}return builder.pathSegList})}(),typeof define=="function"&&define.amd?define("c3",["d3"],function(){return c3}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c3:window.c3=c3})(window)},{d3:530}],234:[function(require,module,exports){require("../../modules/es6.string.iterator"),require("../../modules/es6.array.is-array"),require("../../modules/es6.array.from"),require("../../modules/es6.array.of"),require("../../modules/es6.array.join"),require("../../modules/es6.array.slice"),require("../../modules/es6.array.sort"),require("../../modules/es6.array.for-each"),require("../../modules/es6.array.map"),require("../../modules/es6.array.filter"),require("../../modules/es6.array.some"),require("../../modules/es6.array.every"),require("../../modules/es6.array.reduce"),require("../../modules/es6.array.reduce-right"),require("../../modules/es6.array.index-of"),require("../../modules/es6.array.last-index-of"),require("../../modules/es6.array.copy-within"),require("../../modules/es6.array.fill"),require("../../modules/es6.array.find"),require("../../modules/es6.array.find-index"),require("../../modules/es6.array.species"),require("../../modules/es6.array.iterator"),require("../../modules/es7.array.includes"),module.exports=require("../../modules/_core").Array},{"../../modules/_core":256,"../../modules/es6.array.copy-within":354,"../../modules/es6.array.every":355,"../../modules/es6.array.fill":356,"../../modules/es6.array.filter":357,"../../modules/es6.array.find":359,"../../modules/es6.array.find-index":358,"../../modules/es6.array.for-each":360,"../../modules/es6.array.from":361,"../../modules/es6.array.index-of":362,"../../modules/es6.array.is-array":363,"../../modules/es6.array.iterator":364,"../../modules/es6.array.join":365,"../../modules/es6.array.last-index-of":366,"../../modules/es6.array.map":367,"../../modules/es6.array.of":368,"../../modules/es6.array.reduce":370,"../../modules/es6.array.reduce-right":369,"../../modules/es6.array.slice":371,"../../modules/es6.array.some":372,"../../modules/es6.array.sort":373,"../../modules/es6.array.species":374,"../../modules/es6.string.iterator":467,"../../modules/es7.array.includes":491}],235:[function(require,module,exports){require("../../modules/core.regexp.escape"),module.exports=require("../../modules/_core").RegExp.escape},{"../../modules/_core":256,"../../modules/core.regexp.escape":353}],236:[function(require,module,exports){module.exports=function(it){if(typeof it!="function")throw TypeError(it+" is not a function!");return it}},{}],237:[function(require,module,exports){var cof=require("./_cof");module.exports=function(it,msg){if(typeof it!="number"&&cof(it)!="Number")throw TypeError(msg);return+it}},{"./_cof":251}],238:[function(require,module,exports){var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;ArrayProto[UNSCOPABLES]==undefined&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},{"./_hide":273,"./_wks":350}],239:[function(require,module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||forbiddenField!==undefined&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},{}],240:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":282}],241:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),toIndex=require("./_to-index"),toLength=require("./_to-length");module.exports=[].copyWithin||function copyWithin(target,start){var O=toObject(this),len=toLength(O.length),to=toIndex(target,len),from=toIndex(start,len),end=arguments.length>2?arguments[2]:undefined,count=Math.min((end===undefined?len:toIndex(end,len))-from,len-to),inc=1;from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);while(count-->0)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},{"./_to-index":338,"./_to-length":341,"./_to-object":342}],242:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),toIndex=require("./_to-index"),toLength=require("./_to-length");module.exports=function fill(value){var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toIndex(aLen>1?arguments[1]:undefined,length),end=aLen>2?arguments[2]:undefined,endPos=end===undefined?length:toIndex(end,length);while(endPos>index)O[index++]=value;return O}},{"./_to-index":338,"./_to-length":341,"./_to-object":342}],243:[function(require,module,exports){var forOf=require("./_for-of");module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}},{"./_for-of":270}],244:[function(require,module,exports){var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toIndex=require("./_to-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length),value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return!0}else for(;length>index;index++)if(IS_INCLUDES||index in O)if(O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},{"./_to-index":338,"./_to-iobject":340,"./_to-length":341}],245:[function(require,module,exports){var ctx=require("./_ctx"),IObject=require("./_iobject"),toObject=require("./_to-object"),toLength=require("./_to-length"),asc=require("./_array-species-create");module.exports=function(TYPE,$create){var IS_MAP=TYPE==1,IS_FILTER=TYPE==2,IS_SOME=TYPE==3,IS_EVERY=TYPE==4,IS_FIND_INDEX=TYPE==6,NO_HOLES=TYPE==5||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){var O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined,val,res;for(;length>index;index++)if(NO_HOLES||index in self){val=self[index],res=f(val,index,O);if(TYPE)if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},{"./_array-species-create":248,"./_ctx":258,"./_iobject":278,"./_to-length":341,"./_to-object":342}],246:[function(require,module,exports){var aFunction=require("./_a-function"),toObject=require("./_to-object"),IObject=require("./_iobject"),toLength=require("./_to-length");module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index],index+=i;break}index+=i;if(isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},{"./_a-function":236,"./_iobject":278,"./_to-length":341,"./_to-object":342}],247:[function(require,module,exports){var isObject=require("./_is-object"),isArray=require("./_is-array"),SPECIES=require("./_wks")("species");module.exports=function(original){var C;return isArray(original)&&(C=original.constructor,typeof C=="function"&&(C===Array||isArray(C.prototype))&&(C=undefined),isObject(C)&&(C=C[SPECIES],C===null&&(C=undefined))),C===undefined?Array:C}},{"./_is-array":280,"./_is-object":282,"./_wks":350}],248:[function(require,module,exports){var speciesConstructor=require("./_array-species-constructor");module.exports=function(original,length){return new(speciesConstructor(original))(length)}},{"./_array-species-constructor":247}],249:[function(require,module,exports){"use strict";var aFunction=require("./_a-function"),isObject=require("./_is-object"),invoke=require("./_invoke"),arraySlice=[].slice,factories={},construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};module.exports=Function.bind||function bind(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}},{"./_a-function":236,"./_invoke":277,"./_is-object":282}],250:[function(require,module,exports){var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG=cof(function(){return arguments}())=="Arguments",tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return it===undefined?"Undefined":it===null?"Null":typeof (T=tryGet(O=Object(it),TAG))=="string"?T:ARG?cof(O):(B=cof(O))=="Object"&&typeof O.callee=="function"?"Arguments":B}},{"./_cof":251,"./_wks":350}],251:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],252:[function(require,module,exports){"use strict";var dP=require("./_object-dp").f,create=require("./_object-create"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),defined=require("./_defined"),forOf=require("./_for-of"),$iterDefine=require("./_iter-define"),step=require("./_iter-step"),setSpecies=require("./_set-species"),DESCRIPTORS=require("./_descriptors"),fastKey=require("./_meta").fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var index=fastKey(key),entry;if(index!=="F")return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=create(null),that._f=undefined,that._l=undefined,that[SIZE]=0,iterable!=undefined&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function clear(){for(var that=this,data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=undefined),delete data[entry.i];that._f=that._l=undefined,that
[SIZE]=0},"delete":function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function forEach(callbackfn){anInstance(this,C,"forEach");var f=ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3),entry;while(entry=entry?entry.n:this._f){f(entry.v,entry.k,this);while(entry&&entry.r)entry=entry.p}},has:function has(key){return!!getEntry(this,key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return defined(this[SIZE])}}),C},def:function(that,key,value){var entry=getEntry(that,key),prev,index;return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:undefined,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,index!=="F"&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=iterated,this._k=kind,this._l=undefined},function(){var that=this,kind=that._k,entry=that._l;while(entry&&entry.r)entry=entry.p;return!that._t||!(that._l=entry=entry?entry.n:that._t._f)?(that._t=undefined,step(1)):kind=="keys"?step(0,entry.k):kind=="values"?step(0,entry.v):step(0,[entry.k,entry.v])},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},{"./_an-instance":239,"./_ctx":258,"./_defined":260,"./_descriptors":261,"./_for-of":270,"./_hide":273,"./_iter-define":286,"./_iter-step":288,"./_meta":295,"./_object-create":299,"./_object-dp":300,"./_redefine-all":319,"./_set-species":324}],253:[function(require,module,exports){var classof=require("./_classof"),from=require("./_array-from-iterable");module.exports=function(NAME){return function toJSON(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},{"./_array-from-iterable":243,"./_classof":250}],254:[function(require,module,exports){"use strict";var redefineAll=require("./_redefine-all"),getWeak=require("./_meta").getWeak,anObject=require("./_an-object"),isObject=require("./_is-object"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),createArrayMethod=require("./_array-methods"),$has=require("./_has"),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},"delete":function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=id++,that._l=undefined,iterable!=undefined&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{"delete":function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(this)["delete"](key):data&&$has(data,this._i)&&delete data[this._i]},has:function has(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return data===!0?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},{"./_an-instance":239,"./_an-object":240,"./_array-methods":245,"./_for-of":270,"./_has":272,"./_is-object":282,"./_meta":295,"./_redefine-all":319}],255:[function(require,module,exports){"use strict";var global=require("./_global"),$export=require("./_export"),redefine=require("./_redefine"),redefineAll=require("./_redefine-all"),meta=require("./_meta"),forOf=require("./_for-of"),anInstance=require("./_an-instance"),isObject=require("./_is-object"),fails=require("./_fails"),$iterDetect=require("./_iter-detect"),setToStringTag=require("./_set-to-string-tag"),inheritIfRequired=require("./_inherit-if-required");module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,KEY=="delete"?function(a){return IS_WEAK&&!isObject(a)?!1:fn.call(this,a===0?0:a)}:KEY=="has"?function has(a){return IS_WEAK&&!isObject(a)?!1:fn.call(this,a===0?0:a)}:KEY=="get"?function get(a){return IS_WEAK&&!isObject(a)?undefined:fn.call(this,a===0?0:a)}:KEY=="add"?function add(a){return fn.call(this,a===0?0:a),this}:function set(a,b){return fn.call(this,a===0?0:a,b),this})};if(typeof C!="function"||!(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()})))C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;else{var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){var $instance=new C,index=5;while(index--)$instance[ADDER](index,index);return!$instance.has(0)});ACCEPT_ITERABLES||(C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return iterable!=undefined&&forOf(iterable,IS_MAP,that[ADDER],that),that}),C.prototype=proto,proto.constructor=C);if(THROWS_ON_PRIMITIVES||BUGGY_ZERO)fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get");(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},{"./_an-instance":239,"./_export":265,"./_fails":267,"./_for-of":270,"./_global":271,"./_inherit-if-required":276,"./_is-object":282,"./_iter-detect":287,"./_meta":295,"./_redefine":320,"./_redefine-all":319,"./_set-to-string-tag":325}],256:[function(require,module,exports){var core=module.exports={version:"2.4.0"};typeof __e=="number"&&(__e=core)},{}],257:[function(require,module,exports){"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},{"./_object-dp":300,"./_property-desc":318}],258:[function(require,module,exports){var aFunction=require("./_a-function");module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":236}],259:[function(require,module,exports){"use strict";var anObject=require("./_an-object"),toPrimitive=require("./_to-primitive"),NUMBER="number";module.exports=function(hint){if(hint!=="string"&&hint!==NUMBER&&hint!=="default")throw TypeError("Incorrect hint");return toPrimitive(anObject(this),hint!=NUMBER)}},{"./_an-object":240,"./_to-primitive":343}],260:[function(require,module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},{}],261:[function(require,module,exports){module.exports=!require("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":267}],262:[function(require,module,exports){var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":271,"./_is-object":282}],263:[function(require,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],264:[function(require,module,exports){var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie");module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols){var symbols=getSymbols(it),isEnum=pIE.f,i=0,key;while(symbols.length>i)isEnum.call(it,key=symbols[i++])&&result.push(key)}return result}},{"./_object-gops":306,"./_object-keys":309,"./_object-pie":310}],265:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),PROTOTYPE="prototype",$export=function(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE],exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={}),key,own,out,exp;IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&target[key]!==undefined,out=(own?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&typeof out=="function"?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{"./_core":256,"./_ctx":258,"./_global":271,"./_hide":273,"./_redefine":320}],266:[function(require,module,exports){var MATCH=require("./_wks")("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},{"./_wks":350}],267:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],268:[function(require,module,exports){"use strict";var hide=require("./_hide"),redefine=require("./_redefine"),fails=require("./_fails"),defined=require("./_defined"),wks=require("./_wks");module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),fns=exec(defined,SYMBOL,""[KEY]),strfn=fns[0],rxfn=fns[1];fails(function(){var O={};return O[SYMBOL]=function(){return 7},""[KEY](O)!=7})&&(redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,length==2?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)}))}},{"./_defined":260,"./_fails":267,"./_hide":273,"./_redefine":320,"./_wks":350}],269:[function(require,module,exports){"use strict";var anObject=require("./_an-object");module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},{"./_an-object":240}],270:[function(require,module,exports){var ctx=require("./_ctx"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),anObject=require("./_an-object"),toLength=require("./_to-length"),getIterFn=require("./core.get-iterator-method"),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0,length,step,iterator,result;if(typeof iterFn!="function")throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++){result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);if(result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){result=call(iterator,f,step.value,entries);if(result===BREAK||result===RETURN)return result}};exports.BREAK=BREAK,exports.RETURN=RETURN},{"./_an-object":240,"./_ctx":258,"./_is-array-iter":279,"./_iter-call":284,"./_to-length":341,"./core.get-iterator-method":351}],271:[function(require,module,exports){var global=module.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=global)},{}],272:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],273:[function(require,module,exports){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{"./_descriptors":261,"./_object-dp":300,"./_property-desc":318}],274:[function(require,module,exports){module.exports=require("./_global").document&&document.documentElement},{"./_global":271}],275:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":261,"./_dom-create":262,"./_fails":267}],276:[function(require,module,exports){var isObject=require("./_is-object"),setPrototypeOf=require("./_set-proto").set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&typeof S=="function"&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},{"./_is-object":282,"./_set-proto":323}],277:[function(require,module,exports){module.exports=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},{}],278:[function(require,module,exports){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return cof(it)=="String"?it.split(""):Object(it)}},{"./_cof":251}],279:[function(require,module,exports){var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{"./_iterators":289,"./_wks":350}],280:[function(require,module,exports){var cof=require("./_cof");module.exports=Array.isArray||function isArray(arg){return cof(arg)=="Array"}},{"./_cof":251}],281:[function(require,module,exports){var isObject=require("./_is-object"),floor=Math.floor;module.exports=function isInteger(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},{"./_is-object":282}],282:[function(require,module,exports){module.exports=function(it){return typeof it=="object"?it!==null:typeof it=="function"}},{}],283:[function(require,module,exports){var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:cof(it)=="RegExp")}},{"./_cof":251,"./_is-object":282,"./_wks":350}],284:[function(require,module,exports){var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];throw ret!==undefined&&anObject(ret.call(iterator)),e}}},{"./_an-object":240}],285:[function(require,module,exports){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":273,"./_object-create":299,"./_property-desc":318,"./_set-to-string-tag":325,"./_wks":350}],286:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),has=require("./_has"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:undefined,$anyNative=NAME=="Array"?proto.entries||$native:$native,methods,key,IteratorPrototype;$anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)),IteratorPrototype!==Object.prototype&&(setToStringTag(IteratorPrototype,TAG,!0),!LIBRARY&&!has(IteratorPrototype,ITERATOR)&&hide(IteratorPrototype,ITERATOR,returnThis))),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),(!LIBRARY||FORCED)&&(BUGGY||VALUES_BUG||!proto[ITERATOR])&&hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods)}return methods}},{"./_export":265,"./_has":272,"./_hide":273,"./_iter-create":285,"./_iterators":289,"./_library":291,"./_object-gpo":307,"./_redefine":320,"./_set-to-string-tag":325,"./_wks":350}],287:[function(require,module,exports){var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},{"./_wks":350}],288:[function(require,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],289:[function(require,module,exports){module.exports={}},{}],290:[function(require,module,exports){var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject");module.exports=function(object,el){var O=toIObject(object),keys=getKeys(O),length=keys.length,index=0,key;while(length>index)if(O[key=keys[index++]]===el)return key}},{"./_object-keys":309,"./_to-iobject":340}],291:[function(require,module,exports){module.exports=!1},{}],292:[function(require,module,exports){var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function expm1(x){return(x=+x)==0?x:x>-0.000001&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1},{}],293:[function(require,module,exports){module.exports=Math.log1p||function log1p(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)}},{}],294:[function(require,module,exports){module.exports=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1}},{}],295:[function(require,module,exports){var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},{"./_fails":267,"./_has":272,"./_is-object":282,"./_object-dp":300,"./_uid":347}],296:[function(require,module,exports){var Map=require("./es6.map"),$export=require("./_export"),shared=require("./_shared")("metadata"),store=shared.store||(shared.store=new(require("./es6.weak-map"))),getOrCreateMetadataMap=function(target,targetKey,create){var targetMetadata=store.get(target);if(!targetMetadata){if(!create)return undefined;store.set(target,targetMetadata=new Map)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return undefined;targetMetadata.set(targetKey,keyMetadata=new Map)}return keyMetadata},ordinaryHasOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return metadataMap===undefined?!1:metadataMap.has(MetadataKey)},ordinaryGetOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return metadataMap===undefined?undefined:metadataMap.get(MetadataKey)},ordinaryDefineOwnMetadata=function(MetadataKey,MetadataValue,O,P){getOrCreateMetadataMap(O,P,!0).set(MetadataKey,MetadataValue)},ordinaryOwnMetadataKeys=function(target,targetKey){var metadataMap=getOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){keys.push(key)}),keys},toMetaKey=function(it){return it===undefined||typeof it=="symbol"?it:String(it)},exp=function(O){$export($export.S,"Reflect",O)};module.exports={store:store,map:getOrCreateMetadataMap,has:ordinaryHasOwnMetadata,get:ordinaryGetOwnMetadata,set:ordinaryDefineOwnMetadata,keys:ordinaryOwnMetadataKeys,key:toMetaKey,exp:exp}},{"./_export":265,"./_shared":327,"./es6.map":383,"./es6.weak-map":489}],297:[function(require,module,exports){var global=require("./_global"),macrotask=require("./_task").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode=require("./_cof")(process)=="process";module.exports=function(){var head,last,notify,flush=function(){var parent,fn;isNode&&(parent=process.domain)&&parent.exit();while(head){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=undefined,e}}last=undefined,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");(new Observer(flush)).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:undefined};last&&(last.next=task),head||(head=task,notify()),last=task}}},{"./_cof":251,"./_global":271,"./_task":337}],298:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie"),toObject=require("./_to-object"),IObject=require("./_iobject"),$assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),$assign({},A)[S]!=7||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;while(aLen>index){var S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0,key;while(length>j)isEnum.call(S,key=keys[j++])&&(T[key]=S[key])}return T}:$assign},{"./_fails":267,"./_iobject":278,"./_object-gops":306,"./_object-keys":309,"./_object-pie":310,"./_to-object":342}],299:[function(require,module,exports){var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length,gt=">",iframeDocument;iframe.style.display="none",require("./_html").appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write("<script>document.F=Object</script"+gt),iframeDocument.close(),createDict=iframeDocument.F;while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return O!==null?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),Properties===undefined?result:dPs(result,Properties)}},{"./_an-object":240,"./_dom-create":262,"./_enum-bug-keys":263,"./_html":274,"./_object-dps":301,"./_shared-key":326}],300:[function(require,module,exports){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function defineProperty(O,P,Attributes){anObject(O),P=toPrimitive(P,!0),anObject(Attributes);if(IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"./_an-object":240,"./_descriptors":261,"./_ie8-dom-define":275,"./_to-primitive":343}],301:[function(require,module,exports){var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=getKeys(Properties),length=keys.length,i=0,P;while(length>i)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":240,"./_descriptors":261,"./_object-dp":300,"./_object-keys":309}],302:[function(require,module,exports){module.exports=require("./_library")||!require("./_fails")(function(){var K=Math.random();__defineSetter__.call(null,K,function(){}),delete require("./_global")[K]})},{"./_fails":267,"./_global":271,"./_library":291}],303:[function(require,module,exports){var pIE=require("./_object-pie"),createDesc=require("./_property-desc"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),has=require("./_has"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function getOwnPropertyDescriptor(O,P){O=toIObject(O),P=toPrimitive(P,!0);if(IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},{"./_descriptors":261,"./_has":272,"./_ie8-dom-define":275,"./_object-pie":310,"./_property-desc":318,"./_to-iobject":340,"./_to-primitive":343}],304:[function(require,module,exports){var toIObject=require("./_to-iobject"),gOPN=require("./_object-gopn").f,toString={}.toString,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function getOwnPropertyNames(it){return windowNames&&toString.call(it)=="[object Window]"?getWindowNames(it):gOPN(toIObject(it))}},{"./_object-gopn":305,"./_to-iobject":340}],305:[function(require,module,exports){var $keys=require("./_object-keys-internal"),hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},{"./_enum-bug-keys":263,"./_object-keys-internal":308}],306:[function(require,module,exports){exports.f=Object.getOwnPropertySymbols},{}],307:[function(require,module,exports){var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:typeof O.constructor=="function"&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},{"./_has":272,"./_shared-key":326,"./_to-object":342}],308:[function(require,module,exports){var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var O=toIObject(object),i=0,result=[],key;for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);while(names.length>i)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},{"./_array-includes":244,"./_has":272,"./_shared-key":326,"./_to-iobject":340}],309:[function(require,module,exports){var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":263,"./_object-keys-internal":308}],310:[function(require,module,exports){exports.f={}.propertyIsEnumerable},{}],311:[function(require,module,exports){var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":256,"./_export":265,"./_fails":267}],312:[function(require,module,exports){var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject"),isEnum=require("./_object-pie").f;module.exports=function(isEntries){return function(it){var O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[],key;while(length>i)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},{"./_object-keys":309,"./_object-pie":310,"./_to-iobject":340}],313:[function(require,module,exports){var gOPN=require("./_object-gopn"),gOPS=require("./_object-gops"),anObject=require("./_an-object"),Reflect=require("./_global").Reflect;module.exports=Reflect&&Reflect.ownKeys||function ownKeys(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},{"./_an-object":240,"./_global":271,"./_object-gopn":305,"./_object-gops":306}],314:[function(require,module,exports){var $parseFloat=require("./_global").parseFloat,$trim=require("./_string-trim").trim;module.exports=1/$parseFloat(require("./_string-ws")+"-0")!==-Infinity?function parseFloat(str){var string=$trim(String(str),3),result=$parseFloat(string);return result===0&&string.charAt(0)=="-"?0:result}:$parseFloat},{"./_global":271,"./_string-trim":335,"./_string-ws":336}],315:[function(require,module,exports){var $parseInt=require("./_global").parseInt,$trim=require("./_string-trim").trim,ws=require("./_string-ws"),hex=/^[\-+]?0[xX]/;module.exports=$parseInt(ws+"08")!==8||$parseInt(ws+"0x16")!==22?function parseInt(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},{"./_global":271,"./_string-trim":335,"./_string-ws":336}],316:[function(require,module,exports){"use strict";var path=require("./_path"),invoke=require("./_invoke"),aFunction=require("./_a-function");module.exports=function(){var fn=aFunction(this),length=arguments.length,pargs=Array(length),i=0,_=path._,holder=!1;while(length>i)(pargs[i]=arguments[i++])===_&&(holder=!0);return function(){var that=this,aLen=arguments.length,j=0,k=0,args;if(!holder&&!aLen)return invoke(fn,pargs,that);args=pargs.slice();if(holder)for(;length>j;j++)args[j]===_&&(args[j]=arguments[k++]);while(aLen>k)args.push(arguments[k++]);return invoke(fn,args,that)}}},{"./_a-function":236,"./_invoke":277,"./_path":317}],317:[function(require,module,exports){module.exports=require("./_global")},{"./_global":271}],318:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable
:!(bitmap&4),value:value}}},{}],319:[function(require,module,exports){var redefine=require("./_redefine");module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},{"./_redefine":320}],320:[function(require,module,exports){var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),TO_STRING="toString",$toString=Function[TO_STRING],TPL=(""+$toString).split(TO_STRING);require("./_core").inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction=typeof val=="function";isFunction&&(has(val,"name")||hide(val,"name",key));if(O[key]===val)return;isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val))})(Function.prototype,TO_STRING,function toString(){return typeof this=="function"&&this[SRC]||$toString.call(this)})},{"./_core":256,"./_global":271,"./_has":272,"./_hide":273,"./_uid":347}],321:[function(require,module,exports){module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part]}:replace;return function(it){return String(it).replace(regExp,replacer)}}},{}],322:[function(require,module,exports){module.exports=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y}},{}],323:[function(require,module,exports){var isObject=require("./_is-object"),anObject=require("./_an-object"),check=function(O,proto){anObject(O);if(!isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function setPrototypeOf(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):undefined),check:check}},{"./_an-object":240,"./_ctx":258,"./_is-object":282,"./_object-gopd":303}],324:[function(require,module,exports){"use strict";var global=require("./_global"),dP=require("./_object-dp"),DESCRIPTORS=require("./_descriptors"),SPECIES=require("./_wks")("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},{"./_descriptors":261,"./_global":271,"./_object-dp":300,"./_wks":350}],325:[function(require,module,exports){var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},{"./_has":272,"./_object-dp":300,"./_wks":350}],326:[function(require,module,exports){var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":327,"./_uid":347}],327:[function(require,module,exports){var global=require("./_global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},{"./_global":271}],328:[function(require,module,exports){var anObject=require("./_an-object"),aFunction=require("./_a-function"),SPECIES=require("./_wks")("species");module.exports=function(O,D){var C=anObject(O).constructor,S;return C===undefined||(S=anObject(C)[SPECIES])==undefined?D:aFunction(S)}},{"./_a-function":236,"./_an-object":240,"./_wks":350}],329:[function(require,module,exports){var fails=require("./_fails");module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},{"./_fails":267}],330:[function(require,module,exports){var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that)),i=toInteger(pos),l=s.length,a,b;return i<0||i>=l?TO_STRING?"":undefined:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}},{"./_defined":260,"./_to-integer":339}],331:[function(require,module,exports){var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},{"./_defined":260,"./_is-regexp":283}],332:[function(require,module,exports){var $export=require("./_export"),fails=require("./_fails"),defined=require("./_defined"),quot=/"/g,createHTML=function(string,tag,attribute,value){var S=String(defined(string)),p1="<"+tag;return attribute!==""&&(p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"'),p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML),$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}},{"./_defined":260,"./_export":265,"./_fails":267}],333:[function(require,module,exports){var toLength=require("./_to-length"),repeat=require("./_string-repeat"),defined=require("./_defined");module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=fillString===undefined?" ":String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||fillStr=="")return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}},{"./_defined":260,"./_string-repeat":334,"./_to-length":341}],334:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function repeat(count){var str=String(defined(this)),res="",n=toInteger(count);if(n<0||n==Infinity)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))n&1&&(res+=str);return res}},{"./_defined":260,"./_to-integer":339}],335:[function(require,module,exports){var $export=require("./_export"),defined=require("./_defined"),fails=require("./_fails"),spaces=require("./_string-ws"),space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||non[KEY]()!=non}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),TYPE&1&&(string=string.replace(ltrim,"")),TYPE&2&&(string=string.replace(rtrim,"")),string};module.exports=exporter},{"./_defined":260,"./_export":265,"./_fails":267,"./_string-ws":336}],336:[function(require,module,exports){module.exports="	\n\f\r   ᠎             　\u2028\u2029﻿"},{}],337:[function(require,module,exports){var ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};if(!setTask||!clearTask)setTask=function setImmediate(fn){var args=[],i=1;while(arguments.length>i)args.push(arguments[i++]);return queue[++counter]=function(){invoke(typeof fn=="function"?fn:Function(fn),args)},defer(counter),counter},clearTask=function clearImmediate(id){delete queue[id]},require("./_cof")(process)=="process"?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&typeof postMessage=="function"&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):ONREADYSTATECHANGE in cel("script")?defer=function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:defer=function(id){setTimeout(ctx(run,id,1),0)};module.exports={set:setTask,clear:clearTask}},{"./_cof":251,"./_ctx":258,"./_dom-create":262,"./_global":271,"./_html":274,"./_invoke":277}],338:[function(require,module,exports){var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},{"./_to-integer":339}],339:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],340:[function(require,module,exports){var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":260,"./_iobject":278}],341:[function(require,module,exports){var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":339}],342:[function(require,module,exports){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":260}],343:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof (fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;if(typeof (fn=it.valueOf)=="function"&&!isObject(val=fn.call(it)))return val;if(!S&&typeof (fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":282}],344:[function(require,module,exports){"use strict";if(require("./_descriptors")){var LIBRARY=require("./_library"),global=require("./_global"),fails=require("./_fails"),$export=require("./_export"),$typed=require("./_typed"),$buffer=require("./_typed-buffer"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),propertyDesc=require("./_property-desc"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),isInteger=require("./_is-integer"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),toPrimitive=require("./_to-primitive"),has=require("./_has"),same=require("./_same-value"),classof=require("./_classof"),isObject=require("./_is-object"),toObject=require("./_to-object"),isArrayIter=require("./_is-array-iter"),create=require("./_object-create"),getPrototypeOf=require("./_object-gpo"),gOPN=require("./_object-gopn").f,isIterable=require("./core.is-iterable"),getIterFn=require("./core.get-iterator-method"),uid=require("./_uid"),wks=require("./_wks"),createArrayMethod=require("./_array-methods"),createArrayIncludes=require("./_array-includes"),speciesConstructor=require("./_species-constructor"),ArrayIterators=require("./es6.array.iterator"),Iterators=require("./_iterators"),$iterDetect=require("./_iter-detect"),setSpecies=require("./_set-species"),arrayFill=require("./_array-fill"),arrayCopyWithin=require("./_array-copy-within"),$DP=require("./_object-dp"),$GOPD=require("./_object-gopd"),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ARRAY_BUFFER="ArrayBuffer",SHARED_BUFFER="Shared"+ARRAY_BUFFER,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",PROTOTYPE="prototype",ArrayProto=Array[PROTOTYPE],$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,WRONG_LENGTH="Wrong length!",$map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)}),LITTLE_ENDIAN=fails(function(){return(new Uint8Array((new Uint16Array([1])).buffer))[0]===1}),FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){(new Uint8Array(1)).set({})}),strictToLength=function(it,SAME){if(it===undefined)throw TypeError(WRONG_LENGTH);var number=+it,length=toLength(it);if(SAME&&!same(number,length))throw RangeError(WRONG_LENGTH);return length},toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){var index=0,length=list.length,result=allocate(C,length);while(length>index)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function from(source){var O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:undefined,mapping=mapfn!==undefined,iterFn=getIterFn(O),i,length,values,result,step,iterator;if(iterFn!=undefined&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2));for(i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function of(){var index=0,length=arguments.length,result=allocate(this,length);while(length>index)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function toLocaleString(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function copyWithin(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:undefined)},every:function every(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},fill:function fill(value){return arrayFill.apply(validate(this),arguments)},filter:function filter(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined))},find:function find(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},findIndex:function findIndex(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},forEach:function forEach(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},indexOf:function indexOf(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},includes:function includes(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},join:function join(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function lastIndexOf(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function map(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:undefined)},reduce:function reduce(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function reduceRight(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function reverse(){var that=this,length=validate(that).length,middle=Math.floor(length/2),index=0,value;while(index<middle)value=that[index],that[index++]=that[--length],that[length]=value;return that},some:function some(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},sort:function sort(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function subarray(begin,end){var O=validate(this),length=O.length,$begin=toIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((end===undefined?length:toIndex(end,length))-$begin))}},$slice=function slice(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function set(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);while(index<len)this[offset+index]=src[index++]},$iterators={entries:function entries(){return arrayEntries.call(validate(this))},keys:function keys(){return arrayKeys.call(validate(this))},values:function values(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&typeof key!="symbol"&&key in target&&String(+key)==String(key)},$getDesc=function getOwnPropertyDescriptor(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function defineProperty(target,key,desc){return isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value")&&!has(desc,"get")&&!has(desc,"set")&&!desc.configurable&&(!has(desc,"writable")||desc.writable)&&(!has(desc,"enumerable")||desc.enumerable)?(target[key]=desc.value,target):dP(target,key,desc)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function toString(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?"Clamped":"")+"Array",ISNT_UINT8=NAME!="Uint8Array",GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE],getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)},setter=function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:value&255),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)},addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var index=0,offset=0,buffer,byteLength,length,klass;if(!isObject(data))length=strictToLength(data,!0),byteLength=length*BYTES,buffer=new $ArrayBuffer(byteLength);else{if(!(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if($length===undefined){if($len%BYTES)throw RangeError(WRONG_LENGTH);byteLength=$len-offset;if(byteLength<0)throw RangeError(WRONG_LENGTH)}else{byteLength=toLength($length)*BYTES;if(byteLength+offset>$len)throw RangeError(WRONG_LENGTH)}length=byteLength/BYTES}hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});while(index<length)addElement(that,index++)}),TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):$iterDetect(function(iter){new TypedArray(null),new TypedArray(iter)},!0)||(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;return isObject(data)?data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER?$length!==undefined?new Base(data,toOffset($offset,BYTES),$length):$offset!==undefined?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(strictToLength(data,ISNT_UINT8))}),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){key in TypedArray||hide(TypedArray,key,Base[key])}),TypedArray[PROTOTYPE]=TypedArrayPrototype,LIBRARY||(TypedArrayPrototype.constructor=TypedArray));var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&($nativeIterator.name=="values"||$nativeIterator.name==undefined),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?(new TypedArray(1))[TAG]!=NAME:!(TAG in TypedArrayPrototype))&&dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES,from:$from,of:$of}),BYTES_PER_ELEMENT in TypedArrayPrototype||hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),$export($export.P+$export.F*(TypedArrayPrototype.toString!=arrayToString),NAME,{toString:arrayToString}),$export($export.P+$export.F*fails(function(){(new TypedArray(1)).slice()}),NAME,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=(new TypedArray([1,2])).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,!LIBRARY&&!CORRECT_ITER_NAME&&hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}},{"./_an-instance":239,"./_array-copy-within":241,"./_array-fill":242,"./_array-includes":244,"./_array-methods":245,"./_classof":250,"./_ctx":258,"./_descriptors":261,"./_export":265,"./_fails":267,"./_global":271,"./_has":272,"./_hide":273,"./_is-array-iter":279,"./_is-integer":281,"./_is-object":282,"./_iter-detect":287,"./_iterators":289,"./_library":291,"./_object-create":299,"./_object-dp":300,"./_object-gopd":303,"./_object-gopn":305,"./_object-gpo":307,"./_property-desc":318,"./_redefine-all":319,"./_same-value":322,"./_set-species":324,"./_species-constructor":328,"./_to-index":338,"./_to-integer":339,"./_to-length":341,"./_to-object":342,"./_to-primitive":343,"./_typed":346,"./_typed-buffer":345,"./_uid":347,"./_wks":350,"./core.get-iterator-method":351,"./core.is-iterable":352,"./es6.array.iterator":364}],345:[function(require,module,exports){"use strict";var global=require("./_global"),DESCRIPTORS=require("./_descriptors"),LIBRARY=require("./_library"),$typed=require("./_typed"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),fails=require("./_fails"),anInstance=require("./_an-instance"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),gOPN=require("./_object-gopn").f,dP=require("./_object-dp").f,arrayFill=require("./_array-fill"),setToStringTag=require("./_set-to-string-tag"),ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length!",WRONG_INDEX="Wrong index!",$ArrayBuffer=global[ARRAY_BUFFER],$DataView=global[DATA_VIEW],Math=global.Math,parseInt=global.parseInt,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,min=Math.min,floor=Math.floor,log=Math.log,LN2=Math.LN2,BUFFER="buffer",BYTE_LENGTH="byteLength",BYTE_OFFSET="byteOffset",$BUFFER=DESCRIPTORS?"_b":BUFFER,$LENGTH=DESCRIPTORS?"_l":BYTE_LENGTH,$OFFSET=DESCRIPTORS?"_o":BYTE_OFFSET,packIEEE754=function(value,mLen,nBytes){var buffer=Array(nBytes),eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?pow(2,-24)-pow(2,-77):0,i=0,s=value<0||value===0&&1/value<0?1:0,e,m,c;value=abs(value),value!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),e+eBias>=1?value+=rt/c:value+=rt*pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));for(;mLen>=8;buffer[i++]=m&255,m/=256,mLen-=8);e=e<<mLen|m,eLen+=mLen;for(;eLen>0;buffer[i++]=e&255,e/=256,eLen-=8);return buffer[--i]|=s*128,buffer},unpackIEEE754=function(buffer,mLen,nBytes){var eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=s&127,m;s>>=7;for(;nBits>0;e=e*256+buffer[i],i--,nBits-=8);m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;for(;nBits>0;m=m*256+buffer[i],i--,nBits-=8);if(e===0)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)},unpackI32=function(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]},packI8=function(it){return[it&255]},packI16=function(it){return[it&255,it>>8&255]},packI32=function(it){return[it&255,it>>8&255,it>>16&255,it>>24&255]},packF64=function(it){return packIEEE754(it,52,8)},packF32=function(it){return packIEEE754(it,23,4)},addGetter=function(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})},get=function(view,bytes,index,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()},set=function(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value);for(var i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]},validateArrayBufferArguments=function(that,length){anInstance(that,$ArrayBuffer,ARRAY_BUFFER);var numberLength=+length,byteLength=toLength(numberLength);if(numberLength!=byteLength)throw RangeError(WRONG_LENGTH);return byteLength};if(!$typed.ABV)$ArrayBuffer=function ArrayBuffer(length){var byteLength=validateArrayBufferArguments(this,length);this._b=arrayFill.call(Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function DataView(buffer,byteOffset,byteLength){anInstance(this,$DataView,DATA_VIEW),anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH],offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");byteLength=byteLength===undefined?bufferLength-offset:toLength(byteLength);if(offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},DESCRIPTORS&&(addGetter($ArrayBuffer,BYTE_LENGTH,"_l"),addGetter($DataView,BUFFER,"_b"),addGetter($DataView,BYTE_LENGTH,"_l"),addGetter($DataView,BYTE_OFFSET,"_o")),redefineAll($DataView[PROTOTYPE],{getInt8:function getInt8(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function getUint8(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function getInt16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function getUint16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function getInt32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function getUint32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function getFloat32(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function getFloat64(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function setInt8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function setUint8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function setInt16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function setUint16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function setInt32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function setUint32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function setFloat32(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function setFloat64(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});else{if(!fails(function(){new $ArrayBuffer})||!fails(function(){new $ArrayBuffer(.5)})){$ArrayBuffer=function ArrayBuffer(length){return new BaseBuffer(validateArrayBufferArguments(this,length))};var ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE];for(var keys=gOPN(BaseBuffer),j=0,key;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),(view.getInt8(0)||!view.getInt8(1))&&redefineAll($DataView[PROTOTYPE],{setInt8:function setInt8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function setUint8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}setToStringTag($ArrayBuffer,ARRAY_BUFFER),setToStringTag($DataView,DATA_VIEW),hide($DataView[PROTOTYPE],$typed.VIEW,!0),exports[ARRAY_BUFFER]=$ArrayBuffer,exports[DATA_VIEW]=$DataView},{"./_an-instance":239,"./_array-fill":242,"./_descriptors":261,"./_fails":267,"./_global":271,"./_hide":273,"./_library":291,"./_object-dp":300,"./_object-gopn":305,"./_redefine-all":319,"./_set-to-string-tag":325,"./_to-integer":339,"./_to-length":341,"./_typed":346}],346:[function(require,module,exports){var global=require("./_global"),hide=require("./_hide"),uid=require("./_uid"),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!!global.ArrayBuffer&&!!global.DataView,CONSTR=ABV,i=0,l=9,Typed,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(i<l)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}},{"./_global":271,"./_hide":273,"./_uid":347}],347:[function(require,module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},{}],348:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),LIBRARY=require("./_library"),wksExt=require("./_wks-ext"),defineProperty=require("./_object-dp").f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});name.charAt(0)!="_"&&!(name in $Symbol)&&defineProperty($Symbol,name,{value:wksExt.f(name)})}},{"./_core":256,"./_global":271,"./_library":291,"./_object-dp":300,"./_wks-ext":349}],349:[function(require,module,exports){exports.f=require("./_wks")},{"./_wks":350}],350:[function(require,module,exports){var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL=typeof Symbol=="function",$exports=module.exports=
function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},{"./_global":271,"./_shared":327,"./_uid":347}],351:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":250,"./_core":256,"./_iterators":289,"./_wks":350}],352:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").isIterable=function(it){var O=Object(it);return O[ITERATOR]!==undefined||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},{"./_classof":250,"./_core":256,"./_iterators":289,"./_wks":350}],353:[function(require,module,exports){var $export=require("./_export"),$re=require("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function escape(it){return $re(it)}})},{"./_export":265,"./_replacer":321}],354:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Array",{copyWithin:require("./_array-copy-within")}),require("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":238,"./_array-copy-within":241,"./_export":265}],355:[function(require,module,exports){"use strict";var $export=require("./_export"),$every=require("./_array-methods")(4);$export($export.P+$export.F*!require("./_strict-method")([].every,!0),"Array",{every:function every(callbackfn){return $every(this,callbackfn,arguments[1])}})},{"./_array-methods":245,"./_export":265,"./_strict-method":329}],356:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":238,"./_array-fill":242,"./_export":265}],357:[function(require,module,exports){"use strict";var $export=require("./_export"),$filter=require("./_array-methods")(2);$export($export.P+$export.F*!require("./_strict-method")([].filter,!0),"Array",{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments[1])}})},{"./_array-methods":245,"./_export":265,"./_strict-method":329}],358:[function(require,module,exports){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function findIndex(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}}),require("./_add-to-unscopables")(KEY)},{"./_add-to-unscopables":238,"./_array-methods":245,"./_export":265}],359:[function(require,module,exports){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(5),KEY="find",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}}),require("./_add-to-unscopables")(KEY)},{"./_add-to-unscopables":238,"./_array-methods":245,"./_export":265}],360:[function(require,module,exports){"use strict";var $export=require("./_export"),$forEach=require("./_array-methods")(0),STRICT=require("./_strict-method")([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},{"./_array-methods":245,"./_export":265,"./_strict-method":329}],361:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var O=toObject(arrayLike),C=typeof this=="function"?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:undefined,mapping=mapfn!==undefined,index=0,iterFn=getIterFn(O),length,result,step,iterator;mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:undefined,2));if(iterFn==undefined||C==Array&&!!isArrayIter(iterFn)){length=toLength(O.length);for(result=new C(length);length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index])}else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},{"./_create-property":257,"./_ctx":258,"./_export":265,"./_is-array-iter":279,"./_iter-call":284,"./_iter-detect":287,"./_to-length":341,"./_to-object":342,"./core.get-iterator-method":351}],362:[function(require,module,exports){"use strict";var $export=require("./_export"),$indexOf=require("./_array-includes")(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},{"./_array-includes":244,"./_export":265,"./_strict-method":329}],363:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Array",{isArray:require("./_is-array")})},{"./_export":265,"./_is-array":280}],364:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=undefined,step(1)):kind=="keys"?step(0,index):kind=="values"?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{"./_add-to-unscopables":238,"./_iter-define":286,"./_iter-step":288,"./_iterators":289,"./_to-iobject":340}],365:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),arrayJoin=[].join;$export($export.P+$export.F*(require("./_iobject")!=Object||!require("./_strict-method")(arrayJoin)),"Array",{join:function join(separator){return arrayJoin.call(toIObject(this),separator===undefined?",":separator)}})},{"./_export":265,"./_iobject":278,"./_strict-method":329,"./_to-iobject":340}],366:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{lastIndexOf:function lastIndexOf(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this),length=toLength(O.length),index=length-1;arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),index<0&&(index=length+index);for(;index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}})},{"./_export":265,"./_strict-method":329,"./_to-integer":339,"./_to-iobject":340,"./_to-length":341}],367:[function(require,module,exports){"use strict";var $export=require("./_export"),$map=require("./_array-methods")(1);$export($export.P+$export.F*!require("./_strict-method")([].map,!0),"Array",{map:function map(callbackfn){return $map(this,callbackfn,arguments[1])}})},{"./_array-methods":245,"./_export":265,"./_strict-method":329}],368:[function(require,module,exports){"use strict";var $export=require("./_export"),createProperty=require("./_create-property");$export($export.S+$export.F*require("./_fails")(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){var index=0,aLen=arguments.length,result=new(typeof this=="function"?this:Array)(aLen);while(aLen>index)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})},{"./_create-property":257,"./_export":265,"./_fails":267}],369:[function(require,module,exports){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function reduceRight(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!0)}})},{"./_array-reduce":246,"./_export":265,"./_strict-method":329}],370:[function(require,module,exports){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduce,!0),"Array",{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})},{"./_array-reduce":246,"./_export":265,"./_strict-method":329}],371:[function(require,module,exports){"use strict";var $export=require("./_export"),html=require("./_html"),cof=require("./_cof"),toIndex=require("./_to-index"),toLength=require("./_to-length"),arraySlice=[].slice;$export($export.P+$export.F*require("./_fails")(function(){html&&arraySlice.call(html)}),"Array",{slice:function slice(begin,end){var len=toLength(this.length),klass=cof(this);end=end===undefined?len:end;if(klass=="Array")return arraySlice.call(this,begin,end);var start=toIndex(begin,len),upTo=toIndex(end,len),size=toLength(upTo-start),cloned=Array(size),i=0;for(;i<size;i++)cloned[i]=klass=="String"?this.charAt(start+i):this[start+i];return cloned}})},{"./_cof":251,"./_export":265,"./_fails":267,"./_html":274,"./_to-index":338,"./_to-length":341}],372:[function(require,module,exports){"use strict";var $export=require("./_export"),$some=require("./_array-methods")(3);$export($export.P+$export.F*!require("./_strict-method")([].some,!0),"Array",{some:function some(callbackfn){return $some(this,callbackfn,arguments[1])}})},{"./_array-methods":245,"./_export":265,"./_strict-method":329}],373:[function(require,module,exports){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),toObject=require("./_to-object"),fails=require("./_fails"),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(undefined)})||!fails(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function sort(comparefn){return comparefn===undefined?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},{"./_a-function":236,"./_export":265,"./_fails":267,"./_strict-method":329,"./_to-object":342}],374:[function(require,module,exports){require("./_set-species")("Array")},{"./_set-species":324}],375:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":265}],376:[function(require,module,exports){"use strict";var $export=require("./_export"),fails=require("./_fails"),getTime=Date.prototype.getTime,lz=function(num){return num>9?num:"0"+num};$export($export.P+$export.F*(fails(function(){return(new Date(-5e13-1)).toISOString()!="0385-07-25T07:06:39.999Z"})||!fails(function(){(new Date(NaN)).toISOString()})),"Date",{toISOString:function toISOString(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=y<0?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}})},{"./_export":265,"./_fails":267}],377:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive");$export($export.P+$export.F*require("./_fails")(function(){return(new Date(NaN)).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function toJSON(key){var O=toObject(this),pv=toPrimitive(O);return typeof pv=="number"&&!isFinite(pv)?null:O.toISOString()}})},{"./_export":265,"./_fails":267,"./_to-object":342,"./_to-primitive":343}],378:[function(require,module,exports){var TO_PRIMITIVE=require("./_wks")("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||require("./_hide")(proto,TO_PRIMITIVE,require("./_date-to-primitive"))},{"./_date-to-primitive":259,"./_hide":273,"./_wks":350}],379:[function(require,module,exports){var DateProto=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING="toString",$toString=DateProto[TO_STRING],getTime=DateProto.getTime;new Date(NaN)+""!=INVALID_DATE&&require("./_redefine")(DateProto,TO_STRING,function toString(){var value=getTime.call(this);return value===value?$toString.call(this):INVALID_DATE})},{"./_redefine":320}],380:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Function",{bind:require("./_bind")})},{"./_bind":249,"./_export":265}],381:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),getPrototypeOf=require("./_object-gpo"),HAS_INSTANCE=require("./_wks")("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||require("./_object-dp").f(FunctionProto,HAS_INSTANCE,{value:function(O){if(typeof this!="function"||!isObject(O))return!1;if(!isObject(this.prototype))return O instanceof this;while(O=getPrototypeOf(O))if(this.prototype===O)return!0;return!1}})},{"./_is-object":282,"./_object-dp":300,"./_object-gpo":307,"./_wks":350}],382:[function(require,module,exports){var dP=require("./_object-dp").f,createDesc=require("./_property-desc"),has=require("./_has"),FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name",isExtensible=Object.isExtensible||function(){return!0};NAME in FProto||require("./_descriptors")&&dP(FProto,NAME,{configurable:!0,get:function(){try{var that=this,name=(""+that).match(nameRE)[1];return has(that,NAME)||!isExtensible(that)||dP(that,NAME,createDesc(5,name)),name}catch(e){return""}}})},{"./_descriptors":261,"./_has":272,"./_object-dp":300,"./_property-desc":318}],383:[function(require,module,exports){"use strict";var strong=require("./_collection-strong");module.exports=require("./_collection")("Map",function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:undefined)}},{get:function get(key){var entry=strong.getEntry(this,key);return entry&&entry.v},set:function set(key,value){return strong.def(this,key===0?0:key,value)}},strong,!0)},{"./_collection":255,"./_collection-strong":252}],384:[function(require,module,exports){var $export=require("./_export"),log1p=require("./_math-log1p"),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*(!$acosh||Math.floor($acosh(Number.MAX_VALUE))!=710||$acosh(Infinity)!=Infinity),"Math",{acosh:function acosh(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})},{"./_export":265,"./_math-log1p":293}],385:[function(require,module,exports){function asinh(x){return!isFinite(x=+x)||x==0?x:x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1))}var $export=require("./_export"),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh})},{"./_export":265}],386:[function(require,module,exports){var $export=require("./_export"),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(0)<0),"Math",{atanh:function atanh(x){return(x=+x)==0?x:Math.log((1+x)/(1-x))/2}})},{"./_export":265}],387:[function(require,module,exports){var $export=require("./_export"),sign=require("./_math-sign");$export($export.S,"Math",{cbrt:function cbrt(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})},{"./_export":265,"./_math-sign":294}],388:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{clz32:function clz32(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})},{"./_export":265}],389:[function(require,module,exports){var $export=require("./_export"),exp=Math.exp;$export($export.S,"Math",{cosh:function cosh(x){return(exp(x=+x)+exp(-x))/2}})},{"./_export":265}],390:[function(require,module,exports){var $export=require("./_export"),$expm1=require("./_math-expm1");$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})},{"./_export":265,"./_math-expm1":292}],391:[function(require,module,exports){var $export=require("./_export"),sign=require("./_math-sign"),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126),roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};$export($export.S,"Math",{fround:function fround(x){var $abs=Math.abs(x),$sign=sign(x),a,result;return $abs<MIN32?$sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32:(a=(1+EPSILON32/EPSILON)*$abs,result=a-(a-$abs),result>MAX32||result!=result?$sign*Infinity:$sign*result)}})},{"./_export":265,"./_math-sign":294}],392:[function(require,module,exports){var $export=require("./_export"),abs=Math.abs;$export($export.S,"Math",{hypot:function hypot(value1,value2){var sum=0,i=0,aLen=arguments.length,larg=0,arg,div;while(i<aLen)arg=abs(arguments[i++]),larg<arg?(div=larg/arg,sum=sum*div*div+1,larg=arg):arg>0?(div=arg/larg,sum+=div*div):sum+=arg;return larg===Infinity?Infinity:larg*Math.sqrt(sum)}})},{"./_export":265}],393:[function(require,module,exports){var $export=require("./_export"),$imul=Math.imul;$export($export.S+$export.F*require("./_fails")(function(){return $imul(4294967295,5)!=-5||$imul.length!=2}),"Math",{imul:function imul(x,y){var UINT16=65535,xn=+x,yn=+y,xl=UINT16&xn,yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0)}})},{"./_export":265,"./_fails":267}],394:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log10:function log10(x){return Math.log(x)/Math.LN10}})},{"./_export":265}],395:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log1p:require("./_math-log1p")})},{"./_export":265,"./_math-log1p":293}],396:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log2:function log2(x){return Math.log(x)/Math.LN2}})},{"./_export":265}],397:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{sign:require("./_math-sign")})},{"./_export":265,"./_math-sign":294}],398:[function(require,module,exports){var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S+$export.F*require("./_fails")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function sinh(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})},{"./_export":265,"./_fails":267,"./_math-expm1":292}],399:[function(require,module,exports){var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S,"Math",{tanh:function tanh(x){var a=expm1(x=+x),b=expm1(-x);return a==Infinity?1:b==Infinity?-1:(a-b)/(exp(x)+exp(-x))}})},{"./_export":265,"./_math-expm1":292}],400:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{trunc:function trunc(it){return(it>0?Math.floor:Math.ceil)(it)}})},{"./_export":265}],401:[function(require,module,exports){"use strict";var global=require("./_global"),has=require("./_has"),cof=require("./_cof"),inheritIfRequired=require("./_inherit-if-required"),toPrimitive=require("./_to-primitive"),fails=require("./_fails"),gOPN=require("./_object-gopn").f,gOPD=require("./_object-gopd").f,dP=require("./_object-dp").f,$trim=require("./_string-trim").trim,NUMBER="Number",$Number=global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=cof(require("./_object-create")(proto))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if(typeof it=="string"&&it.length>2){it=TRIM?it.trim():$trim(it,3);var first=it.charCodeAt(0),third,radix,maxCode;if(first===43||first===45){third=it.charCodeAt(2);if(third===88||third===120)return NaN}else if(first===48){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var digits=it.slice(2),i=0,l=digits.length,code;i<l;i++){code=digits.charCodeAt(i);if(code<48||code>maxCode)return NaN}return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function Number(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):cof(that)!=NUMBER)?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var keys=require("./_descriptors")?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0,key;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,require("./_redefine")(global,NUMBER,$Number)}},{"./_cof":251,"./_descriptors":261,"./_fails":267,"./_global":271,"./_has":272,"./_inherit-if-required":276,"./_object-create":299,"./_object-dp":300,"./_object-gopd":303,"./_object-gopn":305,"./_redefine":320,"./_string-trim":335,"./_to-primitive":343}],402:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":265}],403:[function(require,module,exports){var $export=require("./_export"),_isFinite=require("./_global").isFinite;$export($export.S,"Number",{isFinite:function isFinite(it){return typeof it=="number"&&_isFinite(it)}})},{"./_export":265,"./_global":271}],404:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{isInteger:require("./_is-integer")})},{"./_export":265,"./_is-integer":281}],405:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{isNaN:function isNaN(number){return number!=number}})},{"./_export":265}],406:[function(require,module,exports){var $export=require("./_export"),isInteger=require("./_is-integer"),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function isSafeInteger(number){return isInteger(number)&&abs(number)<=9007199254740991}})},{"./_export":265,"./_is-integer":281}],407:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":265}],408:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":265}],409:[function(require,module,exports){var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})},{"./_export":265,"./_parse-float":314}],410:[function(require,module,exports){var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},{"./_export":265,"./_parse-int":315}],411:[function(require,module,exports){"use strict";var $export=require("./_export"),anInstance=require("./_an-instance"),toInteger=require("./_to-integer"),aNumberValue=require("./_a-number-value"),repeat=require("./_string-repeat"),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",ZERO="0",multiply=function(n,c){var i=-1,c2=c;while(++i<6)c2+=n*data[i],data[i]=c2%1e7,c2=floor(c2/1e7)},divide=function(n){var i=6,c=0;while(--i>=0)c+=data[i],data[i]=floor(c/n),c=c%n*1e7},numToString=function(){var i=6,s="";while(--i>=0)if(s!==""||i===0||data[i]!==0){var t=String(data[i]);s=s===""?t:s+repeat.call(ZERO,7-t.length)+t}return s},pow=function(x,n,acc){return n===0?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log=function(x){var n=0,x2=x;while(x2>=4096)n+=12,x2/=4096;while(x2>=2)n+=1,x2/=2;return n};$export($export.P+$export.F*(!!$toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function toFixed(fractionDigits){var x=aNumberValue(this,ERROR),f=toInteger(fractionDigits),s="",m=ZERO,e,z,j,k;if(f<0||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(x<=-1e21||x>=1e21)return String(x);x<0&&(s="-",x=-x);if(x>1e-21){e=log(x*pow(2,69,1))-69,z=e<0?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,e=52-e;if(e>0){multiply(0,z),j=f;while(j>=7)multiply(1e7,0),j-=7;multiply(pow(10,j,1),0),j=e-1;while(j>=23)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=numToString()}else multiply(0,z),multiply(1<<-e,0),m=numToString()+repeat.call(ZERO,f)}return f>0?(k=m.length,m=s+(k<=f?"0."+repeat.call(ZERO,f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f))):m=s+m,m}})},{"./_a-number-value":237,"./_an-instance":239,"./_export":265,"./_fails":267,"./_string-repeat":334,"./_to-integer":339}],412:[function(require,module,exports){"use strict";var $export=require("./_export"),$fails=require("./_fails"),aNumberValue=require("./_a-number-value"),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return $toPrecision.call(1,undefined)!=="1"})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function toPrecision(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return precision===undefined?$toPrecision.call(that):$toPrecision.call(that,precision)}})},{"./_a-number-value":237,"./_export":265,"./_fails":267}],413:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")})},{"./_export":265,"./_object-assign":298}],414:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")})},{"./_export":265,"./_object-create":299}],415:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")})},{"./_descriptors":261,"./_export":265,"./_object-dps":301}],416:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})},{"./_descriptors":261,"./_export":265,"./_object-dp":300}],417:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},{"./_is-object":282,"./_meta":295,"./_object-sap":311}],418:[function(require,module,exports){var toIObject=require("./_to-iobject"),$getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},{"./_object-gopd":303,"./_object-sap":311,"./_to-iobject":340}],419:[function(require,module,exports){require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f})},{"./_object-gopn-ext":304,"./_object-sap":311}],420:[function(require,module,exports){var toObject=require("./_to-object"),$getPrototypeOf=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function getPrototypeOf(it){return $getPrototypeOf(toObject(it))}})},{"./_object-gpo":307,"./_object-sap":311,"./_to-object":342}],421:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isExtensible",function($isExtensible){return function isExtensible(it){return isObject(it)?$isExtensible?$isExtensible(it):!0:!1}})},{"./_is-object":282,"./_object-sap":311}],422:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isFrozen",function($isFrozen){return function isFrozen(it){return isObject(it)?$isFrozen?$isFrozen(it):!1:!0}})},{"./_is-object":282,"./_object-sap":311}],423:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isSealed",function($isSealed){return function isSealed(it){return isObject(it)?$isSealed?$isSealed(it):!1:!0}})},{"./_is-object":282,"./_object-sap":311}],424:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{is:require("./_same-value")})},{"./_export":265,"./_same-value":322}],425:[function(require,module,exports){var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function keys(it){return $keys(toObject(it))}})},{"./_object-keys":309,"./_object-sap":311,"./_to-object":342}],426:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function($preventExtensions){return function preventExtensions(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})},{"./_is-object":282,"./_meta":295,"./_object-sap":311}],427:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("seal",function($seal){return function seal(it){return $seal&&isObject(it)?$seal(meta(it)):it}})},{"./_is-object":282,"./_meta":295,"./_object-sap":311}],428:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{setPrototypeOf:require("./_set-proto").set})},{"./_export":265,"./_set-proto":323}],429:[function(require,module,exports){"use strict";var classof=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function toString(){return"[object "+classof(this)+"]"},!0)},{"./_classof":250,"./_redefine":320,"./_wks":350}],430:[function(require,module,exports){var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})},{"./_export":265,"./_parse-float":314}],431:[function(require,module,exports){var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},{"./_export":265,"./_parse-int":315}],432:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),global=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject=require("./_is-object"),anObject=require("./_an-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),setProto=require("./_set-proto").set,speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),PROMISE="Promise",TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],process=global.process,isNode=classof(process)=="process",empty=function(){},Internal,GenericPromiseCapability,Wrapper,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[require("./_wks")("species")]=function(exec){exec(empty,empty)};return(isNode||typeof PromiseRejectionEvent=="function")&&promise.then(empty)instanceof FakePromise}catch(e){}}(),sameConstructor=function(a,b){return a===b||a===$Promise&&b===Wrapper},isThenable=function(it){var then;return isObject(it)&&typeof (then=it.then)=="function"?then:!1},newPromiseCapability=function(C){return sameConstructor($Promise,C)?new PromiseCapability(C):new GenericPromiseCapability(C)},PromiseCapability=GenericPromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(promise,isReject){if(promise._n)return;promise._n=!0;var chain=promise._c;microtask(function(){var value=promise._v,ok=promise._s==1,i=0,run=function(reaction){var handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain,result
,then;try{handler?(ok||(promise._h==2&&onHandleUnhandled(promise),promise._h=1),handler===!0?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};while(chain.length>i)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})},onUnhandled=function(promise){task.call(global,function(){var value=promise._v,abrupt,handler,console;isUnhandled(promise)&&(abrupt=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=undefined;if(abrupt)throw abrupt.error})},isUnhandled=function(promise){if(promise._h==1)return!1;var chain=promise._a||promise._c,i=0,reaction;while(chain.length>i){reaction=chain[i++];if(reaction.fail||!isUnhandled(reaction.promise))return!1}return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;if(promise._d)return;promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0)},$resolve=function(value){var promise=this,then;if(promise._d)return;promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}};USE_NATIVE||($Promise=function Promise(executor){anInstance(this,$Promise,PROMISE,"_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function Promise(executor){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1},Internal.prototype=require("./_redefine-all")($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok=typeof onFulfilled=="function"?onFulfilled:!0,reaction.fail=typeof onRejected=="function"&&onRejected,reaction.domain=isNode?process.domain:undefined,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},"catch":function(onRejected){return this.then(undefined,onRejected)}}),PromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,PROMISE),require("./_set-species")(PROMISE),Wrapper=require("./_core")[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function reject(r){var capability=newPromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function resolve(x){if(x instanceof $Promise&&sameConstructor(x.constructor,this))return x;var capability=newPromiseCapability(this),$$resolve=capability.resolve;return $$resolve(x),capability.promise}}),$export($export.S+$export.F*(!USE_NATIVE||!require("./_iter-detect")(function(iter){$Promise.all(iter)["catch"](empty)})),PROMISE,{all:function all(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,abrupt=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(undefined),remaining++,C.resolve(promise).then(function(value){if(alreadyCalled)return;alreadyCalled=!0,values[$index]=value,--remaining||resolve(values)},reject)}),--remaining||resolve(values)});return abrupt&&reject(abrupt.error),capability.promise},race:function race(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})},{"./_a-function":236,"./_an-instance":239,"./_an-object":240,"./_classof":250,"./_core":256,"./_ctx":258,"./_export":265,"./_for-of":270,"./_global":271,"./_is-object":282,"./_iter-detect":287,"./_library":291,"./_microtask":297,"./_redefine-all":319,"./_set-proto":323,"./_set-species":324,"./_set-to-string-tag":325,"./_species-constructor":328,"./_task":337,"./_wks":350}],433:[function(require,module,exports){var $export=require("./_export"),aFunction=require("./_a-function"),anObject=require("./_an-object"),_apply=Function.apply;$export($export.S,"Reflect",{apply:function apply(target,thisArgument,argumentsList){return _apply.call(aFunction(target),thisArgument,anObject(argumentsList))}})},{"./_a-function":236,"./_an-object":240,"./_export":265}],434:[function(require,module,exports){var $export=require("./_export"),create=require("./_object-create"),aFunction=require("./_a-function"),anObject=require("./_an-object"),isObject=require("./_is-object"),bind=require("./_bind");$export($export.S+$export.F*require("./_fails")(function(){function F(){}return!(Reflect.construct(function(){},[],F)instanceof F)}),"Reflect",{construct:function construct(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},{"./_a-function":236,"./_an-object":240,"./_bind":249,"./_export":265,"./_fails":267,"./_is-object":282,"./_object-create":299}],435:[function(require,module,exports){var dP=require("./_object-dp"),$export=require("./_export"),anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");$export($export.S+$export.F*require("./_fails")(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return dP.f(target,propertyKey,attributes),!0}catch(e){return!1}}})},{"./_an-object":240,"./_export":265,"./_fails":267,"./_object-dp":300,"./_to-primitive":343}],436:[function(require,module,exports){var $export=require("./_export"),gOPD=require("./_object-gopd").f,anObject=require("./_an-object");$export($export.S,"Reflect",{deleteProperty:function deleteProperty(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return desc&&!desc.configurable?!1:delete target[propertyKey]}})},{"./_an-object":240,"./_export":265,"./_object-gopd":303}],437:[function(require,module,exports){"use strict";var $export=require("./_export"),anObject=require("./_an-object"),Enumerate=function(iterated){this._t=anObject(iterated),this._i=0;var keys=this._k=[],key;for(key in iterated)keys.push(key)};require("./_iter-create")(Enumerate,"Object",function(){var that=this,keys=that._k,key;do if(that._i>=keys.length)return{value:undefined,done:!0};while(!((key=keys[that._i++])in that._t));return{value:key,done:!1}}),$export($export.S,"Reflect",{enumerate:function enumerate(target){return new Enumerate(target)}})},{"./_an-object":240,"./_export":265,"./_iter-create":285}],438:[function(require,module,exports){var gOPD=require("./_object-gopd"),$export=require("./_export"),anObject=require("./_an-object");$export($export.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})},{"./_an-object":240,"./_export":265,"./_object-gopd":303}],439:[function(require,module,exports){var $export=require("./_export"),getProto=require("./_object-gpo"),anObject=require("./_an-object");$export($export.S,"Reflect",{getPrototypeOf:function getPrototypeOf(target){return getProto(anObject(target))}})},{"./_an-object":240,"./_export":265,"./_object-gpo":307}],440:[function(require,module,exports){function get(target,propertyKey){var receiver=arguments.length<3?target:arguments[2],desc,proto;if(anObject(target)===receiver)return target[propertyKey];if(desc=gOPD.f(target,propertyKey))return has(desc,"value")?desc.value:desc.get!==undefined?desc.get.call(receiver):undefined;if(isObject(proto=getPrototypeOf(target)))return get(proto,propertyKey,receiver)}var gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),isObject=require("./_is-object"),anObject=require("./_an-object");$export($export.S,"Reflect",{get:get})},{"./_an-object":240,"./_export":265,"./_has":272,"./_is-object":282,"./_object-gopd":303,"./_object-gpo":307}],441:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Reflect",{has:function has(target,propertyKey){return propertyKey in target}})},{"./_export":265}],442:[function(require,module,exports){var $export=require("./_export"),anObject=require("./_an-object"),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function isExtensible(target){return anObject(target),$isExtensible?$isExtensible(target):!0}})},{"./_an-object":240,"./_export":265}],443:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Reflect",{ownKeys:require("./_own-keys")})},{"./_export":265,"./_own-keys":313}],444:[function(require,module,exports){var $export=require("./_export"),anObject=require("./_an-object"),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function preventExtensions(target){anObject(target);try{return $preventExtensions&&$preventExtensions(target),!0}catch(e){return!1}}})},{"./_an-object":240,"./_export":265}],445:[function(require,module,exports){var $export=require("./_export"),setProto=require("./_set-proto");setProto&&$export($export.S,"Reflect",{setPrototypeOf:function setPrototypeOf(target,proto){setProto.check(target,proto);try{return setProto.set(target,proto),!0}catch(e){return!1}}})},{"./_export":265,"./_set-proto":323}],446:[function(require,module,exports){function set(target,propertyKey,V){var receiver=arguments.length<4?target:arguments[3],ownDesc=gOPD.f(anObject(target),propertyKey),existingDescriptor,proto;if(!ownDesc){if(isObject(proto=getPrototypeOf(target)))return set(proto,propertyKey,V,receiver);ownDesc=createDesc(0)}return has(ownDesc,"value")?ownDesc.writable===!1||!isObject(receiver)?!1:(existingDescriptor=gOPD.f(receiver,propertyKey)||createDesc(0),existingDescriptor.value=V,dP.f(receiver,propertyKey,existingDescriptor),!0):ownDesc.set===undefined?!1:(ownDesc.set.call(receiver,V),!0)}var dP=require("./_object-dp"),gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),createDesc=require("./_property-desc"),anObject=require("./_an-object"),isObject=require("./_is-object");$export($export.S,"Reflect",{set:set})},{"./_an-object":240,"./_export":265,"./_has":272,"./_is-object":282,"./_object-dp":300,"./_object-gopd":303,"./_object-gpo":307,"./_property-desc":318}],447:[function(require,module,exports){var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||$RegExp(re1,"i")!="/a/i"}))){$RegExp=function RegExp(p,f){var tiRE=this instanceof $RegExp,piRE=isRegExp(p),fiU=f===undefined;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};var proxy=function(key){key in $RegExp||dP($RegExp,key,{configurable:!0,get:function(){return Base[key]},set:function(it){Base[key]=it}})};for(var keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp")},{"./_descriptors":261,"./_fails":267,"./_flags":269,"./_global":271,"./_inherit-if-required":276,"./_is-regexp":283,"./_object-dp":300,"./_object-gopn":305,"./_redefine":320,"./_set-species":324,"./_wks":350}],448:[function(require,module,exports){require("./_descriptors")&&/./g.flags!="g"&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")})},{"./_descriptors":261,"./_flags":269,"./_object-dp":300}],449:[function(require,module,exports){require("./_fix-re-wks")("match",1,function(defined,MATCH,$match){return[function match(regexp){"use strict";var O=defined(this),fn=regexp==undefined?undefined:regexp[MATCH];return fn!==undefined?fn.call(regexp,O):(new RegExp(regexp))[MATCH](String(O))},$match]})},{"./_fix-re-wks":268}],450:[function(require,module,exports){require("./_fix-re-wks")("replace",2,function(defined,REPLACE,$replace){return[function replace(searchValue,replaceValue){"use strict";var O=defined(this),fn=searchValue==undefined?undefined:searchValue[REPLACE];return fn!==undefined?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]})},{"./_fix-re-wks":268}],451:[function(require,module,exports){require("./_fix-re-wks")("search",1,function(defined,SEARCH,$search){return[function search(regexp){"use strict";var O=defined(this),fn=regexp==undefined?undefined:regexp[SEARCH];return fn!==undefined?fn.call(regexp,O):(new RegExp(regexp))[SEARCH](String(O))},$search]})},{"./_fix-re-wks":268}],452:[function(require,module,exports){require("./_fix-re-wks")("split",2,function(defined,SPLIT,$split){"use strict";var isRegExp=require("./_is-regexp"),_split=$split,$push=[].push,$SPLIT="split",LENGTH="length",LAST_INDEX="lastIndex";if("abbc"[$SPLIT](/(b)*/)[1]=="c"||"test"[$SPLIT](/(?:)/,-1)[LENGTH]!=4||"ab"[$SPLIT](/(?:ab)*/)[LENGTH]!=2||"."[$SPLIT](/(.?)(.?)/)[LENGTH]!=4||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]){var NPCG=/()??/.exec("")[1]===undefined;$split=function(separator,limit){var string=String(this);if(separator===undefined&&limit===0)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=limit===undefined?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g"),separator2,match,lastIndex,lastLength,i;NPCG||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));while(match=separatorCopy.exec(string)){lastIndex=match.index+match[0][LENGTH];if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index)),!NPCG&&match[LENGTH]>1&&match[0].replace(separator2,function(){for(i=1;i<arguments[LENGTH]-2;i++)arguments[i]===undefined&&(match[i]=undefined)}),match[LENGTH]>1&&match.index<string[LENGTH]&&$push.apply(output,match.slice(1)),lastLength=match[0][LENGTH],lastLastIndex=lastIndex;if(output[LENGTH]>=splitLimit)break}separatorCopy[LAST_INDEX]===match.index&&separatorCopy[LAST_INDEX]++}return lastLastIndex===string[LENGTH]?(lastLength||!separatorCopy.test(""))&&output.push(""):output.push(string.slice(lastLastIndex)),output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}}else"0"[$SPLIT](undefined,0)[LENGTH]&&($split=function(separator,limit){return separator===undefined&&limit===0?[]:_split.call(this,separator,limit)});return[function split(separator,limit){var O=defined(this),fn=separator==undefined?undefined:separator[SPLIT];return fn!==undefined?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]})},{"./_fix-re-wks":268,"./_is-regexp":283}],453:[function(require,module,exports){"use strict";require("./es6.regexp.flags");var anObject=require("./_an-object"),$flags=require("./_flags"),DESCRIPTORS=require("./_descriptors"),TO_STRING="toString",$toString=/./[TO_STRING],define=function(fn){require("./_redefine")(RegExp.prototype,TO_STRING,fn,!0)};require("./_fails")(function(){return $toString.call({source:"a",flags:"b"})!="/a/b"})?define(function toString(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):undefined)}):$toString.name!=TO_STRING&&define(function toString(){return $toString.call(this)})},{"./_an-object":240,"./_descriptors":261,"./_fails":267,"./_flags":269,"./_redefine":320,"./es6.regexp.flags":448}],454:[function(require,module,exports){"use strict";var strong=require("./_collection-strong");module.exports=require("./_collection")("Set",function(get){return function Set(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function add(value){return strong.def(this,value=value===0?0:value,value)}},strong)},{"./_collection":255,"./_collection-strong":252}],455:[function(require,module,exports){"use strict";require("./_string-html")("anchor",function(createHTML){return function anchor(name){return createHTML(this,"a","name",name)}})},{"./_string-html":332}],456:[function(require,module,exports){"use strict";require("./_string-html")("big",function(createHTML){return function big(){return createHTML(this,"big","","")}})},{"./_string-html":332}],457:[function(require,module,exports){"use strict";require("./_string-html")("blink",function(createHTML){return function blink(){return createHTML(this,"blink","","")}})},{"./_string-html":332}],458:[function(require,module,exports){"use strict";require("./_string-html")("bold",function(createHTML){return function bold(){return createHTML(this,"b","","")}})},{"./_string-html":332}],459:[function(require,module,exports){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!1);$export($export.P,"String",{codePointAt:function codePointAt(pos){return $at(this,pos)}})},{"./_export":265,"./_string-at":330}],460:[function(require,module,exports){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(ENDS_WITH),"String",{endsWith:function endsWith(searchString){var that=context(this,searchString,ENDS_WITH),endPosition=arguments.length>1?arguments[1]:undefined,len=toLength(that.length),end=endPosition===undefined?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},{"./_export":265,"./_fails-is-regexp":266,"./_string-context":331,"./_to-length":341}],461:[function(require,module,exports){"use strict";require("./_string-html")("fixed",function(createHTML){return function fixed(){return createHTML(this,"tt","","")}})},{"./_string-html":332}],462:[function(require,module,exports){"use strict";require("./_string-html")("fontcolor",function(createHTML){return function fontcolor(color){return createHTML(this,"font","color",color)}})},{"./_string-html":332}],463:[function(require,module,exports){"use strict";require("./_string-html")("fontsize",function(createHTML){return function fontsize(size){return createHTML(this,"font","size",size)}})},{"./_string-html":332}],464:[function(require,module,exports){var $export=require("./_export"),toIndex=require("./_to-index"),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&$fromCodePoint.length!=1),"String",{fromCodePoint:function fromCodePoint(x){var res=[],aLen=arguments.length,i=0,code;while(aLen>i){code=+arguments[i++];if(toIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(((code-=65536)>>10)+55296,code%1024+56320))}return res.join("")}})},{"./_export":265,"./_to-index":338}],465:[function(require,module,exports){"use strict";var $export=require("./_export"),context=require("./_string-context"),INCLUDES="includes";$export($export.P+$export.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function includes(searchString){return!!~context(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:undefined)}})},{"./_export":265,"./_fails-is-regexp":266,"./_string-context":331}],466:[function(require,module,exports){"use strict";require("./_string-html")("italics",function(createHTML){return function italics(){return createHTML(this,"i","","")}})},{"./_string-html":332}],467:[function(require,module,exports){"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var O=this._t,index=this._i,point;return index>=O.length?{value:undefined,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},{"./_iter-define":286,"./_string-at":330}],468:[function(require,module,exports){"use strict";require("./_string-html")("link",function(createHTML){return function link(url){return createHTML(this,"a","href",url)}})},{"./_string-html":332}],469:[function(require,module,exports){var $export=require("./_export"),toIObject=require("./_to-iobject"),toLength=require("./_to-length");$export($export.S,"String",{raw:function raw(callSite){var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;while(len>i)res.push(String(tpl[i++])),i<aLen&&res.push(String(arguments[i]));return res.join("")}})},{"./_export":265,"./_to-iobject":340,"./_to-length":341}],470:[function(require,module,exports){var $export=require("./_export");$export($export.P,"String",{repeat:require("./_string-repeat")})},{"./_export":265,"./_string-repeat":334}],471:[function(require,module,exports){"use strict";require("./_string-html")("small",function(createHTML){return function small(){return createHTML(this,"small","","")}})},{"./_string-html":332}],472:[function(require,module,exports){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function startsWith(searchString){var that=context(this,searchString,STARTS_WITH),index=toLength(Math.min(arguments.length>1?arguments[1]:undefined,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},{"./_export":265,"./_fails-is-regexp":266,"./_string-context":331,"./_to-length":341}],473:[function(require,module,exports){"use strict";require("./_string-html")("strike",function(createHTML){return function strike(){return createHTML(this,"strike","","")}})},{"./_string-html":332}],474:[function(require,module,exports){"use strict";require("./_string-html")("sub",function(createHTML){return function sub(){return createHTML(this,"sub","","")}})},{"./_string-html":332}],475:[function(require,module,exports){"use strict";require("./_string-html")("sup",function(createHTML){return function sup(){return createHTML(this,"sup","","")}})},{"./_string-html":332}],476:[function(require,module,exports){"use strict";require("./_string-trim")("trim",function($trim){return function trim(){return $trim(this,3)}})},{"./_string-trim":335}],477:[function(require,module,exports){"use strict";var global=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),keyOf=require("./_keyof"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE=typeof $Symbol=="function",QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return _create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a!=7})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&typeof $Symbol.iterator=="symbol"?function(it){return typeof it=="symbol"}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function defineProperties(it,P){anObject(it);var keys=enumKeys(P=toIObject(P)),i=0,l=keys.length,key;while(l>i)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function create(it,P){return P===undefined?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key)?!1:E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key]?E:!0},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){it=toIObject(it),key=toPrimitive(key,!0);if(it===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))return;var D=gOPD(it,key);return D&&has(AllSymbols,key)&&(!has(it,HIDDEN)||!it[HIDDEN][key])&&(D.enumerable=!0),D},$getOwnPropertyNames=function getOwnPropertyNames(it){var names=gOPN(toIObject(it)),result=[],i=0,key;while(names.length>i)!has(AllSymbols,key=names[i++])&&key!=HIDDEN&&key!=META&&result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){var IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0,key;while(names.length>i)has(AllSymbols,key=names[i++])&&(IS_OP?has(ObjectProto,key):!0)&&result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:undefined),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol[PROTOTYPE],"toString",function toString(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;symbols.length>i;)wks(symbols[i++]);for(var symbols=$keys(wks.store),i=0;symbols.length>i;)wksDefine(symbols[i++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(key){if(isSymbol(key))return keyOf(SymbolRegistry,key);throw TypeError(key+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return _stringify([S])!="[null]"||_stringify({a:S})!="{}"||_stringify(Object(S))!="{}"})),"JSON",{stringify:function stringify(it){if(it===undefined||isSymbol(it))return;var args=[it],i=1,replacer,$replacer;while(arguments.length>i)args.push(arguments[i++]);replacer=args[1],typeof replacer=="function"&&($replacer=replacer);if($replacer||!isArray(replacer))replacer=function(key,value){$replacer&&(value=$replacer.call(this,key,value));if(!isSymbol(value))return value};return args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||require("./_hide")($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},{"./_an-object":240,"./_descriptors":261,"./_enum-keys":264,"./_export":265,"./_fails":267,"./_global":271,"./_has":272,"./_hide":273,"./_is-array":280,"./_keyof":290,"./_library":291,"./_meta":295,"./_object-create":299,"./_object-dp":300,"./_object-gopd":303,"./_object-gopn":305,"./_object-gopn-ext":304,"./_object-gops":306,"./_object-keys":309,"./_object-pie":310,"./_property-desc":318,"./_redefine":320,"./_set-to-string-tag":325,"./_shared":327,"./_to-iobject":340,"./_to-primitive":343,"./_uid":347,"./_wks":350,"./_wks-define":348,"./_wks-ext":349}],478:[function(require,module,exports){"use strict";var $export=require("./_export"),$typed=require("./_typed"),buffer=require("./_typed-buffer"),anObject=require("./_an-object"),toIndex=require("./_to-index"),toLength=require("./_to-length"),isObject=require("./_is-object"),TYPED_ARRAY=require("./_wks")("typed_array"),ArrayBuffer=require("./_global").ArrayBuffer,speciesConstructor=require("./_species-constructor"),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW,ARRAY_BUFFER="ArrayBuffer";$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,ARRAY_BUFFER,{isView:function isView(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}}),$export($export.P+$export.U+$export.F*require("./_fails")(function(){return!(new $ArrayBuffer(2)).slice(1,undefined).byteLength}),ARRAY_BUFFER,{slice:function slice(start,end){if($slice!==undefined&&end===undefined)return $slice.call(anObject(this),start);var len=anObject(this).byteLength,first=toIndex(start,len),final=toIndex(end===undefined?len:end,len),result=new(speciesConstructor(this,$ArrayBuffer))(toLength(final-first)),viewS=new $DataView(this),viewT=new $DataView(result),index=0;while(first<final)viewT.setUint8(index++,viewS.getUint8(first++));return result}}),require("./_set-species")(ARRAY_BUFFER)},{"./_an-object":240,"./_export":265,"./_fails":267,"./_global":271,"./_is-object":282,"./_set-species":324,"./_species-constructor":328,"./_to-index":338,"./_to-length"
:341,"./_typed":346,"./_typed-buffer":345,"./_wks":350}],479:[function(require,module,exports){var $export=require("./_export");$export($export.G+$export.W+$export.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView})},{"./_export":265,"./_typed":346,"./_typed-buffer":345}],480:[function(require,module,exports){require("./_typed-array")("Float32",4,function(init){return function Float32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],481:[function(require,module,exports){require("./_typed-array")("Float64",8,function(init){return function Float64Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],482:[function(require,module,exports){require("./_typed-array")("Int16",2,function(init){return function Int16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],483:[function(require,module,exports){require("./_typed-array")("Int32",4,function(init){return function Int32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],484:[function(require,module,exports){require("./_typed-array")("Int8",1,function(init){return function Int8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],485:[function(require,module,exports){require("./_typed-array")("Uint16",2,function(init){return function Uint16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],486:[function(require,module,exports){require("./_typed-array")("Uint32",4,function(init){return function Uint32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],487:[function(require,module,exports){require("./_typed-array")("Uint8",1,function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":344}],488:[function(require,module,exports){require("./_typed-array")("Uint8",1,function(init){return function Uint8ClampedArray(data,byteOffset,length){return init(this,data,byteOffset,length)}},!0)},{"./_typed-array":344}],489:[function(require,module,exports){"use strict";var each=require("./_array-methods")(0),redefine=require("./_redefine"),meta=require("./_meta"),assign=require("./_object-assign"),weak=require("./_collection-weak"),isObject=require("./_is-object"),has=require("./_has"),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},InternalMap,wrapper=function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:undefined)}},methods={get:function get(key){if(isObject(key)){var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).get(key):data?data[this._i]:undefined}},set:function set(key,value){return weak.def(this,key,value)}},$WeakMap=module.exports=require("./_collection")("WeakMap",wrapper,methods,weak,!0,!0);(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)!=7&&(InternalMap=weak.getConstructor(wrapper),assign(InternalMap.prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return key=="set"?this:result}return method.call(this,a,b)})}))},{"./_array-methods":245,"./_collection":255,"./_collection-weak":254,"./_has":272,"./_is-object":282,"./_meta":295,"./_object-assign":298,"./_redefine":320}],490:[function(require,module,exports){"use strict";var weak=require("./_collection-weak");require("./_collection")("WeakSet",function(get){return function WeakSet(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function add(value){return weak.def(this,value,!0)}},weak,!1,!0)},{"./_collection":255,"./_collection-weak":254}],491:[function(require,module,exports){"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}}),require("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":238,"./_array-includes":244,"./_export":265}],492:[function(require,module,exports){var $export=require("./_export"),microtask=require("./_microtask")(),process=require("./_global").process,isNode=require("./_cof")(process)=="process";$export($export.G,{asap:function asap(fn){var domain=isNode&&process.domain;microtask(domain?domain.bind(fn):fn)}})},{"./_cof":251,"./_export":265,"./_global":271,"./_microtask":297}],493:[function(require,module,exports){var $export=require("./_export"),cof=require("./_cof");$export($export.S,"Error",{isError:function isError(it){return cof(it)==="Error"}})},{"./_cof":251,"./_export":265}],494:[function(require,module,exports){var $export=require("./_export");$export($export.P+$export.R,"Map",{toJSON:require("./_collection-to-json")("Map")})},{"./_collection-to-json":253,"./_export":265}],495:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{iaddh:function iaddh(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1+(y1>>>0)+(($x0&$y0|($x0|$y0)&~($x0+$y0>>>0))>>>31)|0}})},{"./_export":265}],496:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{imulh:function imulh(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>16,v1=$v>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>16)+((u0*v1>>>0)+(t&UINT16)>>16)}})},{"./_export":265}],497:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{isubh:function isubh(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1-(y1>>>0)-((~$x0&$y0|~($x0^$y0)&$x0-$y0>>>0)>>>31)|0}})},{"./_export":265}],498:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{umulh:function umulh(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>>16,v1=$v>>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>>16)+((u0*v1>>>0)+(t&UINT16)>>>16)}})},{"./_export":265}],499:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineGetter__:function __defineGetter__(P,getter){$defineProperty.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})},{"./_a-function":236,"./_descriptors":261,"./_export":265,"./_object-dp":300,"./_object-forced-pam":302,"./_to-object":342}],500:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineSetter__:function __defineSetter__(P,setter){$defineProperty.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})},{"./_a-function":236,"./_descriptors":261,"./_export":265,"./_object-dp":300,"./_object-forced-pam":302,"./_to-object":342}],501:[function(require,module,exports){var $export=require("./_export"),$entries=require("./_object-to-array")(!0);$export($export.S,"Object",{entries:function entries(it){return $entries(it)}})},{"./_export":265,"./_object-to-array":312}],502:[function(require,module,exports){var $export=require("./_export"),ownKeys=require("./_own-keys"),toIObject=require("./_to-iobject"),gOPD=require("./_object-gopd"),createProperty=require("./_create-property");$export($export.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){var O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0,key,D;while(keys.length>i)createProperty(result,key=keys[i++],getDesc(O,key));return result}})},{"./_create-property":257,"./_export":265,"./_object-gopd":303,"./_own-keys":313,"./_to-iobject":340}],503:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupGetter__:function __lookupGetter__(P){var O=toObject(this),K=toPrimitive(P,!0),D;do if(D=getOwnPropertyDescriptor(O,K))return D.get;while(O=getPrototypeOf(O))}})},{"./_descriptors":261,"./_export":265,"./_object-forced-pam":302,"./_object-gopd":303,"./_object-gpo":307,"./_to-object":342,"./_to-primitive":343}],504:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupSetter__:function __lookupSetter__(P){var O=toObject(this),K=toPrimitive(P,!0),D;do if(D=getOwnPropertyDescriptor(O,K))return D.set;while(O=getPrototypeOf(O))}})},{"./_descriptors":261,"./_export":265,"./_object-forced-pam":302,"./_object-gopd":303,"./_object-gpo":307,"./_to-object":342,"./_to-primitive":343}],505:[function(require,module,exports){var $export=require("./_export"),$values=require("./_object-to-array")(!1);$export($export.S,"Object",{values:function values(it){return $values(it)}})},{"./_export":265,"./_object-to-array":312}],506:[function(require,module,exports){"use strict";var $export=require("./_export"),global=require("./_global"),core=require("./_core"),microtask=require("./_microtask")(),OBSERVABLE=require("./_wks")("observable"),aFunction=require("./_a-function"),anObject=require("./_an-object"),anInstance=require("./_an-instance"),redefineAll=require("./_redefine-all"),hide=require("./_hide"),forOf=require("./_for-of"),RETURN=forOf.RETURN,getMethod=function(fn){return fn==null?undefined:aFunction(fn)},cleanupSubscription=function(subscription){var cleanup=subscription._c;cleanup&&(subscription._c=undefined,cleanup())},subscriptionClosed=function(subscription){return subscription._o===undefined},closeSubscription=function(subscription){subscriptionClosed(subscription)||(subscription._o=undefined,cleanupSubscription(subscription))},Subscription=function(observer,subscriber){anObject(observer),this._c=undefined,this._o=observer,observer=new SubscriptionObserver(this);try{var cleanup=subscriber(observer),subscription=cleanup;cleanup!=null&&(typeof cleanup.unsubscribe=="function"?cleanup=function(){subscription.unsubscribe()}:aFunction(cleanup),this._c=cleanup)}catch(e){observer.error(e);return}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function unsubscribe(){closeSubscription(this)}});var SubscriptionObserver=function(subscription){this._s=subscription};SubscriptionObserver.prototype=redefineAll({},{next:function next(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;try{var m=getMethod(observer.next);if(m)return m.call(observer,value)}catch(e){try{closeSubscription(subscription)}finally{throw e}}}},error:function error(value){var subscription=this._s;if(subscriptionClosed(subscription))throw value;var observer=subscription._o;subscription._o=undefined;try{var m=getMethod(observer.error);if(!m)throw value;value=m.call(observer,value)}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value},complete:function complete(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;subscription._o=undefined;try{var m=getMethod(observer.complete);value=m?m.call(observer,value):undefined}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value}}});var $Observable=function Observable(subscriber){anInstance(this,$Observable,"Observable","_f")._f=aFunction(subscriber)};redefineAll($Observable.prototype,{subscribe:function subscribe(observer){return new Subscription(observer,this._f)},forEach:function forEach(fn){var that=this;return new(core.Promise||global.Promise)(function(resolve,reject){aFunction(fn);var subscription=that.subscribe({next:function(value){try{return fn(value)}catch(e){reject(e),subscription.unsubscribe()}},error:reject,complete:resolve})})}}),redefineAll($Observable,{from:function from(x){var C=typeof this=="function"?this:$Observable,method=getMethod(anObject(x)[OBSERVABLE]);if(method){var observable=anObject(method.call(x));return observable.constructor===C?observable:new C(function(observer){return observable.subscribe(observer)})}return new C(function(observer){var done=!1;return microtask(function(){if(!done){try{if(forOf(x,!1,function(it){observer.next(it);if(done)return RETURN})===RETURN)return}catch(e){if(done)throw e;observer.error(e);return}observer.complete()}}),function(){done=!0}})},of:function of(){for(var i=0,l=arguments.length,items=Array(l);i<l;)items[i]=arguments[i++];return new(typeof this=="function"?this:$Observable)(function(observer){var done=!1;return microtask(function(){if(!done){for(var i=0;i<items.length;++i){observer.next(items[i]);if(done)return}observer.complete()}}),function(){done=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),require("./_set-species")("Observable")},{"./_a-function":236,"./_an-instance":239,"./_an-object":240,"./_core":256,"./_export":265,"./_for-of":270,"./_global":271,"./_hide":273,"./_microtask":297,"./_redefine-all":319,"./_set-species":324,"./_wks":350}],507:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function defineMetadata(metadataKey,metadataValue,target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,anObject(target),toMetaKey(targetKey))}})},{"./_an-object":240,"./_metadata":296}],508:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function deleteMetadata(metadataKey,target){var targetKey=arguments.length<3?undefined:toMetaKey(arguments[2]),metadataMap=getOrCreateMetadataMap(anObject(target),targetKey,!1);if(metadataMap===undefined||!metadataMap["delete"](metadataKey))return!1;if(metadataMap.size)return!0;var targetMetadata=store.get(target);return targetMetadata["delete"](targetKey),!!targetMetadata.size||store["delete"](target)}})},{"./_an-object":240,"./_metadata":296}],509:[function(require,module,exports){var Set=require("./es6.set"),from=require("./_array-from-iterable"),metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function(O,P){var oKeys=ordinaryOwnMetadataKeys(O,P),parent=getPrototypeOf(O);if(parent===null)return oKeys;var pKeys=ordinaryMetadataKeys(parent,P);return pKeys.length?oKeys.length?from(new Set(oKeys.concat(pKeys))):pKeys:oKeys};metadata.exp({getMetadataKeys:function getMetadataKeys(target){return ordinaryMetadataKeys(anObject(target),arguments.length<2?undefined:toMetaKey(arguments[1]))}})},{"./_an-object":240,"./_array-from-iterable":243,"./_metadata":296,"./_object-gpo":307,"./es6.set":454}],510:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey,O,P);var parent=getPrototypeOf(O);return parent!==null?ordinaryGetMetadata(MetadataKey,parent,P):undefined};metadata.exp({getMetadata:function getMetadata(metadataKey,target){return ordinaryGetMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":240,"./_metadata":296,"./_object-gpo":307}],511:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function getOwnMetadataKeys(target){return ordinaryOwnMetadataKeys(anObject(target),arguments.length<2?undefined:toMetaKey(arguments[1]))}})},{"./_an-object":240,"./_metadata":296}],512:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function getOwnMetadata(metadataKey,target){return ordinaryGetOwnMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":240,"./_metadata":296}],513:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=getPrototypeOf(O);return parent!==null?ordinaryHasMetadata(MetadataKey,parent,P):!1};metadata.exp({hasMetadata:function hasMetadata(metadataKey,target){return ordinaryHasMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":240,"./_metadata":296,"./_object-gpo":307}],514:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function hasOwnMetadata(metadataKey,target){return ordinaryHasOwnMetadata(metadataKey,anObject(target),arguments.length<3?undefined:toMetaKey(arguments[2]))}})},{"./_an-object":240,"./_metadata":296}],515:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),aFunction=require("./_a-function"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({metadata:function metadata(metadataKey,metadataValue){return function decorator(target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,(targetKey!==undefined?anObject:aFunction)(target),toMetaKey(targetKey))}}})},{"./_a-function":236,"./_an-object":240,"./_metadata":296}],516:[function(require,module,exports){var $export=require("./_export");$export($export.P+$export.R,"Set",{toJSON:require("./_collection-to-json")("Set")})},{"./_collection-to-json":253,"./_export":265}],517:[function(require,module,exports){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!0);$export($export.P,"String",{at:function at(pos){return $at(this,pos)}})},{"./_export":265,"./_string-at":330}],518:[function(require,module,exports){"use strict";var $export=require("./_export"),defined=require("./_defined"),toLength=require("./_to-length"),isRegExp=require("./_is-regexp"),getFlags=require("./_flags"),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(regexp,string){this._r=regexp,this._s=string};require("./_iter-create")($RegExpStringIterator,"RegExp String",function next(){var match=this._r.exec(this._s);return{value:match,done:match===null}}),$export($export.P,"String",{matchAll:function matchAll(regexp){defined(this);if(!isRegExp(regexp))throw TypeError(regexp+" is not a regexp!");var S=String(this),flags="flags"in RegExpProto?String(regexp.flags):getFlags.call(regexp),rx=new RegExp(regexp.source,~flags.indexOf("g")?flags:"g"+flags);return rx.lastIndex=toLength(regexp.lastIndex),new $RegExpStringIterator(rx,S)}})},{"./_defined":260,"./_export":265,"./_flags":269,"./_is-regexp":283,"./_iter-create":285,"./_to-length":341}],519:[function(require,module,exports){"use strict";var $export=require("./_export"),$pad=require("./_string-pad");$export($export.P,"String",{padEnd:function padEnd(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,!1)}})},{"./_export":265,"./_string-pad":333}],520:[function(require,module,exports){"use strict";var $export=require("./_export"),$pad=require("./_string-pad");$export($export.P,"String",{padStart:function padStart(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,!0)}})},{"./_export":265,"./_string-pad":333}],521:[function(require,module,exports){"use strict";require("./_string-trim")("trimLeft",function($trim){return function trimLeft(){return $trim(this,1)}},"trimStart")},{"./_string-trim":335}],522:[function(require,module,exports){"use strict";require("./_string-trim")("trimRight",function($trim){return function trimRight(){return $trim(this,2)}},"trimEnd")},{"./_string-trim":335}],523:[function(require,module,exports){require("./_wks-define")("asyncIterator")},{"./_wks-define":348}],524:[function(require,module,exports){require("./_wks-define")("observable")},{"./_wks-define":348}],525:[function(require,module,exports){var $export=require("./_export");$export($export.S,"System",{global:require("./_global")})},{"./_export":265,"./_global":271}],526:[function(require,module,exports){var $iterators=require("./es6.array.iterator"),redefine=require("./_redefine"),global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array;for(var collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype,key;if(proto){proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues;for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}},{"./_global":271,"./_hide":273,"./_iterators":289,"./_redefine":320,"./_wks":350,"./es6.array.iterator":364}],527:[function(require,module,exports){var $export=require("./_export"),$task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},{"./_export":265,"./_task":337}],528:[function(require,module,exports){var global=require("./_global"),$export=require("./_export"),invoke=require("./_invoke"),partial=require("./_partial"),navigator=global.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent),wrap=function(set){return MSIE?function(fn,time){return set(invoke(partial,[].slice.call(arguments,2),typeof fn=="function"?fn:Function(fn)),time)}:set};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},{"./_export":265,"./_global":271,"./_invoke":277,"./_partial":316}],529:[function(require,module,exports){require("./modules/es6.symbol"),require("./modules/es6.object.create"),require("./modules/es6.object.define-property"),require("./modules/es6.object.define-properties"),require("./modules/es6.object.get-own-property-descriptor"),require("./modules/es6.object.get-prototype-of"),require("./modules/es6.object.keys"),require("./modules/es6.object.get-own-property-names"),require("./modules/es6.object.freeze"),require("./modules/es6.object.seal"),require("./modules/es6.object.prevent-extensions"),require("./modules/es6.object.is-frozen"),require("./modules/es6.object.is-sealed"),require("./modules/es6.object.is-extensible"),require("./modules/es6.object.assign"),require("./modules/es6.object.is"),require("./modules/es6.object.set-prototype-of"),require("./modules/es6.object.to-string"),require("./modules/es6.function.bind"),require("./modules/es6.function.name"),require("./modules/es6.function.has-instance"),require("./modules/es6.parse-int"),require("./modules/es6.parse-float"),require("./modules/es6.number.constructor"),require("./modules/es6.number.to-fixed"),require("./modules/es6.number.to-precision"),require("./modules/es6.number.epsilon"),require("./modules/es6.number.is-finite"),require("./modules/es6.number.is-integer"),require("./modules/es6.number.is-nan"),require("./modules/es6.number.is-safe-integer"),require("./modules/es6.number.max-safe-integer"),require("./modules/es6.number.min-safe-integer"),require("./modules/es6.number.parse-float"),require("./modules/es6.number.parse-int"),require("./modules/es6.math.acosh"),require("./modules/es6.math.asinh"),require("./modules/es6.math.atanh"),require("./modules/es6.math.cbrt"),require("./modules/es6.math.clz32"),require("./modules/es6.math.cosh"),require("./modules/es6.math.expm1"),require("./modules/es6.math.fround"),require("./modules/es6.math.hypot"),require("./modules/es6.math.imul"),require("./modules/es6.math.log10"),require("./modules/es6.math.log1p"),require("./modules/es6.math.log2"),require("./modules/es6.math.sign"),require("./modules/es6.math.sinh"),require("./modules/es6.math.tanh"),require("./modules/es6.math.trunc"),require("./modules/es6.string.from-code-point"),require("./modules/es6.string.raw"),require("./modules/es6.string.trim"),require("./modules/es6.string.iterator"),require("./modules/es6.string.code-point-at"),require("./modules/es6.string.ends-with"),require("./modules/es6.string.includes"),require("./modules/es6.string.repeat"),require("./modules/es6.string.starts-with"),require("./modules/es6.string.anchor"),require("./modules/es6.string.big"),require("./modules/es6.string.blink"),require("./modules/es6.string.bold"),require("./modules/es6.string.fixed"),require("./modules/es6.string.fontcolor"),require("./modules/es6.string.fontsize"),require("./modules/es6.string.italics"),require("./modules/es6.string.link"),require("./modules/es6.string.small"),require("./modules/es6.string.strike"),require("./modules/es6.string.sub"),require("./modules/es6.string.sup"),require("./modules/es6.date.now"),require("./modules/es6.date.to-json"),require("./modules/es6.date.to-iso-string"),require("./modules/es6.date.to-string"),require("./modules/es6.date.to-primitive"),require("./modules/es6.array.is-array"),require("./modules/es6.array.from"),require("./modules/es6.array.of"),require("./modules/es6.array.join"),require("./modules/es6.array.slice"),require("./modules/es6.array.sort"),require("./modules/es6.array.for-each"),require("./modules/es6.array.map"),require("./modules/es6.array.filter"),require("./modules/es6.array.some"),require("./modules/es6.array.every"),require("./modules/es6.array.reduce"),require("./modules/es6.array.reduce-right"),require("./modules/es6.array.index-of"),require("./modules/es6.array.last-index-of"),require("./modules/es6.array.copy-within"),require("./modules/es6.array.fill"),require("./modules/es6.array.find"),require("./modules/es6.array.find-index"),require("./modules/es6.array.species"),require("./modules/es6.array.iterator"),require("./modules/es6.regexp.constructor"),require("./modules/es6.regexp.to-string"),require("./modules/es6.regexp.flags"),require("./modules/es6.regexp.match"),require("./modules/es6.regexp.replace"),require("./modules/es6.regexp.search"),require("./modules/es6.regexp.split"),require("./modules/es6.promise"),require("./modules/es6.map"),require("./modules/es6.set"),require("./modules/es6.weak-map"),require("./modules/es6.weak-set"),require("./modules/es6.typed.array-buffer"),require("./modules/es6.typed.data-view"),require("./modules/es6.typed.int8-array"),require("./modules/es6.typed.uint8-array"),require("./modules/es6.typed.uint8-clamped-array"),require("./modules/es6.typed.int16-array"),require("./modules/es6.typed.uint16-array"),require("./modules/es6.typed.int32-array"),require("./modules/es6.typed.uint32-array"),require("./modules/es6.typed.float32-array"),require("./modules/es6.typed.float64-array"),require("./modules/es6.reflect.apply"),require("./modules/es6.reflect.construct"),require("./modules/es6.reflect.define-property"),require("./modules/es6.reflect.delete-property"),require("./modules/es6.reflect.enumerate"),require("./modules/es6.reflect.get"),require("./modules/es6.reflect.get-own-property-descriptor"),require("./modules/es6.reflect.get-prototype-of"),require("./modules/es6.reflect.has"),require("./modules/es6.reflect.is-extensible"),require("./modules/es6.reflect.own-keys"),require("./modules/es6.reflect.prevent-extensions"),require("./modules/es6.reflect.set"),require("./modules/es6.reflect.set-prototype-of"),require("./modules/es7.array.includes"),require("./modules/es7.string.at"),require("./modules/es7.string.pad-start"),require("./modules/es7.string.pad-end"),require("./modules/es7.string.trim-left"),require("./modules/es7.string.trim-right"),require("./modules/es7.string.match-all"),require("./modules/es7.symbol.async-iterator"),require("./modules/es7.symbol.observable"),require("./modules/es7.object.get-own-property-descriptors"),require("./modules/es7.object.values"),require("./modules/es7.object.entries"),require("./modules/es7.object.define-getter"),require("./modules/es7.object.define-setter"),require("./modules/es7.object.lookup-getter"),require("./modules/es7.object.lookup-setter"),require("./modules/es7.map.to-json"),require("./modules/es7.set.to-json"),require("./modules/es7.system.global"),require("./modules/es7.error.is-error"),require("./modules/es7.math.iaddh"),require("./modules/es7.math.isubh"),require("./modules/es7.math.imulh"),require("./modules/es7.math.umulh"),require("./modules/es7.reflect.define-metadata"),require("./modules/es7.reflect.delete-metadata"),require("./modules/es7.reflect.get-metadata"),require("./modules/es7.reflect.get-metadata-keys"),require("./modules/es7.reflect.get-own-metadata"),require("./modules/es7.reflect.get-own-metadata-keys"),require("./modules/es7.reflect.has-metadata"),require("./modules/es7.reflect.has-own-metadata"),require("./modules/es7.reflect.metadata"),require("./modules/es7.asap"),require("./modules/es7.observable"),require("./modules/web.timers"),require("./modules/web.immediate"),require("./modules/web.dom.iterable"),module.exports=require("./modules/_core")},{"./modules/_core":256,"./modules/es6.array.copy-within":354,"./modules/es6.array.every":355,"./modules/es6.array.fill":356,"./modules/es6.array.filter":357,"./modules/es6.array.find":359,"./modules/es6.array.find-index":358,"./modules/es6.array.for-each":360,"./modules/es6.array.from":361,"./modules/es6.array.index-of":362,"./modules/es6.array.is-array":363,"./modules/es6.array.iterator":364,"./modules/es6.array.join":365,"./modules/es6.array.last-index-of":366,"./modules/es6.array.map":367,"./modules/es6.array.of":368,"./modules/es6.array.reduce":370,"./modules/es6.array.reduce-right":369,"./modules/es6.array.slice":371,"./modules/es6.array.some":372,"./modules/es6.array.sort":373,"./modules/es6.array.species":374,"./modules/es6.date.now":375,"./modules/es6.date.to-iso-string":376,"./modules/es6.date.to-json":377,"./modules/es6.date.to-primitive":378,"./modules/es6.date.to-string":379,"./modules/es6.function.bind":380,"./modules/es6.function.has-instance":381,"./modules/es6.function.name":382,"./modules/es6.map":383,"./modules/es6.math.acosh":384,"./modules/es6.math.asinh":385,"./modules/es6.math.atanh":386,"./modules/es6.math.cbrt":387,"./modules/es6.math.clz32":388,"./modules/es6.math.cosh":389,"./modules/es6.math.expm1":390,"./modules/es6.math.fround":391,"./modules/es6.math.hypot":392,"./modules/es6.math.imul":393,"./modules/es6.math.log10":394,"./modules/es6.math.log1p":395,"./modules/es6.math.log2":396,"./modules/es6.math.sign":397,"./modules/es6.math.sinh":398,"./modules/es6.math.tanh":399,"./modules/es6.math.trunc":400,"./modules/es6.number.constructor":401,"./modules/es6.number.epsilon":402,"./modules/es6.number.is-finite":403,"./modules/es6.number.is-integer":404,"./modules/es6.number.is-nan":405,"./modules/es6.number.is-safe-integer":406,"./modules/es6.number.max-safe-integer":407,"./modules/es6.number.min-safe-integer":408,"./modules/es6.number.parse-float":409,"./modules/es6.number.parse-int":410,"./modules/es6.number.to-fixed":411,"./modules/es6.number.to-precision":412,"./modules/es6.object.assign":413,"./modules/es6.object.create":414,"./modules/es6.object.define-properties":415,"./modules/es6.object.define-property":416,"./modules/es6.object.freeze":417,"./modules/es6.object.get-own-property-descriptor":418,"./modules/es6.object.get-own-property-names":419,"./modules/es6.object.get-prototype-of":420,"./modules/es6.object.is"
:424,"./modules/es6.object.is-extensible":421,"./modules/es6.object.is-frozen":422,"./modules/es6.object.is-sealed":423,"./modules/es6.object.keys":425,"./modules/es6.object.prevent-extensions":426,"./modules/es6.object.seal":427,"./modules/es6.object.set-prototype-of":428,"./modules/es6.object.to-string":429,"./modules/es6.parse-float":430,"./modules/es6.parse-int":431,"./modules/es6.promise":432,"./modules/es6.reflect.apply":433,"./modules/es6.reflect.construct":434,"./modules/es6.reflect.define-property":435,"./modules/es6.reflect.delete-property":436,"./modules/es6.reflect.enumerate":437,"./modules/es6.reflect.get":440,"./modules/es6.reflect.get-own-property-descriptor":438,"./modules/es6.reflect.get-prototype-of":439,"./modules/es6.reflect.has":441,"./modules/es6.reflect.is-extensible":442,"./modules/es6.reflect.own-keys":443,"./modules/es6.reflect.prevent-extensions":444,"./modules/es6.reflect.set":446,"./modules/es6.reflect.set-prototype-of":445,"./modules/es6.regexp.constructor":447,"./modules/es6.regexp.flags":448,"./modules/es6.regexp.match":449,"./modules/es6.regexp.replace":450,"./modules/es6.regexp.search":451,"./modules/es6.regexp.split":452,"./modules/es6.regexp.to-string":453,"./modules/es6.set":454,"./modules/es6.string.anchor":455,"./modules/es6.string.big":456,"./modules/es6.string.blink":457,"./modules/es6.string.bold":458,"./modules/es6.string.code-point-at":459,"./modules/es6.string.ends-with":460,"./modules/es6.string.fixed":461,"./modules/es6.string.fontcolor":462,"./modules/es6.string.fontsize":463,"./modules/es6.string.from-code-point":464,"./modules/es6.string.includes":465,"./modules/es6.string.italics":466,"./modules/es6.string.iterator":467,"./modules/es6.string.link":468,"./modules/es6.string.raw":469,"./modules/es6.string.repeat":470,"./modules/es6.string.small":471,"./modules/es6.string.starts-with":472,"./modules/es6.string.strike":473,"./modules/es6.string.sub":474,"./modules/es6.string.sup":475,"./modules/es6.string.trim":476,"./modules/es6.symbol":477,"./modules/es6.typed.array-buffer":478,"./modules/es6.typed.data-view":479,"./modules/es6.typed.float32-array":480,"./modules/es6.typed.float64-array":481,"./modules/es6.typed.int16-array":482,"./modules/es6.typed.int32-array":483,"./modules/es6.typed.int8-array":484,"./modules/es6.typed.uint16-array":485,"./modules/es6.typed.uint32-array":486,"./modules/es6.typed.uint8-array":487,"./modules/es6.typed.uint8-clamped-array":488,"./modules/es6.weak-map":489,"./modules/es6.weak-set":490,"./modules/es7.array.includes":491,"./modules/es7.asap":492,"./modules/es7.error.is-error":493,"./modules/es7.map.to-json":494,"./modules/es7.math.iaddh":495,"./modules/es7.math.imulh":496,"./modules/es7.math.isubh":497,"./modules/es7.math.umulh":498,"./modules/es7.object.define-getter":499,"./modules/es7.object.define-setter":500,"./modules/es7.object.entries":501,"./modules/es7.object.get-own-property-descriptors":502,"./modules/es7.object.lookup-getter":503,"./modules/es7.object.lookup-setter":504,"./modules/es7.object.values":505,"./modules/es7.observable":506,"./modules/es7.reflect.define-metadata":507,"./modules/es7.reflect.delete-metadata":508,"./modules/es7.reflect.get-metadata":510,"./modules/es7.reflect.get-metadata-keys":509,"./modules/es7.reflect.get-own-metadata":512,"./modules/es7.reflect.get-own-metadata-keys":511,"./modules/es7.reflect.has-metadata":513,"./modules/es7.reflect.has-own-metadata":514,"./modules/es7.reflect.metadata":515,"./modules/es7.set.to-json":516,"./modules/es7.string.at":517,"./modules/es7.string.match-all":518,"./modules/es7.string.pad-end":519,"./modules/es7.string.pad-start":520,"./modules/es7.string.trim-left":521,"./modules/es7.string.trim-right":522,"./modules/es7.symbol.async-iterator":523,"./modules/es7.symbol.observable":524,"./modules/es7.system.global":525,"./modules/web.dom.iterable":526,"./modules/web.immediate":527,"./modules/web.timers":528}],530:[function(require,module,exports){!function(){function d3_documentElement(node){return node&&(node.ownerDocument||node.document||node).documentElement}function d3_window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d3_number(x){return x===null?NaN:+x}function d3_numeric(x){return!isNaN(x)}function d3_bisector(compare){return{left:function(a,x,lo,hi){arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);while(lo<hi){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);while(lo<hi){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}function d3_transposeLength(d){return d.length}function d3_range_integerScale(x){var k=1;while(x*k%1)k*=10;return k}function d3_class(ctor,properties){for(var key in properties)Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(d){return d}function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;i<n;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(dispatch){function event(){var z=listeners,i=-1,n=z.length,l;while(++i<n)(l=z[i].on)&&l.apply(this,arguments);return dispatch}var listeners=[],listenerByName=new d3_Map;return event.on=function(name,listener){var l=listenerByName.get(name),i;return arguments.length<2?l&&l.on:(l&&(l.on=null,listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1)),listenerByName.remove(name)),listener&&listeners.push(listenerByName.set(name,{on:listener})),dispatch)},event}function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){var e=d3.event,s;while(s=e.sourceEvent)e=s;return e}function d3_eventDispatch(target){var dispatch=new d3_dispatch,i=0,n=arguments.length;while(++i<n)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target,d3.event=e1,dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}},dispatch}function d3_selection(groups){return d3_subclass(groups,d3_selectionPrototype),groups}function d3_selection_selector(selector){return typeof selector=="function"?selector:function(){return d3_select(selector,this)}}function d3_selection_selectorAll(selector){return typeof selector=="function"?selector:function(){return d3_selectAll(selector,this)}}function d3_selection_attr(name,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);x==null?this.removeAttribute(name):this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);x==null?this.removeAttributeNS(name.space,name.local):this.setAttributeNS(name.space,name.local,x)}return name=d3.ns.qualify(name),value==null?name.local?attrNullNS:attrNull:typeof value=="function"?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){function classedConstant(){var i=-1;while(++i<n)name[i](this,value)}function classedFunction(){var i=-1,x=value.apply(this,arguments);while(++i<n)name[i](this,x)}name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;return typeof value=="function"?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";value?(re.lastIndex=0,re.test(c)||node.setAttribute("class",d3_collapse(c+" "+name))):node.setAttribute("class",d3_collapse(c.replace(re," ")))}}function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);x==null?this.style.removeProperty(name):this.style.setProperty(name,x,priority)}return value==null?styleNull:typeof value=="function"?styleFunction:styleConstant}function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);x==null?delete this[name]:this[name]=x}return value==null?propertyNull:typeof value=="function"?propertyFunction:propertyConstant}function d3_selection_creator(name){function create(){var document=this.ownerDocument,namespace=this.namespaceURI;return namespace===d3_nsXhtml&&document.documentElement.namespaceURI===d3_nsXhtml?document.createElement(name):document.createElementNS(namespace,name)}function createNS(){return this.ownerDocument.createElementNS(name.space,name.local)}return typeof name=="function"?name:(name=d3.ns.qualify(name)).local?createNS:create}function d3_selectionRemove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function d3_selection_dataNode(data){return{__data__:data}}function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}function d3_selection_sortComparator(comparator){return arguments.length||(comparator=d3_ascending),function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}function d3_selection_each(groups,callback){for(var j=0,m=groups.length;j<m;j++)for(var group=groups[j],i=0,n=group.length,node;i<n;i++)(node=group[i])&&callback(node,i,j);return groups}function d3_selection_enter(selection){return d3_subclass(selection,d3_selection_enterPrototype),selection}function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var group=enter[j].update,n=group.length,node;j!=j0&&(j0=j,i0=0),i>=i0&&(i0=i+1);while(!(node=group[i0])&&++i0<n);return node}}function d3_selection_on(type,listener,capture){function onRemove(){var l=this[name];l&&(this.removeEventListener(type,l,l.$),delete this[name])}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this),this.addEventListener(type,this[name]=l,l.$=capture),l._=listener}function removeAll(){var re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$"),match;for(var name in this)if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$),delete this[name]}}var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;i>0&&(type=type.slice(0,i));var filter=d3_selection_onFilters.get(type);return filter&&(type=filter,wrap=d3_selection_onFilter),i?listener?onAdd:onRemove:listener?d3_noop:removeAll}function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e,argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;(!related||related!==target&&!(related.compareDocumentPosition(target)&8))&&l.call(target,e)}}function d3_event_dragSuppress(node){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window(node)).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);d3_event_dragSelect==null&&(d3_event_dragSelect="onselectstart"in node?!1:d3_vendorSymbol(node.style,"userSelect"));if(d3_event_dragSelect){var style=d3_documentElement(node).style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){w.on(name,null),d3_event_dragSelect&&(style[d3_event_dragSelect]=select);if(suppressClick){var off=function(){w.on(click,null)};w.on(click,function(){d3_eventPreventDefault(),off()},!0),setTimeout(off,0)}}}function d3_mousePoint(container,e){e.changedTouches&&(e=e.changedTouches[0]);var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(d3_mouse_bug44083<0){var window=d3_window(container);if(window.scrollX||window.scrollY){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!ctm.f&&!ctm.e,svg.remove()}}return d3_mouse_bug44083?(point.x=e.pageX,point.y=e.pageY):(point.x=e.clientX,point.y=e.clientY),point=point.matrixTransform(container.getScreenCTM().inverse()),[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}function d3_sgn(x){return x>0?1:x<0?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:x<-1?π:Math.acos(x)}function d3_asin(x){return x>1?halfπ:x<-1?-halfπ:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}function d3_color(){}function d3_hsl(h,s,l){return this instanceof d3_hsl?void (this.h=+h,this.s=+s,this.l=+l):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}function d3_hsl_rgb(h,s,l){function v(h){return h>360?h-=360:h<0&&(h+=360),h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1}function vv(h){return Math.round(v(h)*255)}var m1,m2;return h=isNaN(h)?0:(h%=360)<0?h+360:h,s=isNaN(s)?0:s<0?0:s>1?1:s,l=l<0?0:l>1?1:l,m2=l<=.5?l*(1+s):l+s-l*s,m1=2*l-m2,new d3_rgb(vv(h+120),vv(h),vv(h-120))}function d3_hcl(h,c,l){return this instanceof d3_hcl?void (this.h=+h,this.c=+c,this.l=+l):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}function d3_hcl_lab(h,c,l){return isNaN(h)&&(h=0),isNaN(c)&&(c=0),new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}function d3_lab(l,a,b){return this instanceof d3_lab?void (this.l=+l,this.a=+a,this.b=+b):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;return x=d3_lab_xyz(x)*d3_lab_X,y=d3_lab_xyz(y)*d3_lab_Y,z=d3_lab_xyz(z)*d3_lab_Z,new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-0.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}function d3_rgb(r,g,b){return this instanceof d3_rgb?void (this.r=~~r,this.g=~~g,this.b=~~b):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,value&255)}function d3_rgbString(value){return d3_rgbNumber(value)+""}function d3_rgb_hex(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){var r=0,g=0,b=0,m1,m2,color;m1=/([a-z]+)\((.*)\)/.exec(format=format.toLowerCase());if(m1){m2=m1[2].split(",");switch(m1[1]){case"hsl":return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100);case"rgb":return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}}return(color=d3_rgb_names.get(format))?rgb(color.r,color.g,color.b):(format!=null&&format.charAt(0)==="#"&&!isNaN(color=parseInt(format.slice(1),16))&&(format.length===4?(r=(color&3840)>>4,r=r>>4|r,g=color&240,g=g>>4|g,b=color&15,b=b<<4|b):format.length===7&&(r=(color&16711680)>>16,g=(color&65280)>>8,b=color&255)),rgb(r,g,b))}function d3_rgb_hsl(r,g,b){var min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,h,s,l=(max+min)/2;return d?(s=l<.5?d/(max+min):d/(2-max-min),r==max?h=(g-b)/d+(g<b?6:0):g==max?h=(b-r)/d+2:h=(r-g)/d+4,h*=60):(h=NaN,s=l>0&&l<1?0:h),new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r),g=d3_rgb_xyz(g),b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(f*2.55):f}function d3_functor(v){return typeof v=="function"?v:function(){return v}}function d3_xhrType(response){return function(url,mimeType,callback){return arguments.length===2&&typeof mimeType=="function"&&(callback=mimeType,mimeType=null),d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){function respond(){var status=request.status,result;if(!status&&d3_xhrHasResponse(request)||status>=200&&status<300||status===304){try{result=response.call(xhr,request)}catch(e){dispatch.error.call(xhr,e);return}dispatch.load.call(xhr,result)}else dispatch.error.call(xhr,request)}var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;return this.XDomainRequest&&!("withCredentials"in request)&&/^(http(s)?:)?\/\//.test(url)&&(request=new XDomainRequest),"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()},request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}},xhr.header=function(name,value){return name=(name+"").toLowerCase(),arguments.length<2?headers[name]:(value==null?delete headers[name]:headers[name]=value+"",xhr)},xhr.mimeType=function(value){return arguments.length?(mimeType=value==null?null:value+"",xhr):mimeType},xhr.responseType=function(value){return arguments.length?(responseType=value,xhr):responseType},xhr.response=function(value){return response=value,xhr},["get","post"].forEach(function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}}),xhr.send=function(method,data,callback){arguments.length===2&&typeof data=="function"&&(callback=data,data=null),request.open(method,url,!0),mimeType!=null&&!("accept"in headers)&&(headers.accept=mimeType+",*/*");if(request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);return mimeType!=null&&request.overrideMimeType&&request.overrideMimeType(mimeType),responseType!=null&&(request.responseType=responseType),callback!=null&&xhr.on("error",callback).on("load",function(request){callback(null,request)}),dispatch.beforesend.call(xhr,request),request.send(data==null?null:data),xhr},xhr.abort=function(){return request.abort(),xhr},d3.rebind(xhr,dispatch,"on"),callback==null?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return callback.length===1?function(error,request){callback(error==null?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&type!=="text"?request.response:request.responseText}function d3_timer(callback,delay,then){var n=arguments.length;n<2&&(delay=0),n<3&&(then=Date.now());var time=then+delay,timer={c:callback,t:time,n:null};return d3_timer_queueTail?d3_timer_queueTail.n=timer:d3_timer_queueHead=timer,d3_timer_queueTail=timer,d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step)),timer}function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;delay>24?(isFinite(delay)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,delay)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_mark(){var now=Date.now(),timer=d3_timer_queueHead;while(timer)now>=timer.t&&timer.c(now-timer.t)&&(timer.c=null),timer=timer.n;return now}function d3_timer_sweep(){var t0,t1=d3_timer_queueHead,time=Infinity;while(t1)t1.c?(t1.t<time&&(time=t1.t),t1=(t0=t1).n):t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n;return d3_timer_queueTail=t0,time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}function d3_formatPrefix(d,i){var k=Math.pow(10,abs(8-i)*3);return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;while(i>0&&g>0){length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=locale_grouping[j=(j+1)%locale_grouping.length]}return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=!1,exponent=!0;precision&&(precision=+precision.substring(1));if(zfill||fill==="0"&&align==="=")zfill=fill="0",align="=";switch(type){case"n":comma=!0,type="g";break;case"%":scale=100,suffix="%",type="f";break;case"p":scale=100,suffix="%",type="r";break;case"b":case"o":case"x":case"X":symbol==="#"&&(prefix="0"+type.toLowerCase());case"c":exponent=!1;case"d":integer=!0,precision=0;break;case"s":scale=-1,type="r"}symbol==="$"&&(prefix=locale_currency[0],suffix=locale_currency[1]),type=="r"&&!precision&&(type="g");if(precision!=null)if(type=="g")precision=Math.max(1,Math.min(21,precision));else if(type=="e"||type=="f")precision=Math.max(0,Math.min(20,precision));type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=value<0||value===0&&1/value<0?(value=-value,"-"):sign==="-"?"":sign;if(scale<0){var unit=d3.formatPrefix(value,precision);value=unit.scale(value),fullSuffix=unit.symbol+suffix}else value*=scale;value=type(value,precision);var i=value.lastIndexOf("."),before,after;if(i<0){var j=exponent?value.lastIndexOf("e"):-1;j<0?(before=value,after=""):(before=value.substring(0,j),after=value.substring(j))}else before=value.substring(0,i),after=locale_decimal+value.substring(i+1);!zfill&&comma&&(before=formatGroup(before,Infinity));var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=length<width?(new Array(length=width-length+1)).join(fill):"";return zcomma&&(before=formatGroup(padding+before,padding.length?width-after.length:Infinity)),negative+=prefix,value=before+after,(align==="<"?negative+value+padding:align===">"?padding+negative+value:align==="^"?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}function d3_format_typeDefault(x){return x+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return date-d0<d1-date?d0:d1}function ceil(date){return step(date=local(new d3_date(date-1)),1),date}function offset(date,k){return step(date=new d3_date(+date),k),date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1)while(time<t1)number(time)%dt||times.push(new Date(+time)),step(time,1);else while(time<t1)times.push(new Date(+time)),step(time,1);return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=t0,range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local,local.round=round,local.ceil=ceil,local.offset=offset,local.range=range;var utc=local.utc=d3_time_interval_utc(local);return utc.floor=utc,utc.round=d3_time_interval_utc(round),utc.ceil=d3_time_interval_utc(ceil),utc.offset=d3_time_interval_utc(offset),utc.range=range_utc,local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=date,method(utc,k)._}finally{d3_date=Date}}}function d3_locale_timeFormat(locale){function d3_time_format(template){function format(date){var string=[],i=-1,j=0,c,p,f;while(++i<n)if(template.charCodeAt(i)===37){string.push(template.slice(j,i)),(p=d3_time_formatPads[c=template.charAt(++i)])!=null&&(c=template.charAt(++i));if(f=d3_time_formats[c])c=f(date,p==null?c==="e"?" ":"0":p);string.push(c),j=i+1}return string.push(template.slice(j,i)),string.join("")}var n=template.length;return format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;"p"in d&&(d.H=d.H%12+d.p*12);var localZ=d.Z!=null&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);return"j"in d?date.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),date.setFullYear(d.y,0,1),date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+d.W*7-(date.getDay()+5)%7:d.w+d.U*7-(date.getDay()+6)%7)):date.setFullYear(d.y,d.m,d.d),date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),localZ?date._:date},format.toString=function(){return template},format}function d3_time_parse(date,template,string,j){var c,p,t,i=0,n=template.length,m=string.length;while(i<n){if(j>=m)return-1;c=template.charCodeAt(i++);if(c===37){t=template.charAt(i++),p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t];if(!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return n==null?-1:(date.p=n,i)}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;d3_time_format.utc=function(template){function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;return utc._=date,local(utc)}finally{d3_date=Date}}var local=d3_time_format(template);return format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}},format.toString=local.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach(function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)});var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}},d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?(new Array(width-length+1)).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){var map=new d3_Map,i=-1,n=names.length;while(++i<n)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=
d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){var n=formats.length,i=-1;while(++i<n)formats[i][0]=this(formats[i][0]);return function(date){var i=0,f=formats[i];while(!f[1](date))f=formats[++i];return f[0](date)}}function d3_adder(){}function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}function d3_geo_streamGeometry(geometry,listener){geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)&&d3_geo_streamGeometryType[geometry.type](geometry,listener)}function d3_geo_streamLine(coordinates,listener,closed){var i=-1,n=coordinates.length-closed,coordinate;listener.lineStart();while(++i<n)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;listener.polygonStart();while(++i<n)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(λ,φ){λ*=d3_radians,φ=φ*d3_radians/2+π/4;var dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,cosφ=Math.cos(φ),sinφ=Math.sin(φ),k=sinφ0*sinφ,u=cosφ0*cosφ+k*Math.cos(adλ),v=k*sdλ*Math.sin(adλ);d3_geo_areaRingSum.add(Math.atan2(v,u)),λ0=λ,cosφ0=cosφ,sinφ0=sinφ}var λ00,φ00,λ0,cosφ0,sinφ0;d3_geo_area.point=function(λ,φ){d3_geo_area.point=nextPoint,λ0=(λ00=λ)*d3_radians,cosφ0=Math.cos(φ=(φ00=φ)*d3_radians/2+π/4),sinφ0=Math.sin(φ)},d3_geo_area.lineEnd=function(){nextPoint(λ00,φ00)}}function d3_geo_cartesian(spherical){var λ=spherical[0],φ=spherical[1],cosφ=Math.cos(φ);return[cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ)]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function d3_geo_cartesianAdd(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<ε&&abs(a[1]-b[1])<ε}function d3_geo_centroidPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);d3_geo_centroidPointXYZ(cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ))}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0,d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0,d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0,d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroid.point=nextPoint,d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx,d3_geo_centroidY2+=v*cy,d3_geo_centroidZ2+=v*cz,d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var λ00,φ00,x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ00=λ,φ00=φ,d3_geo_centroid.point=nextPoint,λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroidPointXYZ(x0,y0,z0)},d3_geo_centroid.lineEnd=function(){nextPoint(λ00,φ00),d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd,d3_geo_centroid.point=d3_geo_centroidPoint}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];segments.forEach(function(segment){if((n=segment.length-1)<=0)return;var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;i<n;++i)listener.point((p0=segment[i])[0],p0[1]);listener.lineEnd();return}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,!0),b=new d3_geo_clipPolygonIntersection(p0,null,a,!1);a.o=b,subject.push(a),clip.push(b),a=new d3_geo_clipPolygonIntersection(p1,segment,null,!1),b=new d3_geo_clipPolygonIntersection(p1,null,a,!0),a.o=b,subject.push(a),clip.push(b)}),clip.sort(compare),d3_geo_clipPolygonLinkCircular(subject),d3_geo_clipPolygonLinkCircular(clip);if(!subject.length)return;for(var i=0,entry=clipStartInside,n=clip.length;i<n;++i)clip[i].e=entry=!entry;var start=subject[0],points,point;for(;;){var current=start,isSubject=!0;while(current.v)if((current=current.n)===start)return;points=current.z,listener.lineStart();do{current.v=current.o.v=!0;if(current.e){if(isSubject)for(var i=0,n=points.length;i<n;++i)listener.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,listener);current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else interpolate(current.x,current.p.x,-1,listener);current=current.p}current=current.o,points=current.z,isSubject=!isSubject}while(!current.v);listener.lineEnd()}}function d3_geo_clipPolygonLinkCircular(array){if(!(n=array.length))return;var n,i=0,a=array[0],b;while(++i<n)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){function point(λ,φ){var point=rotate(λ,φ);pointVisible(λ=point[0],φ=point[1])&&listener.point(λ,φ)}function pointLine(λ,φ){var point=rotate(λ,φ);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(λ,φ){ring.push([λ,φ]);var point=rotate(λ,φ);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringListener.lineEnd();var clean=ringListener.clean(),ringSegments=buffer.buffer(),segment,n=ringSegments.length;ring.pop(),polygon.push(ring),ring=null;if(!n)return;if(clean&1){segment=ringSegments[0];var n=segment.length-1,i=-1,point;if(n>0){polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart();while(++i<n)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}return}n>1&&clean&2&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}var line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);segments.length?(polygonStarted||(listener.polygonStart(),polygonStarted=!0),d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)):clipStartInside&&(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),polygonStarted&&(listener.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){listener.polygonStart(),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd(),listener.polygonEnd()}},segments,buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=!1,polygon,ring;return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var lines=[],line;return{lineStart:function(){lines.push(line=[])},point:function(λ,φ){line.push([λ,φ])},lineEnd:d3_noop,buffer:function(){var buffer=lines;return lines=[],line=null,buffer},rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-halfπ-ε:halfπ-a[1])-((b=b.x)[0]<0?b[1]-halfπ-ε:halfπ-b[1])}function d3_geo_clipAntimeridianLine(listener){var λ0=NaN,φ0=NaN,sλ0=NaN,clean;return{lineStart:function(){listener.lineStart(),clean=1},point:function(λ1,φ1){var sλ1=λ1>0?π:-π,dλ=abs(λ1-λ0);abs(dλ-π)<ε?(listener.point(λ0,φ0=(φ0+φ1)/2>0?halfπ:-halfπ),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),listener.point(λ1,φ0),clean=0):sλ0!==sλ1&&dλ>=π&&(abs(λ0-sλ0)<ε&&(λ0-=sλ0*ε),abs(λ1-sλ1)<ε&&(λ1-=sλ1*ε),φ0=d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),clean=0),listener.point(λ0=λ1,φ0=φ1),sλ0=sλ1},lineEnd:function(){listener.lineEnd(),λ0=φ0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1){var cosφ0,cosφ1,sinλ0_λ1=Math.sin(λ0-λ1);return abs(sinλ0_λ1)>ε?Math.atan((Math.sin(φ0)*(cosφ1=Math.cos(φ1))*Math.sin(λ1)-Math.sin(φ1)*(cosφ0=Math.cos(φ0))*Math.sin(λ0))/(cosφ0*cosφ1*sinλ0_λ1)):(φ0+φ1)/2}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var φ;if(from==null)φ=direction*halfπ,listener.point(-π,φ),listener.point(0,φ),listener.point(π,φ),listener.point(π,0),listener.point(π,-φ),listener.point(0,-φ),listener.point(-π,-φ),listener.point(-π,0),listener.point(-π,φ);else if(abs(from[0]-to[0])>ε){var s=from[0]<to[0]?π:-π;φ=direction*s/2,listener.point(-s,φ),listener.point(0,φ),listener.point(s,φ)}else listener.point(to[0],to[1])}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;i<n;++i){var ring=polygon[i],m=ring.length;if(!m)continue;var point0=ring[0],λ0=point0[0],φ0=point0[1]/2+π/4,sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),j=1;for(;;){j===m&&(j=0),point=ring[j];var λ=point[0],φ=point[1]/2+π/4,sinφ=Math.sin(φ),cosφ=Math.cos(φ),dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,antimeridian=adλ>π,k=sinφ0*sinφ;d3_geo_areaRingSum.add(Math.atan2(k*sdλ*Math.sin(adλ),cosφ0*cosφ+k*Math.cos(adλ))),polarAngle+=antimeridian?dλ+sdλ*τ:dλ;if(antimeridian^λ0>=meridian^λ>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var φarc=(antimeridian^dλ>=0?-1:1)*d3_asin(intersection[2]);if(parallel>φarc||parallel===φarc&&(arc[0]||arc[1]))winding+=antimeridian^dλ>=0?1:-1}if(!(j++))break;λ0=λ,sinφ0=sinφ,cosφ0=cosφ,point0=point}}return(polarAngle<-ε||polarAngle<ε&&d3_geo_areaRingSum<-ε)^winding&1}function d3_geo_clipCircle(radius){function visible(λ,φ){return Math.cos(λ)*Math.cos(φ)>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(λ,φ){var point1=[λ,φ],point2,v=visible(λ,φ),c=smallRadius?v?0:code(λ,φ):v?code(λ+(λ<0?π:-π),φ):0;!point0&&(v00=v0=v)&&listener.lineStart();if(v!==v0){point2=intersect(point0,point1);if(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2))point1[0]+=ε,point1[1]+=ε,v=visible(point1[0],point1[1])}if(v!==v0)clean=0,v?(listener.lineStart(),point2=intersect(point1,point0),listener.point(point2[0],point2[1])):(point2=intersect(point0,point1),listener.point(point2[0],point2[1]),listener.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;!(c&c0)&&(t=intersect(point1,point0,!0))&&(clean=0,smallRadius?(listener.lineStart(),listener.point(t[0][0],t[0][1]),listener.point(t[1][0],t[1][1]),listener.lineEnd()):(listener.point(t[1][0],t[1][1]),listener.lineEnd(),listener.lineStart(),listener.point(t[0][0],t[0][1])))}v&&(!point0||!d3_geo_sphericalEqual(point0,point1))&&listener.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&listener.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b),n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(t2<0)return;var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);d3_geo_cartesianAdd(q,A),q=d3_geo_spherical(q);if(!two)return q;var λ0=a[0],λ1=b[0],φ0=a[1],φ1=b[1],z;λ1<λ0&&(z=λ0,λ0=λ1,λ1=z);var δλ=λ1-λ0,polar=abs(δλ-π)<ε,meridian=polar||δλ<ε;!polar&&φ1<φ0&&(z=φ0,φ0=φ1,φ1=z);if(meridian?polar?φ0+φ1>0^q[1]<(abs(q[0]-λ0)<ε?φ0:φ1):φ0<=q[1]&&q[1]<=φ1:δλ>π^(λ0<=q[0]&&q[0]<=λ1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);return d3_geo_cartesianAdd(q1,A),[q,d3_geo_spherical(q1)]}}function code(λ,φ){var r=smallRadius?radius:π-radius,code=0;return λ<-r?code|=1:λ>r&&(code|=2),φ<-r?code|=4:φ>r&&(code|=8),code}var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>ε,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-π,radius-π])}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay,r;r=x0-ax;if(!dx&&r>0)return;r/=dx;if(dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}r=x1-ax;if(!dx&&r<0)return;r/=dx;if(dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}r=y0-ay;if(!dy&&r>0)return;r/=dy;if(dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}r=y1-ay;if(!dy&&r<0)return;r/=dy;if(dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(line.a={x:ax+t0*dx,y:ay+t0*dy}),t1<1&&(line.b={x:ax+t1*dx,y:ay+t1*dy}),line}}function d3_geo_clipExtent(x0,y0,x1,y1){function corner(p,direction){return abs(p[0]-x0)<ε?direction>0?0:3:abs(p[0]-x1)<ε?direction>0?2:1:abs(p[1]-y0)<ε?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:ca===0?b[1]-a[1]:ca===1?a[0]-b[0]:ca===2?a[1]-b[1]:b[0]-a[0]}return function(listener){function insidePolygon(p){var wn=0,n=polygon.length,y=p[1];for(var i=0;i<n;++i)for(var j=1,v=polygon[i],m=v.length,a=v[0],b;j<m;++j)b=v[j],a[1]<=y?b[1]>y&&d3_cross2d(a,b,p)>0&&++wn:b[1]<=y&&d3_cross2d(a,b,p)<0&&--wn,a=b;return wn!==0}function interpolate(from,to,direction,listener){var a=0,a1=0;if(from==null||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do listener.point(a===0||a===3?x0:x1,a>1?y1:y0);while((a=(a+direction+4)%4)!==a1)}else listener.point(to[0],to[1])}function pointVisible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function point(x,y){pointVisible(x,y)&&listener.point(x,y)}function lineStart(){clip.point=linePoint,polygon&&polygon.push(ring=[]),first=!0,v_=!1,x_=y_=NaN}function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferListener.rejoin(),segments.push(bufferListener.buffer())),clip.point=point,v_&&listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x)),y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);polygon&&ring.push([x,y]);if(first)x__=x,y__=y,v__=v,first=!1,v&&(listener.lineStart(),listener.point(x,y));else if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};clipLine(l)?(v_||(listener.lineStart(),listener.point(l.a.x,l.a.y)),listener.point(l.b.x,l.b.y),v||listener.lineEnd(),clean=!1):v&&(listener.lineStart(),listener.point(x,y),clean=!1)}x_=x,y_=y,v_=v}var listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),segments,polygon,ring,clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener,segments=[],polygon=[],clean=!0},polygonEnd:function(){listener=listener_,segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;if(inside||visible)listener.polygonStart(),inside&&(listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),visible&&d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener),listener.polygonEnd();segments=polygon=ring=null}},x__,y__,v__,x_,y_,v_,first,clean;return clip}}function d3_geo_conic(projectAt){var φ0=0,φ1=π/3,m=d3_geo_projectionMutator(projectAt),p=m(φ0,φ1);return p.parallels=function(_){return arguments.length?m(φ0=_[0]*π/180,φ1=_[1]*π/180):[φ0/π*180,φ1/π*180]},p}function d3_geo_conicEqualArea(φ0,φ1){function forward(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),ρ0-ρ*Math.cos(λ)]}var sinφ0=Math.sin(φ0),n=(sinφ0+Math.sin(φ1))/2,C=1+sinφ0*(2*n-sinφ0),ρ0=Math.sqrt(C)/n;return forward.invert=function(x,y){var ρ0_y=ρ0-y;return[Math.atan2(x,ρ0_y)/n,d3_asin((C-(x*x+ρ0_y*ρ0_y)*n*n)/(2*n))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y,x0=x,y0=y}var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint,x00=x0=x,y00=y0=y},d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathBoundsPoint(x,y){x<d3_geo_pathBoundsX0&&(d3_geo_pathBoundsX0=x),x>d3_geo_pathBoundsX1&&(d3_geo_pathBoundsX1=x),y<d3_geo_pathBoundsY0&&(d3_geo_pathBoundsY0=y),y>d3_geo_pathBoundsY1&&(d3_geo_pathBoundsY1=y)}function d3_geo_pathBuffer(){function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y),stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[],stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointCircle=d3_geo_pathBufferCircle(_),stream},result:function(){if(buffer.length){var result=buffer.join("");return buffer=[],result}}};return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+ -2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x,d3_geo_centroidY0+=y,++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,z=y0*x-x0*y,d3_geo_centroidX2+=z*(x0+x),d3_geo_centroidY2+=z*(y0+y),d3_geo_centroidZ2+=z*3,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x00,y00,x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)},d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){function point(x,y){context.moveTo(x+pointRadius,y),context.arc(x,y,pointRadius,0,τ)}function pointLineStart(x,y){context.moveTo(x,y),stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}var pointRadius=4.5,stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointRadius=_,stream},result:d3_noop};return stream}function d3_geo_resample(project){function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,function(x,y){x=project(x,y),stream.point(x[0],x[1])})}function resampleRecursive(stream){function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resample.point=linePoint,stream.lineStart()}function linePoint(λ,φ){var c=d3_geo_cartesian([λ,φ]),p=project(λ,φ);resampleLineTo(x0,y0,λ0,a0,b0,c0,x0=p[0],y0=p[1],λ0=λ,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resample.point=point,stream.lineEnd()}function ringStart(){lineStart(),resample.point=ringPoint,resample.lineEnd=ringEnd}function ringPoint(λ,φ){linePoint(λ00=λ,φ00=φ),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,λ0,a0,b0,c0,x00,y00,λ00,a00,b00,c00,maxDepth,stream),resample.lineEnd=lineEnd,lineEnd()}var λ00,φ00,x00,y00,a00,b00,c00,λ0,x0,y0,a0,b0,c0,resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resample.lineStart=lineStart}};return resample}function resampleLineTo(x0,y0,λ0,a0,b0,c0,x1,y1,λ1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*δ2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),φ2=Math.asin(c/=m),λ2=abs(abs(c)-1)<ε||abs(λ0-λ1)<ε?(λ0+λ1)/2:Math.atan2(b,a),p=project(λ2,φ2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;if(dz*dz/d2>δ2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)resampleLineTo(x0,y0,λ0,a0,b0,c0,x2,y2,λ2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,λ2,a,b,c,x1,y1,λ1,a1,b1,c1,depth,stream)}}var δ2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;return resample.precision=function(_){return arguments.length?(maxDepth=(δ2=_*_)>0&&16,resample):Math.sqrt(δ2)},resample}function d3_geo_pathProjectStream(project){var resample=d3_geo_resample(function(x,y){return project([x*d3_degrees,y*d3_degrees])});return function(stream){return d3_geo_projectionRadians(resample(stream))}}function d3_geo_transform(stream){this.stream=stream}function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}function d3_geo_projection(project){return d3_geo_projectionMutator(function(){return project})()}function d3_geo_projectionMutator(projectAt){function projection(point){return point=projectRotate(point[0]*d3_radians,point[1]*d3_radians),[point[0]*k+δx,δy-point[1]*k]}function invert(point){return point=projectRotate.invert((point[0]-δx)/k,(δy-point[1])/k),point&&[point[0]*d3_degrees,point[1]*d3_degrees]}function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(δλ,δφ,δγ),project);var center=project(λ,φ);return δx=x-center[0]*k,δy=y+center[1]*k,invalidate()}function invalidate(){return stream&&(stream.valid=!1,stream=null),projection}var project,rotate,projectRotate,projectResample=d3_geo_resample(function(x,y){return x=project(x,y),[x[0]*k+δx,δy-x[1]*k]}),k=150,x=480,y=250,λ=0,φ=0,δλ=0,δφ=0,δγ=0,δx,δy,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null,stream;return projection.stream=function(output){return stream&&(stream.valid=!1),stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output)))),stream.valid=!0,stream},projection.clipAngle=function(_){return arguments.length?(preclip=_==null?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians),invalidate()):clipAngle},projection.clipExtent=function(_){return arguments.length?(clipExtent=_,postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity,invalidate()):clipExtent},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],reset()):[x,y]},projection.center=function(_){return arguments.length?(λ=_[0]%360*d3_radians,φ=_[1]%360*d3_radians,reset()):[λ*d3_degrees,φ*d3_degrees]},projection.rotate=function(_){return arguments.length?(δλ=_[0]%360*d3_radians,δφ=_[1]%360*d3_radians,δγ=_.length>2?_[2]%360*d3_radians:0,reset()):[δλ*d3_degrees,δφ*d3_degrees,δγ*d3_degrees]},d3.rebind(projection,projectResample,"precision"),function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,function(x,y){stream.point(x*d3_radians,y*d3_radians)})}function d3_geo_equirectangular(λ,φ){return[λ,φ]}function d3_geo_identityRotation(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}function d3_geo_rotation(δλ,δφ,δγ){return δλ?δφ||δγ?d3_geo_compose(d3_geo_rotationλ(δλ),d3_geo_rotationφγ(δφ,δγ)):d3_geo_rotationλ(δλ):δφ||δγ?d3_geo_rotationφγ(δφ,δγ):d3_geo_identityRotation}function d3_geo_forwardRotationλ(δλ){return function(λ,φ){return λ+=δλ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}}function d3_geo_rotationλ(δλ){var rotation=d3_geo_forwardRotationλ(δλ);return rotation.invert=d3_geo_forwardRotationλ(-δλ),rotation}function d3_geo_rotationφγ(δφ,δγ){function rotation(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδφ+x*sinδφ;return[Math.atan2(y*cosδγ-k*sinδγ,x*cosδφ-z*sinδφ),d3_asin(k*cosδγ+y*sinδγ)]}var cosδφ=Math.cos(δφ),sinδφ=Math.sin(δφ),cosδγ=Math.cos(δγ),sinδγ=Math.sin(δγ);return rotation.invert=function(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδγ-y*sinδγ;return[Math.atan2(y*cosδγ+z*sinδγ,x*cosδφ+k*sinδφ),d3_asin(k*cosδφ-x*sinδφ)]},rotation}function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;if(from!=null){from=d3_geo_circleAngle(cr,from),to=d3_geo_circleAngle(cr,to);if(direction>0?from<to:from>to)from+=direction*τ}else from=radius+direction*τ,to=radius-.5*step;for(var point,t=from;direction>0?t>to:t<to;t-=step)listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr,d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-ε)%(2*Math.PI)}function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-ε,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-ε,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function d3_source(d){return d.source}function d3_target(d){return d.target}function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d),interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};return interpolate.distance=d,interpolate}function d3_geo_lengthLineStart(){function nextPoint(λ,φ){var sinφ=Math.sin(φ*=d3_radians),cosφ=Math.cos(φ),t=abs((λ*=d3_radians)-λ0),cosΔλ=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cosφ*Math.sin(t))*t+(t=cosφ0*sinφ-sinφ0*cosφ*cosΔλ)*t),sinφ0*sinφ+cosφ0*cosφ*cosΔλ),λ0=λ,sinφ0=sinφ,cosφ0=cosφ}var λ0,sinφ0,cosφ0;d3_geo_length.point=function(λ,φ){λ0=λ*d3_radians,sinφ0=Math.sin(φ*=d3_radians),cosφ0=Math.cos(φ),d3_geo_length.point=nextPoint},d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop}}function d3_geo_azimuthal(scale,angle){function azimuthal(λ,φ){var cosλ=Math.cos(λ),cosφ=Math.cos(φ),k=scale(cosλ*cosφ);return[k*cosφ*Math.sin(λ),k*Math.sin(φ)]}return azimuthal.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=angle(ρ),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,ρ*cosc),Math.asin(ρ&&y*sinc/ρ)]},azimuthal}function d3_geo_conicConformal(φ0,φ1){function forward(λ,φ){F>0?φ<-halfπ+ε&&(φ=-halfπ+ε):φ>halfπ-ε&&(φ=halfπ-ε);var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),t=function(φ){return Math.tan(π/4+φ/2)},n=φ0===φ1?Math.sin(φ0):Math.log(cosφ0/Math.cos(φ1))/Math.log(t(φ1)/t(φ0)),F=cosφ0*Math.pow(t(φ0),n)/n;return n?(forward.invert=function(x,y){var ρ0_y=F-y,ρ=d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y);return[Math.atan2(x,ρ0_y)/n,2*Math.atan(Math.pow(F/ρ,1/n))-halfπ]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(φ0,φ1){function forward(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),n=φ0===φ1?Math.sin(φ0):(cosφ0-Math.cos(φ1))/(φ1-φ0),G=cosφ0/n+φ0;return abs(n)<ε?d3_geo_equirectangular:(forward.invert=function(x,y){var ρ0_y=G-y;return[Math.atan2(x,ρ0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y)]},forward)}function d3_geo_mercator(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))]}function d3_geo_mercatorProjection(project){var m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,clipAuto;return m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=_==null){var k=π*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else clipAuto&&(v=null);return v},m.clipExtent(null)}function d3_geo_transverseMercator(λ,φ){return[Math.log(Math
.tan(π/4+φ/2)),-λ]}function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}function d3_geom_hullUpper(points){var n=points.length,hull=[0,1],hs=2;for(var i=2;i<n;i++){while(hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;return beach.site=site,beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach),d3_geom_voronoiBeaches.remove(beach),d3_geom_voronoiBeachPool.push(beach),d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);var lArc=previous;while(lArc.circle&&abs(x-lArc.circle.x)<ε&&abs(y-lArc.circle.cy)<ε)previous=lArc.P,disappearing.unshift(lArc),d3_geom_voronoiDetachBeach(lArc),lArc=previous;disappearing.unshift(lArc),d3_geom_voronoiDetachCircle(lArc);var rArc=next;while(rArc.circle&&abs(x-rArc.circle.x)<ε&&abs(y-rArc.circle.cy)<ε)next=rArc.N,disappearing.push(rArc),d3_geom_voronoiDetachBeach(rArc),rArc=next;disappearing.push(rArc),d3_geom_voronoiDetachCircle(rArc);var nArcs=disappearing.length,iArc;for(iArc=1;iArc<nArcs;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],rArc=disappearing[nArcs-1],rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){var x=site.x,directrix=site.y,lArc,rArc,dxl,dxr,node=d3_geom_voronoiBeaches._;while(node){dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x;if(dxl>ε)node=node.L;else{dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix);if(!(dxr>ε)){dxl>-ε?(lArc=node.P,rArc=node):dxr>-ε?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}}var newArc=d3_geom_voronoiCreateBeach(site);d3_geom_voronoiBeaches.insert(lArc,newArc);if(!lArc&&!rArc)return;if(lArc===rArc){d3_geom_voronoiDetachCircle(lArc),rArc=d3_geom_voronoiCreateBeach(lArc.site),d3_geom_voronoiBeaches.insert(newArc,rArc),newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc);return}if(!rArc){newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site);return}d3_geom_voronoiDetachCircle(lArc),d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex),rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-Infinity;site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:Infinity}function d3_geom_voronoiCell(site){this.site=site,this.edges=[]}function d3_geom_voronoiCloseCells(extent){var x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],x2,y2,x3,y3,cells=d3_geom_voronoiCells,iCell=cells.length,cell,iHalfEdge,halfEdges,nHalfEdges,start,end;while(iCell--){cell=cells[iCell];if(!cell||!cell.prepare())continue;halfEdges=cell.edges,nHalfEdges=halfEdges.length,iHalfEdge=0;while(iHalfEdge<nHalfEdges){end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y,start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y;if(abs(x3-x2)>ε||abs(y3-y2)>ε)halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<ε&&y1-y3>ε?{x:x0,y:abs(x2-x0)<ε?y2:y1}:abs(y3-y1)<ε&&x1-x3>ε?{x:abs(y2-y1)<ε?x2:x1,y:y1}:abs(x3-x1)<ε&&y3-y0>ε?{x:x1,y:abs(x2-x1)<ε?y2:y0}:abs(y3-y0)<ε&&x3-x0>ε?{x:abs(y2-y0)<ε?x2:x0,y:y0}:null),cell.site,null)),++nHalfEdges}}}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(!lArc||!rArc)return;var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite===rSite)return;var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by,d=2*(ax*cy-ay*cx);if(d>=-ε2)return;var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by,circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=cy+Math.sqrt(x*x+y*y),circle.cy=cy,arc.circle=circle;var before=null,node=d3_geom_voronoiCircles._;while(node)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}d3_geom_voronoiCircles.insert(before,circle),before||(d3_geom_voronoiFirstCircle=circle)}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;circle&&(circle.P||(d3_geom_voronoiFirstCircle=circle.N),d3_geom_voronoiCircles.remove(circle),d3_geom_voronoiCirclePool.push(circle),d3_geom_voronoiRedBlackNode(circle),arc.circle=null)}function d3_geom_voronoiClipEdges(extent){var edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length,e;while(i--){e=edges[i];if(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<ε&&abs(e.a.y-e.b.y)<ε)e.a=e.b=null,edges.splice(i,1)}}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return!0;var va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2,fm,fb;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(!va)va={x:fx,y:y0};else if(va.y>=y1)return;vb={x:fx,y:y1}}else{if(!va)va={x:fx,y:y1};else if(va.y<y0)return;vb={x:fx,y:y0}}}else{fm=(lx-rx)/(ry-ly),fb=fy-fm*fx;if(fm<-1||fm>1)if(lx>rx){if(!va)va={x:(y0-fb)/fm,y:y0};else if(va.y>=y1)return;vb={x:(y1-fb)/fm,y:y1}}else{if(!va)va={x:(y1-fb)/fm,y:y1};else if(va.y<y0)return;vb={x:(y0-fb)/fm,y:y0}}else if(ly<ry){if(!va)va={x:x0,y:fm*x0+fb};else if(va.x>=x1)return;vb={x:x1,y:fm*x1+fb}}else{if(!va)va={x:x1,y:fm*x1+fb};else if(va.x<x0)return;vb={x:x0,y:fm*x0+fb}}}return edge.a=va,edge.b=vb,!0}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite,this.r=rSite,this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);return d3_geom_voronoiEdges.push(edge),va&&d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va),vb&&d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb),d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite)),d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite)),edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);return edge.a=va,edge.b=vb,d3_geom_voronoiEdges.push(edge),edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){!edge.a&&!edge.b?(edge.a=vertex,edge.l=lSite,edge.r=rSite):edge.l===rSite?edge.b=vertex:edge.a=vertex}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge,this.site=lSite,this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function d3_geom_voronoiRedBlackFirst(node){while(node.L)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var site=sites.sort(d3_geom_voronoiVertexOrder).pop(),x0,y0,circle;d3_geom_voronoiEdges=[],d3_geom_voronoiCells=new Array(sites.length),d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree,d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;for(;;){circle=d3_geom_voronoiFirstCircle;if(site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x)){if(site.x!==x0||site.y!==y0)d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site),d3_geom_voronoiAddBeach(site),x0=site.x,y0=site.y;site=sites.pop()}else{if(!circle)break;d3_geom_voronoiRemoveBeach(circle.arc)}}bbox&&(d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox));var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};return d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null,diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=(x1+x2)*.5,sy=(y1+y2)*.5,children=node.nodes;children[0]&&d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy),children[1]&&d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy),children[2]&&d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2),children[3]&&d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}function d3_geom_quadtreeFind(root,x,y,x0,y0,x3,y3){var minDistance2=Infinity,closestPoint;return function find(node,x1,y1,x2,y2){if(x1>x3||y1>y3||x2<x0||y2<y0)return;if(point=node.point){var point,dx=x-node.x,dy=y-node.y,distance2=dx*dx+dy*dy;if(distance2<minDistance2){var distance=Math.sqrt(minDistance2=distance2);x0=x-distance,y0=y-distance,x3=x+distance,y3=y+distance,closestPoint=point}}var children=node.nodes,xm=(x1+x2)*.5,ym=(y1+y2)*.5,right=x>=xm,below=y>=ym;for(var i=below<<1|right,j=i+4;i<j;++i)if(node=children[i&3])switch(i&3){case 0:find(node,x1,y1,xm,ym);break;case 1:find(node,xm,y1,x2,ym);break;case 2:find(node,x1,ym,xm,y2);break;case 3:find(node,xm,ym,x2,y2)}}(root,x0,y0,x3,y3),closestPoint}function d3_interpolateRgb(a,b){a=d3.rgb(a),b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}function d3_interpolateObject(a,b){var i={},c={},k;for(k in a)k in b?i[k]=d3_interpolate(a[k],b[k]):c[k]=a[k];for(k in b)k in a||(c[k]=b[k]);return function(t){for(k in i)c[k]=i[k](t);return c}}function d3_interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function d3_interpolateString(a,b){var bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,am,bm,bs,i=-1,s=[],q=[];a+="",b+="";while((am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b)))(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:d3_interpolateNumber(am,bm)})),bi=d3_interpolate_numberB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function d3_interpolate(a,b){var i=d3.interpolators.length,f;while(--i>=0&&!(f=d3.interpolators[i](a,b)));return f}function d3_interpolateArray(a,b){var x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length),i;for(i=0;i<n0;++i)x.push(d3_interpolate(a[i],b[i]));for(;i<na;++i)c[i]=a[i];for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<n0;++i)c[i]=x[i](t);return c}}function d3_ease_clamp(f){return function(t){return t<=0?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(t<.5?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*halfπ)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;return arguments.length<2&&(p=.45),arguments.length?s=p/τ*Math.asin(1/a):(a=1,s=p/4),function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p)}}function d3_ease_back(s){return s||(s=1.70158),function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(a,b){a=d3.hcl(a),b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;return isNaN(bc)&&(bc=0,ac=isNaN(ac)?b.c:ac),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:bh<-180&&(bh+=360),function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}function d3_interpolateHsl(a,b){a=d3.hsl(a),b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;return isNaN(bs)&&(bs=0,as=isNaN(as)?b.s:as),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:bh<-180&&(bh+=360),function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}function d3_interpolateLab(a,b){a=d3.lab(a),b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}function d3_interpolateRound(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;r0[0]*r1[1]<r1[0]*r0[1]&&(r0[0]*=-1,r0[1]*=-1,kx*=-1,kz*=-1),this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees,this.translate=[m.e,m.f],this.scale=[kx,ky],this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));return k&&(a[0]/=k,a[1]/=k),k}function d3_transformCombine(a,b,k){return a[0]+=k*b[0],a[1]+=k*b[1],a}function d3_interpolateTransformPop(s){return s.length?s.pop()+",":""}function d3_interpolateTranslate(ta,tb,s,q){if(ta[0]!==tb[0]||ta[1]!==tb[1]){var i=s.push("translate(",null,",",null,")");q.push({i:i-4,x:d3_interpolateNumber(ta[0],tb[0])},{i:i-2,x:d3_interpolateNumber(ta[1],tb[1])})}else(tb[0]||tb[1])&&s.push("translate("+tb+")")}function d3_interpolateRotate(ra,rb,s,q){ra!==rb?(ra-rb>180?rb+=360:rb-ra>180&&(ra+=360),q.push({i:s.push(d3_interpolateTransformPop(s)+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})):rb&&s.push(d3_interpolateTransformPop(s)+"rotate("+rb+")")}function d3_interpolateSkew(wa,wb,s,q){wa!==wb?q.push({i:s.push(d3_interpolateTransformPop(s)+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)}):wb&&s.push(d3_interpolateTransformPop(s)+"skewX("+wb+")")}function d3_interpolateScale(ka,kb,s,q){if(ka[0]!==kb[0]||ka[1]!==kb[1]){var i=s.push(d3_interpolateTransformPop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:i-2,x:d3_interpolateNumber(ka[1],kb[1])})}else(kb[0]!==1||kb[1]!==1)&&s.push(d3_interpolateTransformPop(s)+"scale("+kb+")")}function d3_interpolateTransform(a,b){var s=[],q=[];return a=d3.transform(a),b=d3.transform(b),d3_interpolateTranslate(a.translate,b.translate,s,q),d3_interpolateRotate(a.rotate,b.rotate,s,q),d3_interpolateSkew(a.skew,b.skew,s,q),d3_interpolateScale(a.scale,b.scale,s,q),a=b=null,function(t){var i=-1,n=q.length,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){return b=(b-=a=+a)||1/b,function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){return b=(b-=a=+a)||1/b,function(x){return Math.max(0,Math.min(1,(x-a)/b))}}function d3_layout_bundlePath(link){var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];while(start!==lca)start=start.parent,points.push(start);var k=points.length;while(end!==lca)points.splice(k,0,end),end=end.parent;return points}function d3_layout_bundleAncestors(node){var ancestors=[],parent=node.parent;while(parent!=null)ancestors.push(node),node=parent,parent=parent.parent;return ancestors.push(node),ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;while(aNode===bNode)sharedNode=aNode,aNode=aNodes.pop(),bNode=bNodes.pop();return sharedNode}function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=-7}function d3_layout_forceMouseover(d){d.fixed|=4,d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=-5}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;quad.charge=0;if(!quad.leaf){var nodes=quad.nodes,n=nodes.length,i=-1,c;while(++i<n){c=nodes[i];if(c==null)continue;d3_layout_forceAccumulate(c,alpha,charges),quad.charge+=c.charge,cx+=c.charge*c.cx,cy+=c.charge*c.cy}}if(quad.point){quad.leaf||(quad.point.x+=Math.random()-.5,quad.point.y+=Math.random()-.5);var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k,cx+=k*quad.point.x,cy+=k*quad.point.y}quad.cx=cx/quad.charge,quad.cy=cy/quad.charge}function d3_layout_hierarchyRebind(object,hierarchy){return d3.rebind(object,hierarchy,"sort","children","value"),object.nodes=object,object.links=d3_layout_hierarchyLinks,object}function d3_layout_hierarchyVisitBefore(node,callback){var nodes=[node];while((node=nodes.pop())!=null){callback(node);if((children=node.children)&&(n=children.length)){var n,children;while(--n>=0)nodes.push(children[n])}}}function d3_layout_hierarchyVisitAfter(node,callback){var nodes=[node],nodes2=[];while((node=nodes.pop())!=null){nodes2.push(node);if((children=node.children)&&(n=children.length)){var i=-1,n,children;while(++i<n)nodes.push(children[i])}}while((node=nodes2.pop())!=null)callback(node)}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0,d.y=y}function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){var j=-1,m=data[0].length,y0=[];while(++j<m)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){var i=1,j=0,v=array[0][1],k,n=array.length;for(;i<n;++i)(k=array[i][1])>v&&(j=i,v=k);return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];while(++x<=n)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b,b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){function bound(node){xMin=Math.min(node.x-node.r,xMin),xMax=Math.max(node.x+node.r,xMax),yMin=Math.min(node.y-node.r,yMin),yMax=Math.max(node.y+node.r,yMax)}if(!(nodes=node.children)||!(n=nodes.length))return;var nodes,xMin=Infinity,xMax=-Infinity,yMin=Infinity,yMax=-Infinity,a,b,c,i,j,k,n;nodes.forEach(d3_layout_packLink),a=nodes[0],a.x=-a.r,a.y=0,bound(a);if(n>1){b=nodes[1],b.x=b.r,b.y=0,bound(b);if(n>2){c=nodes[2],d3_layout_packPlace(a,b,c),bound(c),d3_layout_packInsert(a,c),a._pack_prev=c,d3_layout_packInsert(c,b),b=a._pack_next;for(i=3;i<n;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++)if(d3_layout_packIntersects(j,c)){isect=1;break}if(isect==1)for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,s2++)if(d3_layout_packIntersects(k,c))break;isect?(s1<s2||s1==s2&&b.r<a.r?d3_layout_packSplice(a,b=j):d3_layout_packSplice(a=k,b),i--):(d3_layout_packInsert(a,c),b=c,bound(c))}}}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;i<n;i++)c=nodes[i],c.x-=cx,c.y-=cy,cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y));node.r=cr,nodes.forEach(d3_layout_packUnlink)}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next,delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;node.x=x+=k*node.x,node.y=y+=k*node.y,node.r*=k;if(children){var i=-1,n=children.length;while(++i<n)d3_layout_packTransform(children[i],x,y,k)}}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da,db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy,c.y=a.y+x*dy-y*dx}else c.x=a.x+db,c.y=a.y}function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var children=v.children,n;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function d3_layout_treeShift(v){var shift=0,change=0,children=v.children,i=children.length,w;while(--i>=0)w=children[i],w.z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function d3_layout_clusterY(children){return 1+d3.max(children,function(child){return child.y})}function d3_layout_clusterX(children){return children.reduce(function(x,child){return x+child.x},0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var children=node.children,n;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];return dx<0&&(x+=dx/2,dx=0),dy<0&&(y+=dy/2,dy=0),{x:x,y:y,dx:dx,dy:dy}}function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1],dx;return x1<x0&&(dx=i0,i0=i1,i1=dx,dx=x0,x0=x1,x1=dx),domain[i0]=nice.floor(x0),domain[i1]=nice.ceil(x1),domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;domain[k]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());while(++j<=k)u.push(uninterpolate(domain[j-1],domain[j])),i.push(interpolate(range[j-1],range[j]));return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}function d3_scale_linear(domain,range,interpolate,clamp){function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;return output=linear(domain,range,uninterpolate,interpolate),input=linear(range,domain,uninterpolate,d3_interpolate),scale}function scale(x){return output(x)}var output,input;return scale.invert=function(y){return input(y)},scale.domain=function(x){return arguments.length?(domain=x.map(Number),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)},scale.clamp=function(x){return arguments.length?(clamp=x,rescale()):clamp},scale.interpolate=function(x){return arguments.length?(interpolate=x,rescale()):interpolate},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return d3_scale_linearNice(domain,m),rescale()},scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)},rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){return d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2])),d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2])),domain}function d3_scale_linearTickRange(domain,m){m==null&&(m=10);var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;return err<=.15?step*=10:err<=.35?step*=5:err<=.75&&(step*=2),extent[0]=Math.ceil(extent[0]/step)*step,extent[1]=Math.floor(extent[1]/step)*step+step*.5,extent[2]=step,extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);match.shift();if(match[8]==="s"){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));return match[7]||(match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]))),match[8]="f",format=d3.format(match.join("")),function(d){return format(prefix.scale(d))+prefix.symbol}}match[7]||(match[7]="."+d3_scale_linearFormatPrecision(match[8],range)),format=match.join("")}else format=",."+d3_scale_linearPrecision(range[2])+"f";return d3.format(format)}function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +(type!=="e"):p-(type==="%")*2}function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}return scale.invert=function(x){return pow(linear.invert(x))},scale.domain=function(x){return arguments.length?(positive=x[0]>=0,linear.domain((domain=x.map(Number)).map(log)),scale):domain},scale.base=function(_){return arguments.length?(base=+_,linear.domain(domain.map(log)),scale):base},scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);return linear.domain(niced),domain=niced.map(pow),scale},scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;i<j;i++)for(var k=1;k<n;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else{ticks.push(pow(i));for(;i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k)}for(i=0;ticks[i]<u;i++);for(j=ticks.length;ticks[j-1]>v;j--);ticks=ticks.slice(i,j)}return ticks},scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;arguments.length<2?format=d3_scale_logFormat:typeof format!="function"&&(format=d3.format(format));var k=Math.max(1,base*n/scale.ticks().length);return function(d){var i=d/pow(Math.round(log(d)));return i*base<base-.5&&(i*=base),i<=k?format(d):""}},scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_pow(linear,exponent,domain){function scale(x){return linear(powp(x))}var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);return scale.invert=function(x){return powb(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain((domain=x.map(Number)).map(powp)),scale):domain},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))},scale.exponent=function(x){return arguments.length?(powp=d3_scale_powPow(exponent=x),powb=d3_scale_powPow(1/exponent),linear.domain(domain.map(powp)),scale):exponent},scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e)}}function d3_scale_ordinal(domain,ranger){function scale(x){return range[((index.get(x)||(ranger.t==="range"?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map(function(i){return start+step*i})}var index,range,rangeBand;return scale.domain=function(x){if(!arguments.length)return domain;domain=[],index=new d3_Map;var i=-1,n=x.length,xi;while(++i<n)index.has(xi=x[i])||index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)},scale.range=function(x){return arguments.length?(range=x,rangeBand=0,ranger={t:"range",a:arguments},scale):range},scale.rangePoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=(start+stop)/2,0):(stop-start)/(domain.length-1+padding);return range=steps(start+step*padding/2,step),rangeBand=0,ranger={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=stop=Math.round((start+stop)/2),0):(stop-start)/(domain.length-1+padding)|0;return range=steps(start+Math.round(step*padding/2+(stop-start-(domain.length-1+padding)*step)/2),step),rangeBand=0,ranger={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);return range=steps(start+step*outerPadding,step),reverse&&range.reverse(),rangeBand=step*(1-padding),ranger={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math
.floor((stop-start)/(domain.length-padding+2*outerPadding));return range=steps(start+Math.round((stop-start-(domain.length-padding)*step)/2),step),reverse&&range.reverse(),rangeBand=Math.round(step*(1-padding)),ranger={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return rangeBand},scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])},scale.copy=function(){return d3_scale_ordinal(domain,ranger)},scale.domain(domain)}function d3_scale_quantile(domain,range){function rescale(){var k=0,q=range.length;thresholds=[];while(++k<q)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){if(!isNaN(x=+x))return range[d3.bisect(thresholds,x)]}var thresholds;return scale.domain=function(x){return arguments.length?(domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.quantiles=function(){return thresholds},scale.invertExtent=function(y){return y=range.indexOf(y),y<0?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]},scale.copy=function(){return d3_scale_quantile(domain,range)},rescale()}function d3_scale_quantize(x0,x1,range){function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){return kx=range.length/(x1-x0),i=range.length-1,scale}var kx,i;return scale.domain=function(x){return arguments.length?(x0=+x[0],x1=+x[x.length-1],rescale()):[x0,x1]},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.invertExtent=function(y){return y=range.indexOf(y),y=y<0?NaN:y/kx+x0,[y,y+1/kx]},scale.copy=function(){return d3_scale_quantize(x0,x1,range)},rescale()}function d3_scale_threshold(domain,range){function scale(x){if(x<=x)return range[d3.bisect(domain,x)]}return scale.domain=function(_){return arguments.length?(domain=_,scale):domain},scale.range=function(_){return arguments.length?(range=_,scale):range},scale.invertExtent=function(y){return y=range.indexOf(y),[domain[y-1],domain[y]]},scale.copy=function(){return d3_scale_threshold(domain,range)},scale}function d3_scale_identity(domain){function identity(x){return+x}return identity.invert=identity,identity.domain=identity.range=function(x){return arguments.length?(domain=x.map(identity),identity):domain},identity.ticks=function(m){return d3_scale_linearTicks(domain,m)},identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},identity.copy=function(){return d3_scale_identity(domain)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_arcPadAngle(d){return d&&d.padAngle}function d3_svg_arcSweep(x0,y0,x1,y1){return(x0-x1)*y0-(y0-y1)*x0>0?0:1}function d3_svg_arcCornerTangents(p0,p1,r1,rc,cw){var x01=p0[0]-p1[0],y01=p0[1]-p1[1],lo=(cw?rc:-rc)/Math.sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x1=p0[0]+ox,y1=p0[1]+oy,x2=p1[0]+ox,y2=p1[1]+oy,x3=(x1+x2)/2,y3=(y1+y2)/2,dx=x2-x1,dy=y2-y1,d2=dx*dx+dy*dy,r=r1-rc,D=x1*y2-x2*y1,d=(dy<0?-1:1)*Math.sqrt(Math.max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x3,dy0=cy0-y3,dx1=cx1-x3,dy1=cy1-y3;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),[[cx0-ox,cy0-oy],[cx0*r1/r,cy0*r1/r]]}function d3_svg_line(projection){function line(data){function segment(){segments.push("M",interpolate(projection(points),tension))}var segments=[],points=[],i=-1,n=data.length,d,fx=d3_functor(x),fy=d3_functor(y);while(++i<n)defined.call(this,d=data[i],i)?points.push([+fx.call(this,d,i),+fy.call(this,d,i)]):points.length&&(segment(),points=[]);return points.length&&segment(),segments.length?segments.join(""):null}var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;return line.x=function(_){return arguments.length?(x=_,line):x},line.y=function(_){return arguments.length?(y=_,line):y},line.defined=function(_){return arguments.length?(defined=_,line):defined},line.interpolate=function(_){return arguments.length?(typeof _=="function"?interpolateKey=interpolate=_:interpolateKey=(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,line):interpolateKey},line.tension=function(_){return arguments.length?(tension=_,line):tension},line}function d3_svg_lineLinear(points){return points.length>1?points.join("L"):points+"Z"}function d3_svg_lineLinearClosed(points){return points.join("L")+"Z"}function d3_svg_lineStep(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);return n>1&&path.push("H",p[0]),path.join("")}function d3_svg_lineStepBefore(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinearClosed(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2)return d3_svg_lineLinear(points);var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;quad&&(path+="Q"+(p[0]-t0[0]*2/3)+","+(p[1]-t0[1]*2/3)+","+p[0]+","+p[1],p0=points[1],pi=2);if(tangents.length>1){t=tangents[1],p=points[pi],pi++,path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++)p=points[pi],t=tangents[i],path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}if(quad){var lp=points[pi];path+="Q"+(p[0]+t[0]*2/3)+","+(p[1]+t[1]*2/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){var tangents=[],a=(1-tension)/2,p0,p1=points[0],p2=points[1],i=1,n=points.length;while(++i<n)p0=p1,p1=p2,p2=points[i],tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])]);return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return points.pop(),path.push("L",pi),path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);var path=[],i=-1,n=points.length,pi,px=[0],py=[0];while(++i<3)pi=points[i],px.push(pi[0]),py.push(pi[1]);path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)),--i;while(++i<n)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBasisClosed(points){var path,i=-1,n=points.length,m=n+4,pi,px=[],py=[];while(++i<4)pi=points[i%n],px.push(pi[0]),py.push(pi[1]);path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)],--i;while(++i<m)pi=points[i%n],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n){var x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1,p,t;while(++i<=n)p=points[i],t=i/n,p[0]=tension*p[0]+(1-tension)*(x0+t*dx),p[1]=tension*p[1]+(1-tension)*(y0+t*dy)}return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);while(++i<j)m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2;return m[i]=d,m}function d3_svg_lineMonotoneTangents(points){var tangents=[],d,a,b,s,m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;while(++i<j)d=d3_svg_lineSlope(points[i],points[i+1]),abs(d)<ε?m[i]=m[i+1]=0:(a=m[i]/d,b=m[i+1]/d,s=a*a+b*b,s>9&&(s=d*3/Math.sqrt(s),m[i]=s*a,m[i+1]=s*b));i=-1;while(++i<=j)s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i])),tangents.push([s||0,m[i]*s||0]);return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}function d3_svg_lineRadial(points){var point,i=-1,n=points.length,r,a;while(++i<n)point=points[i],r=point[0],a=point[1]-halfπ,point[0]=r*Math.cos(a),point[1]=r*Math.sin(a);return points}function d3_svg_area(projection){function area(data){function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}var segments=[],points0=[],points1=[],i=-1,n=data.length,d,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1),x,y;while(++i<n)defined.call(this,d=data[i],i)?(points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]),points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])):points0.length&&(segment(),points0=[],points1=[]);return points0.length&&segment(),segments.length?segments.join(""):null}var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;return area.x=function(_){return arguments.length?(x0=x1=_,area):x1},area.x0=function(_){return arguments.length?(x0=_,area):x0},area.x1=function(_){return arguments.length?(x1=_,area):x1},area.y=function(_){return arguments.length?(y0=y1=_,area):y1},area.y0=function(_){return arguments.length?(y0=_,area):y0},area.y1=function(_){return arguments.length?(y1=_,area):y1},area.defined=function(_){return arguments.length?(defined=_,area):defined},area.interpolate=function(_){return arguments.length?(typeof _=="function"?interpolateKey=interpolate=_:interpolateKey=(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,interpolateReverse=interpolate.reverse||interpolate,L=interpolate.closed?"M":"L",area):interpolateKey},area.tension=function(_){return arguments.length?(tension=_,area):tension},area}function d3_svg_chordRadius(d){return d.radius}function d3_svg_diagonalProjection(d){return[d.x,d.y]}function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]-halfπ;return[r*Math.cos(a),r*Math.sin(a)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+ -r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}function d3_selection_interruptNS(ns){return function(){var lock,activeId,active;(lock=this[ns])&&(active=lock[activeId=lock.active])&&(active.timer.c=null,active.timer.t=NaN,--lock.count?delete lock[activeId]:delete this[ns],lock.active+=.5,active.event&&active.event.interrupt.call(this,this.__data__,active.index))}}function d3_transition(groups,ns,id){return d3_subclass(groups,d3_transitionPrototype),groups.namespace=ns,groups.id=id,groups}function d3_transition_tween(groups,name,value,tween){var id=groups.id,ns=groups.namespace;return d3_selection_each(groups,typeof value=="function"?function(node,i,j){node[ns][id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node[ns][id].tween.set(name,value)}))}function d3_transition_text(b){return b==null&&(b=""),function(){this.textContent=b}}function d3_transitionNamespace(name){return name==null?"__transition__":"__transition_"+name+"__"}function d3_transitionNode(node,i,ns,id,inherit){function schedule(elapsed){var delay=transition.delay;timer.t=delay+time;if(delay<=elapsed)return start(elapsed-delay);timer.c=start}function start(elapsed){var activeId=lock.active,active=lock[activeId];active&&(active.timer.c=null,active.timer.t=NaN,--lock.count,delete lock[activeId],active.event&&active.event.interrupt.call(node,node.__data__,active.index));for(var cancelId in lock)if(+cancelId<id){var cancel=lock[cancelId];cancel.timer.c=null,cancel.timer.t=NaN,--lock.count,delete lock[cancelId]}timer.c=tick,d3_timer(function(){return timer.c&&tick(elapsed||1)&&(timer.c=null,timer.t=NaN),1},0,time),lock.active=id,transition.event&&transition.event.start.call(node,node.__data__,i),tweens=[],transition.tween.forEach(function(key,value){(value=value.call(node,node.__data__,i))&&tweens.push(value)}),ease=transition.ease,duration=transition.duration}function tick(elapsed){var t=elapsed/duration,e=ease(t),n=tweens.length;while(n>0)tweens[--n].call(node,e);if(t>=1)return transition.event&&transition.event.end.call(node,node.__data__,i),--lock.count?delete lock[id]:delete node[ns],1}var lock=node[ns]||(node[ns]={active:0,count:0}),transition=lock[id],time,timer,duration,ease,tweens;transition||(time=inherit.time,timer=d3_timer(schedule,0,time),transition=lock[id]={tween:new d3_Map,time:time,timer:timer,delay:inherit.delay,duration:inherit.duration,ease:inherit.ease,index:i},inherit=null,++lock.count)}function d3_svg_axisX(selection,x0,x1){selection.attr("transform",function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"})}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"})}function d3_time_formatIsoNative(date){return date.toISOString()}function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map(function(d){return d/31536e6}),count)[2]]:i?methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]:[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]}return scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain(x),scale):linear.domain().map(d3_time_scaleDate)},scale.nice=function(interval,skip){function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}var domain=scale.domain(),extent=d3_scaleExtent(domain),method=interval==null?tickMethod(extent,10):typeof interval=="number"&&tickMethod(extent,interval);return method&&(interval=method[0],skip=method[1]),scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){while(skipped(date=interval.floor(date)))date=d3_time_scaleDate(date-1);return date},ceil:function(date){while(skipped(date=interval.ceil(date)))date=d3_time_scaleDate(+date+1);return date}}:interval))},scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=interval==null?tickMethod(extent,10):typeof interval=="number"?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];return method&&(interval=method[0],skip=method[1]),interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),skip<1?1:skip)},scale.tickFormat=function(){return format},scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)},d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(request){return JSON.parse(request.responseText)}function d3_html(request){var range=d3_document.createRange();return range.selectNode(d3_document.body),range.createContextualFragment(request.responseText)}var d3={version:"3.5.17"},d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)},d3_document=this.document;if(d3_document)try{d3_array(d3_document.documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){var i=list.length,array=new Array(i);while(i--)array[i]=list[i];return array}}Date.now||(Date.now=function(){return+(new Date)});if(d3_document)try{d3_document.createElement("DIV").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=this.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=this.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")},d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")},d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}d3.ascending=d3_ascending,d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.min=function(array,f){var i=-1,n=array.length,a,b;if(arguments.length===1){while(++i<n)if((b=array[i])!=null&&b>=b){a=b;break}while(++i<n)(b=array[i])!=null&&a>b&&(a=b)}else{while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>=b){a=b;break}while(++i<n)(b=f.call(array,array[i],i))!=null&&a>b&&(a=b)}return a},d3.max=function(array,f){var i=-1,n=array.length,a,b;if(arguments.length===1){while(++i<n)if((b=array[i])!=null&&b>=b){a=b;break}while(++i<n)(b=array[i])!=null&&b>a&&(a=b)}else{while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>=b){a=b;break}while(++i<n)(b=f.call(array,array[i],i))!=null&&b>a&&(a=b)}return a},d3.extent=function(array,f){var i=-1,n=array.length,a,b,c;if(arguments.length===1){while(++i<n)if((b=array[i])!=null&&b>=b){a=c=b;break}while(++i<n)(b=array[i])!=null&&(a>b&&(a=b),c<b&&(c=b))}else{while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>=b){a=c=b;break}while(++i<n)(b=f.call(array,array[i],i))!=null&&(a>b&&(a=b),c<b&&(c=b))}return[a,c]},d3.sum=function(array,f){var s=0,n=array.length,a,i=-1;if(arguments.length===1)while(++i<n)d3_numeric(a=+array[i])&&(s+=a);else while(++i<n)d3_numeric(a=+f.call(array,array[i],i))&&(s+=a);return s},d3.mean=function(array,f){var s=0,n=array.length,a,i=-1,j=n;if(arguments.length===1)while(++i<n)d3_numeric(a=d3_number(array[i]))?s+=a:--j;else while(++i<n)d3_numeric(a=d3_number(f.call(array,array[i],i)))?s+=a:--j;if(j)return s/j},d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v},d3.median=function(array,f){var numbers=[],n=array.length,a,i=-1;if(arguments.length===1)while(++i<n)d3_numeric(a=d3_number(array[i]))&&numbers.push(a);else while(++i<n)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&numbers.push(a);if(numbers.length)return d3.quantile(numbers.sort(d3_ascending),.5)},d3.variance=function(array,f){var n=array.length,m=0,a,d,s=0,i=-1,j=0;if(arguments.length===1)while(++i<n)d3_numeric(a=d3_number(array[i]))&&(d=a-m,m+=d/++j,s+=d*(a-m));else while(++i<n)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&(d=a-m,m+=d/++j,s+=d*(a-m));if(j>1)return s/(j-1)},d3.deviation=function(){var v=d3.variance.apply(this,arguments);return v?Math.sqrt(v):v};var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left,d3.bisect=d3.bisectRight=d3_bisect.right,d3.bisector=function(f){return d3_bisector(f.length===1?function(d,x){return d3_ascending(f(d),x)}:f)},d3.shuffle=function(array,i0,i1){(m=arguments.length)<3&&(i1=array.length,m<2&&(i0=0));var m=i1-i0,t,i;while(m)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},d3.permute=function(array,indexes){var i=indexes.length,permutes=new Array(i);while(i--)permutes[i]=array[indexes[i]];return permutes},d3.pairs=function(array){var i=0,n=array.length-1,p0,p1=array[0],pairs=new Array(n<0?0:n);while(i<n)pairs[i]=[p0=p1,p1=array[++i]];return pairs},d3.transpose=function(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=d3.min(matrix,d3_transposeLength),transpose=new Array(m);++i<m;)for(var j=-1,n,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose},d3.zip=function(){return d3.transpose(arguments)},d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys},d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);return values},d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries},d3.merge=function(arrays){var n=arrays.length,m,i=-1,j=0,merged,array;while(++i<n)j+=arrays[i].length;merged=new Array(j);while(--n>=0){array=arrays[n],m=array.length;while(--m>=0)merged[--j]=array[m]}return merged};var abs=Math.abs;d3.range=function(start,stop,step){arguments.length<3&&(step=1,arguments.length<2&&(stop=start,start=0));if((stop-start)/step===Infinity)throw new Error("infinite range");var range=[],k=d3_range_integerScale(abs(step)),i=-1,j;start*=k,stop*=k,step*=k;if(step<0)while((j=start+step*++i)>stop)range.push(j/k);else while((j=start+step*++i)<stop)range.push(j/k);return range},d3.map=function(object,f){var map=new d3_Map;if(object instanceof d3_Map)object.forEach(function(key,value){map.set(key,value)});else if(Array.isArray(object)){var i=-1,n=object.length,o;if(arguments.length===1)while(++i<n)map.set(i,object[i]);else while(++i<n)map.set(f.call(object,o=object[i],i),o)}else for(var key in object)map.set(key,object[key]);return map};var d3_map_proto="__proto__",d3_map_zero="\0";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}}),d3.nest=function(){function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;var i=-1,n=array.length,key=keys[depth++],keyValue,object,setter,valuesByKey=new d3_Map,values;while(++i<n)(values=valuesByKey.get(keyValue=key(object=array[i])))?values.push(object):valuesByKey.set(keyValue,[object]);return mapType?(object=mapType(),setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}):(object={},setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}),valuesByKey.forEach(setter),object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];return map.forEach(function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})}),sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}var nest={},keys=[],sortKeys=[],sortValues,rollup;return nest.map=function(array,mapType){return map(mapType,array,0)},nest.entries=function(array){return entries(map(d3.map,array,0),0)},nest.key=function(d){return keys.push(d),nest},nest.sortKeys=function(order){return sortKeys[keys.length-1]=order,nest},nest.sortValues=function(order){return sortValues=order,nest},nest.rollup=function(f){return rollup=f,nest},nest},d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;i<n;++i)set.add(array[i]);return set},d3_class(d3_Set,{has:d3_map_has,add:function(key){return this._[d3_map_escape(key+="")]=!0,key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}}),d3.behavior={},d3.rebind=function(target,source){var i=1,n=arguments.length,method;while(++i<n)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];d3.dispatch=function(){var dispatch=new d3_dispatch,i=-1,n=arguments.length;while(++i<n)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch},d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";i>=0&&(name=type.slice(i+1),type=type.slice(0,i));if(type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(arguments.length===2){if(listener==null)for(type in this)this.hasOwnProperty(type)&&this[type].on(name,null);return this}},d3.event=null,d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]},d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatches=function(n,s){var d3_selectMatcher=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];return d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)},d3_selectMatches(n,s)};typeof Sizzle=="function"&&(d3_select=function(s,n){return Sizzle(s,n)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),d3.selection=function(){return d3.select(d3_document.documentElement)};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroups=[],subgroup,subnode,group,node;selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(subnode=selector.call(node,node.__data__,i,j)),subnode&&"__data__"in node&&(subnode.__data__=node.__data__)):subgroup.push(null)}return d3_selection(subgroups)},d3_selectionPrototype.selectAll=function(selector){var subgroups=[],subgroup,node;selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)if(node=group[i])subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j))),subgroup.parentNode=node;return d3_selection(subgroups)};var d3_nsXhtml="http://www.w3.org/1999/xhtml",d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:d3_nsXhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;return i>=0&&(prefix=name.slice(0,i))!=="xmlns"&&(name=name.slice(i+1)),d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}},d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if(typeof name=="string"){var node=this.node();return name=d3.ns.qualify(name),name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))},d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if(typeof name=="string"){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){while(++i<n)if(!value.contains(name[i]))return!1}else{value=node.getAttribute("class");while(++i<n)if(!d3_selection_classedRe(name[i]).test(value))return!1}return!0}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))},d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if(typeof name!="string"){n<2&&(value="");for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(n<2){var node=this.node();return d3_window(node).getComputedStyle(node,null).getPropertyValue(name)}priority=""}return this.each(d3_selection_style(name,value,priority))},d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if(typeof name=="string")return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))},d3_selectionPrototype.text=function(value){return arguments.length?this.each(typeof value=="function"?function(){var v=value.apply(this,arguments);this.textContent=v==null?"":v}:value==null?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent},d3_selectionPrototype.html=function(value){return arguments.length?this.each(typeof value=="function"?function(){var v=value.apply(this,arguments);this.innerHTML=v==null?"":v}:value==null?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML},d3_selectionPrototype.append=function(name){return name=d3_selection_creator(name),this.select(function(){return this.appendChild(name.apply(this,arguments))})},d3_selectionPrototype.insert=function(name,before){return name=d3_selection_creator(name),before=d3_selection_selector(before),this.select(function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)})},d3_selectionPrototype.remove=function(){return this.each(d3_selectionRemove)},d3_selectionPrototype.data=function(value,key){function bind(group,groupData){var i,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n),node,nodeData;if(key){var nodeByKeyValue=new d3_Map,keyValues=new Array(n),keyValue;for(i=-1;++i<n;)if(node=group[i])nodeByKeyValue.has(keyValue=key.call(node,node.__data__,i))?exitNodes[i]=node:nodeByKeyValue.set(keyValue,node),keyValues[i]=keyValue;for(i=-1;++i<m;)(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))?node!==!0&&(updateNodes[i]=node,node.__data__=nodeData):enterNodes[i]=d3_selection_dataNode(nodeData),nodeByKeyValue.set(keyValue,!0);for(i=-1;++i<n;)i in keyValues&&nodeByKeyValue.get(keyValues[i])!==!0&&(exitNodes[i]=group[i])}else{for(i=-1;++i<n0;)node=group[i],nodeData=groupData[i],node?(node.__data__=nodeData,updateNodes[i]=node):enterNodes[i]=d3_selection_dataNode(nodeData);for(;i<m;++i)enterNodes[i]=d3_selection_dataNode(groupData[i]);for(;i<n;++i)exitNodes[i]=group[i]}enterNodes.update=updateNodes,enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode,enter.push(enterNodes),update.push(updateNodes),exit.push(exitNodes)}var i=-1,n=this.length,group,node;if(!arguments.length){value=new Array(n=(group=this[0]).length);while(++i<n)if(node=group[i])value[i]=node.__data__;return value}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if(typeof value=="function")while(++i<n)bind(group=this[i],value.call(group,group.parentNode.__data__,i));else while(++i<n)bind(group=this[i],value);return update.enter=function(){return enter},update.exit=function(){return exit},update},d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")},d3_selectionPrototype.filter=function(filter){var subgroups=[],subgroup,group,node;typeof filter!="function"&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;i<n;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_selection(subgroups)},d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=group.length-1,next=group[i],node;--i>=0;)if(node=group[i])next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node;return this},d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort
(comparator);return this.order()},d3_selectionPrototype.each=function(callback){return d3_selection_each(this,function(node,i,j){callback.call(node,node.__data__,i,j)})},d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);return callback.apply(args[0]=this,args),this},d3_selectionPrototype.empty=function(){return!this.node()},d3_selectionPrototype.node=function(){for(var j=0,m=this.length;j<m;j++)for(var group=this[j],i=0,n=group.length;i<n;i++){var node=group[i];if(node)return node}return null},d3_selectionPrototype.size=function(){var n=0;return d3_selection_each(this,function(){++n}),n};var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter,d3.selection.enter.prototype=d3_selection_enterPrototype,d3_selection_enterPrototype.append=d3_selectionPrototype.append,d3_selection_enterPrototype.empty=d3_selectionPrototype.empty,d3_selection_enterPrototype.node=d3_selectionPrototype.node,d3_selection_enterPrototype.call=d3_selectionPrototype.call,d3_selection_enterPrototype.size=d3_selectionPrototype.size,d3_selection_enterPrototype.select=function(selector){var subgroups=[],subgroup,subnode,upgroup,group,node;for(var j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update,subgroups.push(subgroup=[]),subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j)),subnode.__data__=node.__data__):subgroup.push(null)}return d3_selection(subgroups)},d3_selection_enterPrototype.insert=function(name,before){return arguments.length<2&&(before=d3_selection_enterInsertBefore(this)),d3_selectionPrototype.insert.call(this,name,before)},d3.select=function(node){var group;return typeof node=="string"?(group=[d3_select(node,d3_document)],group.parentNode=d3_document.documentElement):(group=[node],group.parentNode=d3_documentElement(node)),d3_selection([group])},d3.selectAll=function(nodes){var group;return typeof nodes=="string"?(group=d3_array(d3_selectAll(nodes,d3_document)),group.parentNode=d3_document.documentElement):(group=d3_array(nodes),group.parentNode=null),d3_selection([group])},d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(n<3){if(typeof type!="string"){n<2&&(listener=!1);for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(n<2)return(n=this.node()["__on"+type])&&n._;capture=!1}return this.each(d3_selection_on(type,listener,capture))};var d3_selection_onFilters=d3.map({mouseenter:"mouseover",mouseleave:"mouseout"});d3_document&&d3_selection_onFilters.forEach(function(k){"on"+k in d3_document&&d3_selection_onFilters.remove(k)});var d3_event_dragSelect,d3_event_dragId=0;d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;d3.touch=function(container,touches,identifier){arguments.length<3&&(identifier=touches,touches=d3_eventSource().changedTouches);if(touches)for(var i=0,n=touches.length,touch;i<n;++i)if((touch=touches[i]).identifier===identifier)return d3_mousePoint(container,touch)},d3.behavior.drag=function(){function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){function moved(){var position1=position(parent,dragId),dx,dy;if(!position1)return;dx=position1[0]-position0[0],dy=position1[1]-position0[1],dragged|=dx|dy,position0=position1,dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy})}function ended(){if(!position(parent,dragId))return;dragSubject.on(move+dragName,null).on(end+dragName,null),dragRestore(dragged),dispatch({type:"dragend"})}var that=this,target=d3.event.target.correspondingElement||d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(dragId==null?"":"-"+dragId),dragOffset,dragSubject=d3.select(subject(target)).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(target),position0=position(parent,dragId);origin?(dragOffset=origin.apply(that,arguments),dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]):dragOffset=[0,0],dispatch({type:"dragstart"})}}var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_window,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_identity,"touchmove","touchend");return drag.origin=function(x){return arguments.length?(origin=x,drag):origin},d3.rebind(drag,event,"on")},d3.touches=function(container,touches){return arguments.length<2&&(touches=d3_eventSource().touches),touches?d3_array(touches).map(function(touch){var point=d3_mousePoint(container,touch);return point.identifier=touch.identifier,point}):[]};var ε=1e-6,ε2=ε*ε,π=Math.PI,τ=2*π,τε=τ-ε,halfπ=π/2,d3_radians=π/180,d3_degrees=180/π,ρ=Math.SQRT2,ρ2=2,ρ4=4;d3.interpolateZoom=function(p0,p1){var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,i,S;if(d2<ε2)S=Math.log(w1/w0)/ρ,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(ρ*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+ρ4*d2)/(2*w0*ρ2*d1),b1=(w1*w1-w0*w0-ρ4*d2)/(2*w1*ρ2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/ρ,i=function(t){var s=t*S,coshr0=d3_cosh(r0),u=w0/(ρ2*d1)*(coshr0*d3_tanh(ρ*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(ρ*s+r0)]}}return i.duration=S*1e3,i},d3.behavior.zoom=function(){function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l),view.x+=p[0]-l[0],view.y+=p[1]-l[1]}function zoomTo(that,p,l,k){that.__chart__={x:view.x,y:view.y,k:view.k},scaleTo(Math.pow(2,k)),translateTo(center0=p,l),that=d3.select(that),duration>0&&(that=that.transition().duration(duration)),that.call(zoom.event)}function rescale(){x1&&x1.domain(x0.range().map(function(x){return(x-view.x)/view.k}).map(x0.invert)),y1&&y1.domain(y0.range().map(function(y){return(y-view.y)/view.k}).map(y0.invert))}function zoomstarted(dispatch){zooming++||dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale(),dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){--zooming||(dispatch({type:"zoomend"}),center0=null)}function mousedowned(){function moved(){dragged=1,translateTo(d3.mouse(that),location0),zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null),dragRestore(dragged),zoomended(dispatch)}var that=this,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window(that)).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress(that);d3_selection_interrupt.call(that),zoomstarted(dispatch)}function touchstarted(){function relocate(){var touches=d3.touches(that);return scale0=view.k,touches.forEach(function(t){t.identifier in locations0&&(locations0[t.identifier]=location(t))}),touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended),targets.push(target);var changed=d3.event.changedTouches;for(var i=0,n=changed.length;i<n;++i)locations0[changed[i].identifier]=null;var touches=relocate(),now=Date.now();if(touches.length===1){if(now-touchtime<500){var p=touches[0];zoomTo(that,p,locations0[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),d3_eventPreventDefault()}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var touches=d3.touches(that),p0,l0,p1,l1;d3_selection_interrupt.call(that);for(var i=0,n=touches.length;i<n;++i,l1=null){p1=touches[i];if(l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2],scaleTo(scale1*scale0)}touchtime=null,translateTo(p0,l0),zoomed(dispatch)}function ended(){if(d3.event.touches.length){var changed=d3.event.changedTouches;for(var i=0,n=changed.length;i<n;++i)delete locations0[changed[i].identifier];for(var identifier in locations0)return void relocate()}d3.selectAll(targets).on(zoomName,null),subject.on(mousedown,mousedowned).on(touchstart,touchstarted),dragRestore(),zoomended(dispatch)}var that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,scale0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress(that);started(),zoomstarted(dispatch),subject.on(mousedown,null).on(touchstart,started)}function mousewheeled(){var dispatch=event.of(this,arguments);mousewheelTimer?clearTimeout(mousewheelTimer):(d3_selection_interrupt.call(this),translate0=location(center0=center||d3.mouse(this)),zoomstarted(dispatch)),mousewheelTimer=setTimeout(function(){mousewheelTimer=null,zoomended(dispatch)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,d3_behavior_zoomDelta()*.002)*view.k),translateTo(center0,translate0),zoomed(dispatch)}function dblclicked(){var p=d3.mouse(this),k=Math.log(view.k)/Math.LN2;zoomTo(this,p,location(p),d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1)}var view={x:0,y:0,k:1},translate0,center0,center,size=[960,500],scaleExtent=d3_behavior_zoomInfinity,duration=250,zooming=0,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",mousewheelTimer,touchstart="touchstart.zoom",touchtime,event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend"),x0,x1,y0,y1;return d3_behavior_zoomWheel||(d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll")),zoom.event=function(g){g.each(function(){var dispatch=event.of(this,arguments),view1=view;d3_transitionInheritId?d3.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1},zoomstarted(dispatch)}).tween("zoom:zoom",function(){var dx=size[0],dy=size[1],cx=center0?center0[0]:dx/2,cy=center0?center0[1]:dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k},zoomed(dispatch)}}).each("interrupt.zoom",function(){zoomended(dispatch)}).each("end.zoom",function(){zoomended(dispatch)}):(this.__chart__=view,zoomstarted(dispatch),zoomed(dispatch),zoomended(dispatch))})},zoom.translate=function(_){return arguments.length?(view={x:+_[0],y:+_[1],k:view.k},rescale(),zoom):[view.x,view.y]},zoom.scale=function(_){return arguments.length?(view={x:view.x,y:view.y,k:null},scaleTo(+_),rescale(),zoom):view.k},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent=_==null?d3_behavior_zoomInfinity:[+_[0],+_[1]],zoom):scaleExtent},zoom.center=function(_){return arguments.length?(center=_&&[+_[0],+_[1]],zoom):center},zoom.size=function(_){return arguments.length?(size=_&&[+_[0],+_[1]],zoom):size},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.x=function(z){return arguments.length?(x1=z,x0=z.copy(),view={x:0,y:0,k:1},zoom):x1},zoom.y=function(z){return arguments.length?(y1=z,y0=z.copy(),view={x:0,y:0,k:1},zoom):y1},d3.rebind(zoom,event,"on")};var d3_behavior_zoomInfinity=[0,Infinity],d3_behavior_zoomDelta,d3_behavior_zoomWheel;d3.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},d3.hsl=d3_hsl;var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,this.l/k)},d3_hslPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,k*this.l)},d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},d3.hcl=d3_hcl;var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},d3.lab=d3_lab;var d3_lab_K=18,d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883,d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},d3.rgb=d3_rgb;var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;return!r&&!g&&!b?new d3_rgb(i,i,i):(r&&r<i&&(r=i),g&&g<i&&(g=i),b&&b<i&&(b=i),new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k)))},d3_rgbPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_rgb(k*this.r,k*this.g,k*this.b)},d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach(function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))}),d3.functor=d3_functor,d3.xhr=d3_xhrType(d3_identity),d3.dsv=function(delimiter,mimeType){function dsv(url,row,callback){arguments.length<3&&(callback=row,row=null);var xhr=d3_xhr(url,mimeType,row==null?response:typedResponse(row),callback);return xhr.row=function(_){return arguments.length?xhr.response((row=_)==null?response:typedResponse(_)):row},xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);return dsv.parse=function(text,f){var o;return dsv.parseRows(text,function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a})},dsv.parseRows=function(text,f){function token(){if(I>=N)return EOF;if(eol)return eol=!1,EOL;var j=I;if(text.charCodeAt(j)===34){var i=j;while(i++<N)if(text.charCodeAt(i)===34){if(text.charCodeAt(i+1)!==34)break;++i}I=i+2;var c=text.charCodeAt(i+1);return c===13?(eol=!0,text.charCodeAt(i+2)===10&&++I):c===10&&(eol=!0),text.slice(j+1,i).replace(/""/g,'"')}while(I<N){var c=text.charCodeAt(I++),k=1;if(c===10)eol=!0;else if(c===13)eol=!0,text.charCodeAt(I)===10&&(++I,++k);else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}var EOL={},EOF={},rows=[],N=text.length,I=0,n=0,t,eol;while((t=token())!==EOF){var a=[];while(t!==EOL&&t!==EOF)a.push(t),t=token();if(f&&(a=f(a,n++))==null)continue;rows.push(a)}return rows},dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];return rows.forEach(function(row){for(var field in row)fieldSet.has(field)||fields.push(fieldSet.add(field))}),[fields.map(formatValue).join(delimiter)].concat(rows.map(function(row){return fields.map(function(field){return formatValue(row[field])}).join(delimiter)})).join("\n")},dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")},dsv},d3.csv=d3.dsv(",","text/csv"),d3.tsv=d3.dsv("	","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_frame=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(){d3_timer.apply(this,arguments)},d3.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;if(value=+value)value<0&&(value*=-1),precision&&(value=d3.round(value,d3_format_precision(value,precision))),i=1+Math.floor(1e-12+Math.log(value)/Math.LN10),i=Math.max(-24,Math.min(24,Math.floor((i-1)/3)*3));return d3_formatPrefixes[8+i/3]};var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,d3_format_types=d3.map({b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}}),d3_time=d3.time={},d3_date=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;d3_time.year=d3_time_interval(function(date){return date=d3_time.day(date),date.setMonth(0,1),date},function(date,offset){date.setFullYear(date.getFullYear()+offset)},function(date){return date.getFullYear()}),d3_time.years=d3_time.year.range,d3_time.years.utc=d3_time.year.utc.range,d3_time.day=d3_time_interval(function(date){var day=new d3_date(2e3,0);return day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),day},function(date,offset){date.setDate(date.getDate()+offset)},function(date){return date.getDate()-1}),d3_time.days=d3_time.day.range,d3_time.days.utc=d3_time.day.utc.range,d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-(date.getTimezoneOffset()-year.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval(function(date){return(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7),date},function(date,offset){date.setDate(date.getDate()+Math.floor(offset)*7)},function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)});d3_time[day+"s"]=interval.range,d3_time[day+"s"].utc=interval.utc.range,d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}}),d3_time.week=d3_time.sunday,d3_time.weeks=d3_time.sunday.range,d3_time.weeks.utc=d3_time.sunday.utc.range,d3_time.weekOfYear=d3_time.sundayOfYear;var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat,d3.geo={},d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp),d3_adderSum(d3_adderTemp.s,this.s,this),this.s?this.t+=d3_adderTemp.t:this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;d3.geo.stream=function(object,listener){object&&d3_geo_streamObjectType.hasOwnProperty(object.type)?d3_geo_streamObjectType[object.type](object,listener):d3_geo_streamGeometry(object,listener)};var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){var features=object.features,i=-1,n=features.length;while(++i<n)d3_geo_streamGeometry(features[i].geometry,listener)}},d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates,listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){var geometries=object.geometries,i=-1,n=geometries.length;while(++i<n)d3_geo_streamGeometry(geometries[i],listener)}};d3.geo.area=function(object){return d3_geo_areaSum=0,d3.geo.stream(object,d3_geo_area),d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder,d3_geo_area={sphere:function(){d3_geo_areaSum+=4*π},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset(),d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=area<0?4*π+area:area,d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};d3.geo.bounds=function(){function point(λ,φ){ranges.push(range=[λ0=λ,λ1=λ]),φ<φ0&&(φ0=φ),φ>φ1&&(φ1=φ)}function linePoint(λ,φ){var p=d3_geo_cartesian([λ*d3_radians,φ*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection),inflection=d3_geo_spherical(inflection);var dλ=λ-λ_,s=dλ>0?1:-1,λi=inflection[0]*d3_degrees*s,antimeridian=abs(dλ)>180;if(antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=inflection[1]*d3_degrees;φi>φ1&&(φ1=φi)}else if(λi=(λi+360)%360-180,antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=-inflection[1]*d3_degrees;φi<φ0&&(φ0=φi)}else φ<φ0&&(φ0=φ),φ>φ1&&(φ1=φ);antimeridian?λ<λ_?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ):λ1>=λ0?(λ<λ0&&(λ0=λ),λ>λ1&&(λ1=λ)):λ>λ_?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ)}else point(λ,φ);p0=p,λ_=λ}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=λ0,range[1]=λ1,bound.point=point,p0=null}function ringPoint(λ,φ){if(p0){var dλ=λ-λ_;dλSum+=abs(dλ)>180?dλ+(dλ>0?360:-360):dλ}else λ__=λ,φ__=φ;d3_geo_area.point(λ,φ),linePoint(λ,φ)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(λ__,φ__),d3_geo_area.lineEnd(),abs(dλSum)>ε&&(λ0=-(λ1=180)),range[0]=λ0,range[1]=λ1,p0=null}function angle(λ0,λ1){return(λ1-=λ0)<0?λ1+360:λ1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var λ0,φ0,λ1,φ1,λ_,λ__,φ__,p0,dλSum,ranges,range,bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint,bound.lineStart=ringStart,bound.lineEnd=ringEnd,dλSum=0,d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd(),bound.point=point,bound.lineStart=lineStart,bound.lineEnd=lineEnd,d3_geo_areaRingSum<0?(λ0=-(λ1=180),φ0=-(φ1=90)):dλSum>ε?φ1=90:dλSum<-ε&&(φ0=-90),range[0]=λ0,range[1]=λ1}};return function(feature){φ1=λ1=-(λ0=φ0=Infinity),ranges=[],d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var i=1,a=ranges[0],b,merged=[a];i<n;++i)b=ranges[i],withinRange(b[0],a)||withinRange(b[1],a)?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);var best=-Infinity,dλ;for(var n=merged.length-1,i=0,a=merged[n],b;i<=n;a=b,++i)b=merged[i],(dλ=angle(a[1],b[0]))>best&&(best=dλ,λ0=b[0],λ1=a[1])}return ranges=range=null,λ0===Infinity||φ0===Infinity?[[NaN,NaN],[NaN,NaN]]:[[λ0,φ0],[λ1,φ1]]}}(),d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;if(m<ε2){x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1,d3_geo_centroidW1<ε&&(x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0),m=x*x+y*y+z*z;if(m<ε2)return[NaN,NaN]}return[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2,d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}},d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-π,-π/2]),d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){return stream&&(stream.valid=!1),stream=clip(output),stream.valid=!0,stream},extent:function(_){return arguments.length?(clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),stream&&(stream.valid=!1,stream=null),clipExtent):[[x0,y0],[x1,y1]]}};return clipExtent.extent([[0,0],[960,500]])},(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},d3.geo.albersUsa=function(){function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,(lower48Point(x,y),point)||(alaskaPoint(x,y),point)||hawaiiPoint(x,y),point}var lower48=d3.geo.albers(),alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),point,pointStream={point:function(x,y){point=[x,y]}},lower48Point,alaskaPoint,hawaiiPoint;return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-0.425&&x<-0.214?alaska:y>=.166&&y<.234&&x>=-0.214&&x<-0.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y),alaskaStream.point(x,y),hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere(),alaskaStream.sphere(),hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart(),alaskaStream.lineStart(),hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd(),alaskaStream.lineEnd(),hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart(),alaskaStream.polygonStart(),hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd(),alaskaStream.polygonEnd(),hawaiiStream.polygonEnd()}}},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),albersUsa):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(_*.35),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream
(pointStream).point,alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(pointStream).point,hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(pointStream).point,albersUsa},albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0,d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop,d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}},d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1,d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint,d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart,d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};d3.geo.path=function(){function path(object){if(object){typeof pointRadius=="function"&&contextStream.pointRadius(+pointRadius.apply(this,arguments));if(!cacheStream||!cacheStream.valid)cacheStream=projectStream(contextStream);d3.geo.stream(object,cacheStream)}return contextStream.result()}function reset(){return cacheStream=null,path}var pointRadius=4.5,projection,context,projectStream,contextStream,cacheStream;return path.area=function(object){return d3_geo_pathAreaSum=0,d3.geo.stream(object,projectStream(d3_geo_pathArea)),d3_geo_pathAreaSum},path.centroid=function(object){return d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,projectStream(d3_geo_pathCentroid)),d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]},path.bounds=function(object){return d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=Infinity),d3.geo.stream(object,projectStream(d3_geo_pathBounds)),[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]},path.projection=function(_){return arguments.length?(projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity,reset()):projection},path.context=function(_){return arguments.length?(contextStream=(context=_)==null?new d3_geo_pathBuffer:new d3_geo_pathContext(_),typeof pointRadius!="function"&&contextStream.pointRadius(pointRadius),reset()):context},path.pointRadius=function(_){return arguments.length?(pointRadius=typeof _=="function"?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(d3.geo.albersUsa()).context(null)},d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}},d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},d3.geo.projection=d3_geo_projection,d3.geo.projectionMutator=d3_geo_projectionMutator,(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,d3.geo.rotation=function(rotate){function forward(coordinates){return coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}return rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0),forward.invert=function(coordinates){return coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,d3.geo.circle=function(){function circle(){var center=typeof origin=="function"?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];return interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y)),x[0]*=d3_degrees,x[1]*=d3_degrees}}),{type:"Polygon",coordinates:[ring]}}var origin=[0,0],angle,precision=6,interpolate;return circle.origin=function(x){return arguments.length?(origin=x,circle):origin},circle.angle=function(x){return arguments.length?(interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians),circle):angle},circle.precision=function(_){return arguments.length?(interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians),circle):precision},circle.angle(90)},d3.geo.distance=function(a,b){var Δλ=(b[0]-a[0])*d3_radians,φ0=a[1]*d3_radians,φ1=b[1]*d3_radians,sinΔλ=Math.sin(Δλ),cosΔλ=Math.cos(Δλ),sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),sinφ1=Math.sin(φ1),cosφ1=Math.cos(φ1),t;return Math.atan2(Math.sqrt((t=cosφ1*sinΔλ)*t+(t=cosφ0*sinφ1-sinφ0*cosφ1*cosΔλ)*t),sinφ0*sinφ1+cosφ0*cosφ1*cosΔλ)},d3.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter(function(x){return abs(x%DX)>ε}).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter(function(y){return abs(y%DY)>ε}).map(y))}var x1,x0,X1,X0,y1,y0,Y1,Y0,dx=10,dy=dx,DX=90,DY=360,x,y,X,Y,precision=2.5;return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.majorExtent(_).minorExtent(_):graticule.minorExtent()},graticule.majorExtent=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.minorExtent=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.majorStep(_).minorStep(_):graticule.minorStep()},graticule.majorStep=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.minorStep=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=d3_geo_graticuleX(y0,y1,90),y=d3_geo_graticuleY(x0,x1,precision),X=d3_geo_graticuleX(Y0,Y1,90),Y=d3_geo_graticuleY(X0,X1,precision),graticule):precision},graticule.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]])},d3.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}var source=d3_source,source_,target=d3_target,target_;return greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))},greatArc.source=function(_){return arguments.length?(source=_,source_=typeof _=="function"?null:_,greatArc):source},greatArc.target=function(_){return arguments.length?(target=_,target_=typeof _=="function"?null:_,greatArc):target},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)},d3.geo.length=function(object){return d3_geo_lengthSum=0,d3.geo.stream(object,d3_geo_length),d3_geo_lengthSum};var d3_geo_lengthSum,d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_azimuthalEqualArea=d3_geo_azimuthal(function(cosλcosφ){return Math.sqrt(2/(1+cosλcosφ))},function(ρ){return 2*Math.asin(ρ/2)});(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal(function(cosλcosφ){var c=Math.acos(cosλcosφ);return c&&c/Math.sin(c)},d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant,(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var d3_geo_gnomonic=d3_geo_azimuthal(function(cosλcosφ){return 1/cosλcosφ},Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic,d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-halfπ]},(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal(function(cosλcosφ){return 1/(1+cosλcosφ)},function(ρ){return 2*Math.atan(ρ)});(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic,d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-halfπ]},(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;return projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])},projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])},rotate([0,0,90])}).raw=d3_geo_transverseMercator,d3.geom={},d3.geom.hull=function(vertices){function hull(data){if(data.length<3)return[];var fx=d3_functor(x),fy=d3_functor(y),i,n=data.length,points=[],flippedPoints=[];for(i=0;i<n;i++)points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i]);points.sort(d3_geom_hullOrder);for(i=0;i<n;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints),skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}var x=d3_geom_pointX,y=d3_geom_pointY;return arguments.length?hull(vertices):(hull.x=function(_){return arguments.length?(x=_,hull):x},hull.y=function(_){return arguments.length?(y=_,hull):y},hull)},d3.geom.polygon=function(coordinates){return d3_subclass(coordinates,d3_geom_polygonPrototype),coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){var i=-1,n=this.length,a,b=this[n-1],area=0;while(++i<n)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return area*.5},d3_geom_polygonPrototype.centroid=function(k){var i=-1,n=this.length,x=0,y=0,a,b=this[n-1],c;arguments.length||(k=-1/(6*this.area()));while(++i<n)a=b,b=this[i],c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x*k,y*k]},d3_geom_polygonPrototype.clip=function(subject){var input,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),j,m,a=this[n-1],b,c,d;while(++i<n){input=subject.slice(),subject.length=0,b=this[i],c=input[(m=input.length-closed)-1],j=-1;while(++j<m)d=input[j],d3_geom_polygonInside(d,a,b)?(d3_geom_polygonInside(c,a,b)||subject.push(d3_geom_polygonIntersect(c,d,a,b)),subject.push(d)):d3_geom_polygonInside(c,a,b)&&subject.push(d3_geom_polygonIntersect(c,d,a,b)),c=d;closed&&subject.push(subject[0]),a=b}return subject};var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiBeachPool=[],d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiCirclePool=[];d3_geom_voronoiCell.prototype.prepare=function(){var halfEdges=this.edges,iHalfEdge=halfEdges.length,edge;while(iHalfEdge--)edge=halfEdges[iHalfEdge].edge,(!edge.b||!edge.a)&&halfEdges.splice(iHalfEdge,1);return halfEdges.sort(d3_geom_voronoiHalfEdgeOrder),halfEdges.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node;if(after.R){after=after.R;while(after.L)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=d3_geom_voronoiRedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);node.L=node.R=null,node.U=parent,node.C=!0,after=node;while(parent&&parent.C)grandpa=parent.U,parent===grandpa.L?(uncle=grandpa.R,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(d3_geom_voronoiRedBlackRotateLeft(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateRight(this,grandpa))):(uncle=grandpa.L,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(d3_geom_voronoiRedBlackRotateRight(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,grandpa))),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var parent=node.U,sibling,left=node.L,right=node.R,next,red;left?right?next=d3_geom_voronoiRedBlackFirst(right):next=left:next=right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent);if(red)return;if(node&&node.C){node.C=!1;return}do{if(node===this._)break;if(node===parent.L){sibling=parent.R,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,parent),sibling=parent.R);if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.R||!sibling.R.C)sibling.L.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateRight(this,sibling),sibling=parent.R;sibling.C=parent.C,parent.C=sibling.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,parent),node=this._;break}}else{sibling=parent.L,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateRight(this,parent),sibling=parent.L);if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.L||!sibling.L.C)sibling.R.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,sibling),sibling=parent.L;sibling.C=parent.C,parent.C=sibling.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,parent),node=this._;break}}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}},d3.geom.voronoi=function(points){function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];return d3_geom_voronoi(sites(data),clipExtent).cells.forEach(function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map(function(e){var s=e.start();return[s.x,s.y]}):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]}),polygons}function sites(data){return data.map(function(d,i){return{x:Math.round(fx(d,i)/ε)*ε,y:Math.round(fy(d,i)/ε)*ε,i:i}})}var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;return points?voronoi(points):(voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter(function(edge){return edge.l&&edge.r}).map(function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}})},voronoi.triangles=function(data){var triangles=[];return d3_geom_voronoi(sites(data)).cells.forEach(function(cell,i){var site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e0,s0,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;while(++j<m)e0=e1,s0=s1,e1=edges[j].edge,s1=e1.l===site?e1.r:e1.l,i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0&&triangles.push([data[i],data[s0.i],data[s1.i]])}),triangles},voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x},voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y},voronoi.clipExtent=function(_){return arguments.length?(clipExtent=_==null?d3_geom_voronoiClipExtent:_,voronoi):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent},voronoi.size=function(_){return arguments.length?voronoi.clipExtent(_&&[[0,0],_]):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1]},voronoi)};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)},d3.geom.quadtree=function(points,x1,y1,x2,y2){function quadtree(data){function insert(n,d,x,y,x1,y1,x2,y2){if(isNaN(x)||isNaN(y))return;if(n.leaf){var nx=n.x,ny=n.y;if(nx!=null)if(abs(nx-x)+abs(ny-y)<.01)insertChild(n,d,x,y,x1,y1,x2,y2);else{var nPoint=n.point;n.x=n.y=n.point=null,insertChild(n,nPoint,nx,ny,x1,y1,x2,y2),insertChild(n,d,x,y,x1,y1,x2,y2)}else n.x=x,n.y=y,n.point=d}else insertChild(n,d,x,y,x1,y1,x2,y2)}function insertChild(n,d,x,y,x1,y1,x2,y2){var xm=(x1+x2)*.5,ym=(y1+y2)*.5,right=x>=xm,below=y>=ym,i=below<<1|right;n.leaf=!1,n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode()),right?x1=xm:x2=xm,below?y1=ym:y2=ym,insert(n,d,x,y,x1,y1,x2,y2)}var d,fx=d3_functor(x),fy=d3_functor(y),xs,ys,i,n,x1_,y1_,x2_,y2_;if(x1!=null)x1_=x1,y1_=y1,x2_=x2,y2_=y2;else{x2_=y2_=-(x1_=y1_=Infinity),xs=[],ys=[],n=data.length;if(compat)for(i=0;i<n;++i)d=data[i],d.x<x1_&&(x1_=d.x),d.y<y1_&&(y1_=d.y),d.x>x2_&&(x2_=d.x),d.y>y2_&&(y2_=d.y),xs.push(d.x),ys.push(d.y);else for(i=0;i<n;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);x_<x1_&&(x1_=x_),y_<y1_&&(y1_=y_),x_>x2_&&(x2_=x_),y_>y2_&&(y2_=y_),xs.push(x_),ys.push(y_)}}var dx=x2_-x1_,dy=y2_-y1_;dx>dy?y2_=y1_+dx:x2_=x1_+dy;var root=d3_geom_quadtreeNode();root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)},root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)},root.find=function(point){return d3_geom_quadtreeFind(root,point[0],point[1],x1_,y1_,x2_,y2_)},i=-1;if(x1==null){while(++i<n)insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_);--i}else data.forEach(root.add);return xs=ys=data=d=null,root}var x=d3_geom_pointX,y=d3_geom_pointY,compat;return(compat=arguments.length)?(x=d3_geom_quadtreeCompatX,y=d3_geom_quadtreeCompatY,compat===3&&(y2=y1,x2=x1,y1=x1=0),quadtree(points)):(quadtree.x=function(_){return arguments.length?(x=_,quadtree):x},quadtree.y=function(_){return arguments.length?(y=_,quadtree):y},quadtree.extent=function(_){return arguments.length?(_==null?x1=y1=x2=y2=null:(x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1]),quadtree):x1==null?null:[[x1,y1],[x2,y2]]},quadtree.size=function(_){return arguments.length?(_==null?x1=y1=x2=y2=null:(x1=y1=0,x2=+_[0],y2=+_[1]),quadtree):x1==null?null:[x2-x1,y2-y1]},quadtree)},d3.interpolateRgb=d3_interpolateRgb,d3.interpolateObject=d3_interpolateObject,d3.interpolateNumber=d3_interpolateNumber,d3.interpolateString=d3_interpolateString;var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate,d3.interpolators=[function(a,b){var t=typeof b;return(t==="string"?d3_rgb_names.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:t==="object"&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}],d3.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),d3_ease_mode=d3.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";return t=d3_ease.get(t)||d3_ease_default,m=d3_ease_mode.get(m)||d3_identity,d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))},d3.interpolateHcl=d3_interpolateHcl,d3.interpolateHsl=d3_interpolateHsl,d3.interpolateLab=d3_interpolateLab,d3.interpolateRound=d3_interpolateRound,d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(string!=null){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform,d3.layout={},d3.layout.bundle=function(){return function(links){var paths=[],i=-1,n=links.length;while(++i<n)paths.push(d3_layout_bundlePath(links[i]));return paths}},d3.layout.chord=function(){function relayout(){var subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[],k,x,x0,i,j;chords=[],groups=[],k=0,i=-1;while(++i<n){x=0,j=-1;while(++j<n)x+=matrix[i][j];groupSums.push(x),subgroupIndex.push(d3.range(n)),k+=x}sortGroups&&groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])}),sortSubgroups&&subgroupIndex.forEach(function(d,i){d.sort(function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])})}),k=(τ-padding*n)/k,x=0,i=-1;while(++i<n){x0=x,j=-1;while(++j<n){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:groupSums[di]},x+=padding}i=-1;while(++i<n){j=i-1;while(++j<n){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];(source.value||target.value)&&chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}}sortChords&&resort()}function resort(){chords.sort(function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var chord={},chords,groups,matrix,n,padding=0,sortGroups,sortSubgroups,sortChords;return chord.matrix=function(x){return arguments.length?(n=(matrix=x)&&matrix.length,chords=groups=null,chord):matrix},chord.padding=function(x){return arguments.length?(padding=x,chords=groups=null,chord):padding},chord.sortGroups=function(x){return arguments.length?(sortGroups=x,chords=groups=null,chord):sortGroups},chord.sortSubgroups=function(x){return arguments.length?(sortSubgroups=x,chords=null,chord):sortSubgroups},chord.sortChords=function(x){return arguments.length?(sortChords=x,chords&&resort(),chord):sortChords},chord.chords=function(){return chords||relayout(),chords},chord.groups=function(){return groups||relayout(),groups},chord},d3.layout.force=function(){function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dw*dw/theta2<dn){if(dn<chargeDistance2){var k=quad.charge/dn;node.px-=dx*k,node.py-=dy*k}return!0}if(quad.point&&dn&&dn<chargeDistance2){var k=quad.pointCharge/dn;node.px-=dx*k,node.py-=dy*k}}return!quad.charge}}function dragmove(d){d.px=d3.event.x,d.py=d3.event.y,force.resume()}var force={},event=d3.dispatch("start","tick","end"),timer,size=[1,1],drag,alpha,friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[],distances,strengths,charges;return force.tick=function(){if((alpha*=.99)<.005)return timer=null,event.end({type:"end",alpha:alpha=0}),!0;var n=nodes.length,m=links.length,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=links[i],s=o.source,t=o.target,x=t.x-s.x,y=t.y-s.y;if(l=x*x+y*y)l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l,x*=l,y*=l,t.x-=x*(k=s.weight+t.weight?s.weight/(s.weight+t.weight):.5),t.y-=y*k,s.x+=x*(k=1-k),s.y+=y*k}if(k=alpha*gravity){x=size[0]/2,y=size[1]/2,i=-1;if(k)while(++i<n)o=nodes[i],o.x+=(x-o.x)*k,o.y+=(y-o.y)*k}if(charge){d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges),i=-1;while(++i<n)(o=nodes[i]).fixed||q.visit(repulse(o))}i=-1;while(++i<n)o=nodes[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*friction,o.y-=(o.py-(o.py=o.y))*friction);event.tick({type:"tick",alpha:alpha})},force.nodes=function(x){return arguments.length?(nodes=x,force):nodes},force.links=function(x){return arguments.length?(links=x,force):links},force.size=function(x){return arguments.length?(size=x,force):size},force.linkDistance=function(x){return arguments.length?(linkDistance=typeof x=="function"?x:+x,force):linkDistance},force.distance=force.linkDistance,force.linkStrength=function(x){return arguments.length?(linkStrength=typeof x=="function"?x:+x,force):linkStrength},force.friction=function(x){return arguments.length?(friction=+x,force):friction},force.charge=function(x){return arguments.length?(charge=typeof x=="function"?x:+x,force):charge},force.chargeDistance=function(x){return arguments.length?(chargeDistance2=x*x,force):Math.sqrt(chargeDistance2)},force.gravity=function(x){return arguments.length?(gravity=+x,force):gravity},force.theta=function(x){return arguments.length?(theta2=x*x,force):Math.sqrt(theta2)},force.alpha=function(x){return arguments.length?(x=+x,alpha?x>0?alpha=x:(timer.c=null,timer.t=NaN,timer=null,event.end({type:"end",alpha:alpha=0})):x>0&&(event.start({type:"start",alpha:alpha=x}),timer=d3_timer(force.tick)),force):alpha},force.start=function(){function position(dimension,size){if(!neighbors){neighbors=new Array(n);for(j=0;j<n;++j)neighbors[j]=[];for(j=0;j<m;++j){var o=links[j];neighbors[o.source.index].push(o.target),neighbors[o.target.index].push(o.source)}}var candidates=neighbors[i],j=-1,l=candidates.length,x;while(++j<l)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}var i,n=nodes.length,m=links.length,w=size[0],h=size[1],neighbors,o;for(i=0;i<n;++i)(o=nodes[i]).index=i,o.weight=0;for(i=0;i<m;++i)o=links[i],typeof o.source=="number"&&(o.source=nodes[o.source]),typeof o.target=="number"&&(o.target=nodes[o.target]),++o.source.weight,++o.target.weight;for(i=0;i<n;++i)o=nodes[i],isNaN(o.x)&&(o.x=position("x",w)),isNaN(o.y)&&(o.y=position("y",h)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);distances=[];if(typeof linkDistance=="function")for(i=0;i<m;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;i<m;++i)distances[i]=linkDistance;strengths=[];if(typeof linkStrength=="function")for(i=0;i<m;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;i<m;++i)strengths[i]=linkStrength;charges=[];if(typeof charge=="function")for(i=0;i<n;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;i<n;++i)charges[i]=charge;return force.resume()},force.resume=function(){return force.alpha(.1)},force.stop=function(){return force.alpha(0)},force.drag=function(){drag||(drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend));if(!arguments.length)return drag;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag)},d3.rebind(force,event,"on")};var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=Infinity;d3.layout.hierarchy=function(){function hierarchy(root){var stack=[root],nodes=[],node;root.depth=0;while((node=stack.pop())!=null){nodes.push(node);if((childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){var n,childs,child;while(--n>=0)stack.push(child=childs[n]),child.parent=node,child.depth=node.depth+1;value&&(node.value=0),node.children=childs}else value&&(node.value=+value.call(hierarchy,node,node.depth)||0),delete node.children}return d3_layout_hierarchyVisitAfter(root,function(node){var childs,parent;sort&&(childs=node.children)&&childs.sort(sort),value&&(parent=node.parent)&&(parent.value+=node.value)}),nodes}var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;return hierarchy.sort=function(x){return arguments.length?(sort=x,hierarchy):sort},hierarchy.children=function(x){return arguments.length?(children=x,hierarchy):children},hierarchy.value=function(x){return arguments.length?(value=x,hierarchy):value},hierarchy.revalue=function(root){return value&&(d3_layout_hierarchyVisitBefore(root,function(node){node.children&&(node.value=0)}),d3_layout_hierarchyVisitAfter(root,function(node){var parent;node.children||(node.value=+value.call(hierarchy,node,node.depth)||0);if(parent=node.parent)parent.value+=node.value})),root},hierarchy},d3.layout.partition=function(){function position(node,x,dx,dy){var children=node.children;node.x=x,node.y=node.depth*dy,node.dx=dx,node.dy=dy;if(children&&(n=children.length)){var i=-1,n,c,d;dx=node.value?dx/node.value:0;while(++i<n)position(c=children[i],x,d=c.value*dx,dy),x+=d}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length)){var i=-1,n;while(++i<n)d=Math.max(d,depth(children[i]))}return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);return position(nodes[0],0,size[0],size[1]/depth(nodes[0])),nodes}var hierarchy=d3.layout.hierarchy(),size=[1,1];return partition.size=function(x){return arguments.length?(size=x,partition):size},d3_layout_hierarchyRebind(partition,hierarchy)},d3.layout.pie=function(){function pie(data){var n=data.length,values=data.map(function(d,i){return+value.call(pie,d,i)}),a=+(typeof startAngle=="function"?startAngle.apply(this,arguments):startAngle),da=(typeof endAngle=="function"?endAngle.apply(this,arguments):endAngle)-a,p=Math.min(Math.abs(da)/n,+(typeof padAngle=="function"?padAngle.apply(this,arguments):padAngle)),pa=p*(da<0?-1:1),sum=d3.sum(values),k=sum?(da-n*pa)/sum:0,index=d3.range(n),arcs=[],v;return sort!=null&&index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])}),index.forEach(function(i){arcs[i]={data:data[i],value:v=values[i],startAngle:a,endAngle:a+=v*k+pa,padAngle:p}}),arcs}var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=τ,padAngle=0;return pie.value=function(_){return arguments.length?(value=_,pie):value},pie.sort=function(_){return arguments.length?(sort=_,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle=_,pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle=_,pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle=_,pie):padAngle},pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){function stack(data,index){if(!(n=data.length))return data;var series=data.map(function(d,i){return values.call(stack,d,i)}),points=series.map(function(d){return d.map(function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]})}),orders=order.call(stack,points,index);series=d3.permute(series,orders),points=d3.permute(points,orders);var offsets=offset.call(stack,points,index),m=series[0].length,n,i,j,o;for(j=0;j<m;++j){out.call(stack,series[0][j],o=offsets[j],points[0][j][1]);for(i=1;i<n;++i)out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1])}return data}var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut
,x=d3_layout_stackX,y=d3_layout_stackY;return stack.values=function(x){return arguments.length?(values=x,stack):values},stack.order=function(x){return arguments.length?(order=typeof x=="function"?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault,stack):order},stack.offset=function(x){return arguments.length?(offset=typeof x=="function"?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero,stack):offset},stack.x=function(z){return arguments.length?(x=z,stack):x},stack.y=function(z){return arguments.length?(y=z,stack):y},stack.out=function(z){return arguments.length?(out=z,stack):out},stack};var d3_layout_stackOrders=d3.map({"inside-out":function(data){var n=data.length,i,j,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort(function(a,b){return max[a]-max[b]}),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i)j=index[i],top<bottom?(top+=sums[j],tops.push(j)):(bottom+=sums[j],bottoms.push(j));return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},"default":d3_layout_stackOrderDefault}),d3_layout_stackOffsets=d3.map({silhouette:function(data){var n=data.length,m=data[0].length,sums=[],max=0,i,j,o,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];o>max&&(max=o),sums.push(o)}for(j=0;j<m;++j)y0[j]=(max-sums[j])/2;return y0},wiggle:function(data){var n=data.length,x=data[0],m=x.length,i,j,k,s1,s2,s3,dx,o,o0,y0=[];y0[0]=o=o0=0;for(j=1;j<m;++j){for(i=0,s1=0;i<n;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];i<n;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);k<i;++k)s3+=(data[k][j][1]-data[k][j-1][1])/dx;s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0,o<o0&&(o0=o)}for(j=0;j<m;++j)y0[j]-=o0;return y0},expand:function(data){var n=data.length,m=data[0].length,k=1/n,i,j,o,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o)for(i=0;i<n;i++)data[i][j][1]/=o;else for(i=0;i<n;i++)data[i][j][1]=k}for(j=0;j<m;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});d3.layout.histogram=function(){function histogram(data,i){var bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),bin,i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n,x;while(++i<m)bin=bins[i]=[],bin.dx=thresholds[i+1]-(bin.x=thresholds[i]),bin.y=0;if(m>0){i=-1;while(++i<n)x=values[i],x>=range[0]&&x<=range[1]&&(bin=bins[d3.bisect(thresholds,x,1,m)-1],bin.y+=k,bin.push(data[i]))}return bins}var frequency=!0,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;return histogram.value=function(x){return arguments.length?(valuer=x,histogram):valuer},histogram.range=function(x){return arguments.length?(ranger=d3_functor(x),histogram):ranger},histogram.bins=function(x){return arguments.length?(binner=typeof x=="number"?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x),histogram):binner},histogram.frequency=function(x){return arguments.length?(frequency=!!x,histogram):frequency},histogram},d3.layout.pack=function(){function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=radius==null?Math.sqrt:typeof radius=="function"?radius:function(){return radius};root.x=root.y=0,d3_layout_hierarchyVisitAfter(root,function(d){d.r=+r(d.value)}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings);if(padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,function(d){d.r+=dr}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(root,function(d){d.r-=dr})}return d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h)),nodes}var hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1],radius;return pack.size=function(_){return arguments.length?(size=_,pack):size},pack.radius=function(_){return arguments.length?(radius=_==null||typeof _=="function"?_:+_,pack):radius},pack.padding=function(_){return arguments.length?(padding=+_,pack):padding},d3_layout_hierarchyRebind(pack,hierarchy)},d3.layout.tree=function(){function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z,d3_layout_hierarchyVisitBefore(root1,secondWalk);if(nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky})}return nodes}function wrapTree(root0){var root1={A:null,children:[root0]},queue=[root1],node1;while((node1=queue.pop())!=null)for(var children=node1.children,child,i=0,n=children.length;i<n;++i)queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child);return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){var vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m,shift;while(vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip)vom=d3_layout_treeLeft(vom),vop=d3_layout_treeRight(vop),vop.a=v,shift=vim.z+sim-vip.z-sip+separation(vim._,vip._),shift>0&&(d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!d3_layout_treeRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!d3_layout_treeLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}function sizeNode(node){node.x*=size[0],node.y=node.depth*size[1]}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=(size=x)==null?sizeNode:null,tree):nodeSize?null:size},tree.nodeSize=function(x){return arguments.length?(nodeSize=(size=x)==null?null:sizeNode,tree):nodeSize?size:null},d3_layout_hierarchyRebind(tree,hierarchy)},d3.layout.cluster=function(){function cluster(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],previousNode,x=0;d3_layout_hierarchyVisitAfter(root,function(node){var children=node.children;children&&children.length?(node.x=d3_layout_clusterX(children),node.y=d3_layout_clusterY(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)});var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0],node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0],node.y=(1-(root.y?node.y/root.y:1))*size[1]}),nodes}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=!1;return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=(size=x)==null,cluster):nodeSize?null:size},cluster.nodeSize=function(x){return arguments.length?(nodeSize=(size=x)!=null,cluster):nodeSize?size:null},d3_layout_hierarchyRebind(cluster,hierarchy)},d3.layout.treemap=function(){function scale(children,k){var i=-1,n=children.length,child,area;while(++i<n)area=(child=children[i]).value*(k<0?0:k),child.area=isNaN(area)||area<=0?0:area}function squarify(node){var children=node.children;if(children&&children.length){var rect=pad(node),row=[],remaining=children.slice(),child,best=Infinity,score,u=mode==="slice"?rect.dx:mode==="dice"?rect.dy:mode==="slice-dice"?node.depth&1?rect.dy:rect.dx:Math.min(rect.dx,rect.dy),n;scale(remaining,rect.dx*rect.dy/node.value),row.area=0;while((n=remaining.length)>0)row.push(child=remaining[n-1]),row.area+=child.area,mode!=="squarify"||(score=worst(row,u))<=best?(remaining.pop(),best=score):(row.area-=row.pop().area,position(row,u,rect,!1),u=Math.min(rect.dx,rect.dy),row.length=row.area=0,best=Infinity);row.length&&(position(row,u,rect,!0),row.length=row.area=0),children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var rect=pad(node),remaining=children.slice(),child,row=[];scale(remaining,rect.dx*rect.dy/node.value),row.area=0;while(child=remaining.pop())row.push(child),row.area+=child.area,child.z!=null&&(position(row,child.z?rect.dx:rect.dy,rect,!remaining.length),row.length=row.area=0);children.forEach(stickify)}}function worst(row,u){var s=row.area,r,rmax=0,rmin=Infinity,i=-1,n=row.length;while(++i<n){if(!(r=row[i].area))continue;r<rmin&&(rmin=r),r>rmax&&(rmax=r)}return s*=s,u*=u,s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):Infinity}function position(row,u,rect,flush){var i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0,o;if(u==rect.dx){if(flush||v>rect.dy)v=rect.dy;while(++i<n)o=row[i],o.x=x,o.y=y,o.dy=v,x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0);o.z=!0,o.dx+=rect.x+rect.dx-x,rect.y+=v,rect.dy-=v}else{if(flush||v>rect.dx)v=rect.dx;while(++i<n)o=row[i],o.x=x,o.y=y,o.dx=v,y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0);o.z=!1,o.dy+=rect.y+rect.dy-y,rect.x+=v,rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];return root.x=root.y=0,root.value?(root.dx=size[0],root.dy=size[1]):root.dx=root.dy=0,stickies&&hierarchy.revalue(root),scale([root],root.dx*root.dy/root.value),(stickies?stickify:squarify)(root),sticky&&(stickies=nodes),nodes}var hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=!1,stickies,mode="squarify",ratio=.5*(1+Math.sqrt(5));return treemap.size=function(x){return arguments.length?(size=x,treemap):size},treemap.padding=function(x){function padFunction(node){var p=x.call(treemap,node,node.depth);return p==null?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,typeof p=="number"?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}if(!arguments.length)return padding;var type;return pad=(padding=x)==null?d3_layout_treemapPadNull:(type=typeof x)==="function"?padFunction:type==="number"?(x=[x,x,x,x],padConstant):padConstant,treemap},treemap.round=function(x){return arguments.length?(round=x?Math.round:Number,treemap):round!=Number},treemap.sticky=function(x){return arguments.length?(sticky=x,stickies=null,treemap):sticky},treemap.ratio=function(x){return arguments.length?(ratio=x,treemap):ratio},treemap.mode=function(x){return arguments.length?(mode=x+"",treemap):mode},d3_layout_hierarchyRebind(treemap,hierarchy)},d3.random={normal:function(µ,σ){var n=arguments.length;return n<2&&(σ=1),n<1&&(µ=0),function(){var x,y,r;do x=Math.random()*2-1,y=Math.random()*2-1,r=x*x+y*y;while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s}}},d3.scale={};var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,!0,[1,10])};var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)},d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)},d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)},d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])},d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},d3.scale.identity=function(){return d3_scale_identity([0,1])},d3.svg={},d3.svg.arc=function(){function arc(){var r0=Math.max(0,+innerRadius.apply(this,arguments)),r1=Math.max(0,+outerRadius.apply(this,arguments)),a0=startAngle.apply(this,arguments)-halfπ,a1=endAngle.apply(this,arguments)-halfπ,da=Math.abs(a1-a0),cw=a0>a1?0:1;r1<r0&&(rc=r1,r1=r0,r0=rc);if(da>=τε)return circleSegment(r1,cw)+(r0?circleSegment(r0,1-cw):"")+"Z";var rc,cr,rp,ap,p0=0,p1=0,x0,y0,x1,y1,x2,y2,x3,y3,path=[];if(ap=(+padAngle.apply(this,arguments)||0)/2)rp=padRadius===d3_svg_arcAuto?Math.sqrt(r0*r0+r1*r1):+padRadius.apply(this,arguments),cw||(p1*=-1),r1&&(p1=d3_asin(rp/r1*Math.sin(ap))),r0&&(p0=d3_asin(rp/r0*Math.sin(ap)));if(r1){x0=r1*Math.cos(a0+p1),y0=r1*Math.sin(a0+p1),x1=r1*Math.cos(a1-p1),y1=r1*Math.sin(a1-p1);var l1=Math.abs(a1-a0-2*p1)<=π?0:1;if(p1&&d3_svg_arcSweep(x0,y0,x1,y1)===cw^l1){var h1=(a0+a1)/2;x0=r1*Math.cos(h1),y0=r1*Math.sin(h1),x1=y1=null}}else x0=y0=0;if(r0){x2=r0*Math.cos(a1-p0),y2=r0*Math.sin(a1-p0),x3=r0*Math.cos(a0+p0),y3=r0*Math.sin(a0+p0);var l0=Math.abs(a0-a1+2*p0)<=π?0:1;if(p0&&d3_svg_arcSweep(x2,y2,x3,y3)===1-cw^l0){var h0=(a0+a1)/2;x2=r0*Math.cos(h0),y2=r0*Math.sin(h0),x3=y3=null}}else x2=y2=0;if(da>ε&&(rc=Math.min(Math.abs(r1-r0)/2,+cornerRadius.apply(this,arguments)))>.001){cr=r0<r1^cw?0:1;var rc1=rc,rc0=rc;if(da<π){var oc=x3==null?[x2,y2]:x1==null?[x0,y0]:d3_geom_polygonIntersect([x0,y0],[x3,y3],[x1,y1],[x2,y2]),ax=x0-oc[0],ay=y0-oc[1],bx=x1-oc[0],by=y1-oc[1],kc=1/Math.sin(Math.acos((ax*bx+ay*by)/(Math.sqrt(ax*ax+ay*ay)*Math.sqrt(bx*bx+by*by)))/2),lc=Math.sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=Math.min(rc,(r0-lc)/(kc-1)),rc1=Math.min(rc,(r1-lc)/(kc+1))}if(x1!=null){var t30=d3_svg_arcCornerTangents(x3==null?[x2,y2]:[x3,y3],[x0,y0],r1,rc1,cw),t12=d3_svg_arcCornerTangents([x1,y1],[x2,y2],r1,rc1,cw);rc===rc1?path.push("M",t30[0],"A",rc1,",",rc1," 0 0,",cr," ",t30[1],"A",r1,",",r1," 0 ",1-cw^d3_svg_arcSweep(t30[1][0],t30[1][1],t12[1][0],t12[1][1]),",",cw," ",t12[1],"A",rc1,",",rc1," 0 0,",cr," ",t12[0]):path.push("M",t30[0],"A",rc1,",",rc1," 0 1,",cr," ",t12[0])}else path.push("M",x0,",",y0);if(x3!=null){var t03=d3_svg_arcCornerTangents([x0,y0],[x3,y3],r0,-rc0,cw),t21=d3_svg_arcCornerTangents([x2,y2],x1==null?[x0,y0]:[x1,y1],r0,-rc0,cw);rc===rc0?path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t21[1],"A",r0,",",r0," 0 ",cw^d3_svg_arcSweep(t21[1][0],t21[1][1],t03[1][0],t03[1][1]),",",1-cw," ",t03[1],"A",rc0,",",rc0," 0 0,",cr," ",t03[0]):path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}else path.push("L",x2,",",y2)}else path.push("M",x0,",",y0),x1!=null&&path.push("A",r1,",",r1," 0 ",l1,",",cw," ",x1,",",y1),path.push("L",x2,",",y2),x3!=null&&path.push("A",r0,",",r0," 0 ",l0,",",1-cw," ",x3,",",y3);return path.push("Z"),path.join("")}function circleSegment(r1,cw){return"M0,"+r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+ -r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+r1}var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,cornerRadius=d3_zero,padRadius=d3_svg_arcAuto,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle,padAngle=d3_svg_arcPadAngle;return arc.innerRadius=function(v){return arguments.length?(innerRadius=d3_functor(v),arc):innerRadius},arc.outerRadius=function(v){return arguments.length?(outerRadius=d3_functor(v),arc):outerRadius},arc.cornerRadius=function(v){return arguments.length?(cornerRadius=d3_functor(v),arc):cornerRadius},arc.padRadius=function(v){return arguments.length?(padRadius=v==d3_svg_arcAuto?d3_svg_arcAuto:d3_functor(v),arc):padRadius},arc.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),arc):startAngle},arc.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),arc):endAngle},arc.padAngle=function(v){return arguments.length?(padAngle=d3_functor(v),arc):padAngle},arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-halfπ;return[Math.cos(a)*r,Math.sin(a)*r]},arc};var d3_svg_arcAuto="auto";d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach(function(key,value){value.key=key,value.closed=/-closed$/.test(key)});var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,d3.svg.area=function(){return d3_svg_area(d3_identity)},d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},d3.svg.chord=function(){function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)-halfπ,a1=endAngle.call(self,subgroup,i)-halfπ;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;return chord.radius=function(v){return arguments.length?(radius=d3_functor(v),chord):radius},chord.source=function(v){return arguments.length?(source=d3_functor(v),chord):source},chord.target=function(v){return arguments.length?(target=d3_functor(v),chord):target},chord.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),chord):startAngle},chord.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),chord):endAngle},chord},d3.svg.diagonal=function(){function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];return p=p.map(projection),"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;return diagonal.source=function(x){return arguments.length?(source=d3_functor(x),diagonal):source},diagonal.target=function(x){return arguments.length?(target=d3_functor(x),diagonal):target},diagonal.projection=function(x){return arguments.length?(projection=x,diagonal):projection},diagonal},d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;return diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection},diagonal},d3.svg.symbol=function(){function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}var type=d3_svg_symbolType,size=d3_svg_symbolSize;return symbol.type=function(x){return arguments.length?(type=d3_functor(x),symbol):type},symbol.size=function(x){return arguments.length?(size=d3_functor(x),symbol):size},symbol};var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+ -3*r+","+ -r+"H"+ -r+"V"+ -3*r+"H"+r+"V"+ -r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+ -r+"V"+r+"H"+ -3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+ -ry+"L"+rx+",0"+" 0,"+ry+" "+ -rx+",0"+"Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+ -r+","+ -r+"L"+r+","+ -r+" "+r+","+r+" "+ -r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+ -ry+" "+ -rx+","+ -ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ -ry+"L"+rx+","+ry+" "+ -rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);d3_selectionPrototype.transition=function(name){var id=d3_transitionInheritId||++d3_transitionId,ns=d3_transitionNamespace(name),subgroups=[],subgroup,node,transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250};for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&d3_transitionNode(node,i,ns,id,transition),subgroup.push(node)}return d3_transition(subgroups,ns,id)},d3_selectionPrototype.interrupt=function(name){return this.each(name==null?d3_selection_interrupt:d3_selection_interruptNS(d3_transitionNamespace(name)))};var d3_selection_interrupt=d3_selection_interruptNS(d3_transitionNamespace()),d3_transitionPrototype=[],d3_transitionId=0,d3_transitionInheritId,d3_transitionInherit;d3_transitionPrototype.call=d3_selectionPrototype.call,d3_transitionPrototype.empty=d3_selectionPrototype.empty,d3_transitionPrototype.node=d3_selectionPrototype.node,d3_transitionPrototype.size=d3_selectionPrototype.size,d3.transition=function(selection,name){return selection&&selection.transition?d3_transitionInheritId?selection.transition(name):selection:d3.selection().transition(selection)},d3.transition.prototype=d3_transitionPrototype,d3_transitionPrototype.select=function(selector){var id=this.id,ns=this.namespace,subgroups=[],subgroup,subnode,node;selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))?("__data__"in node&&(subnode.__data__=node.__data__),d3_transitionNode(subnode,i,ns,id,node[ns][id]),subgroup.push(subnode)):subgroup.push(null)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.selectAll=function(selector){var id=this.id,ns=this.namespace,subgroups=[],subgroup,subnodes,node,subnode,transition;selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)if(node=group[i]){transition=node[ns][id],subnodes=selector.call(node,node.__data__,i,j),subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;)(subnode=subnodes[k])&&d3_transitionNode(subnode,k,ns,id,transition),subgroup.push(subnode)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.filter=function(filter){var subgroups=[],subgroup,group,node;typeof filter!="function"&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_transition(subgroups,this.namespace,this.id)},d3_transitionPrototype.tween=function(name,tween){var id=this.id,ns=this.namespace;return arguments.length<2?this.node()[ns][id].tween.get(name):d3_selection_each(this,tween==null?function(node){node[ns][id].tween.remove(name)}:function(node){node[ns][id].tween.set(name,tween)})},d3_transitionPrototype.attr=function(nameNS,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return b==null?attrNull:(b+="",function(){var a=this.getAttribute(name),i;return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return b==null?attrNullNS:(b+="",function(){var a=this.getAttributeNS(name.space,name.local),i;return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate=nameNS=="transform"?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.attrTween=function(nameNS,tween){function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}var name=d3.ns.qualify(nameNS);return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.style=function(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleString(b){return b==null?styleNull:(b+="",function(){var a=d3_window(this).getComputedStyle(this,null).getPropertyValue(name),i;return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}var n=arguments.length;if(n<3){if(typeof name!="string"){n<2&&(value="");for(priority in name)this.style(priority,name[priority],value);return this}priority=""}return d3_transition_tween(this,"style."+name,value,styleString)},d3_transitionPrototype.styleTween=function(name,tween,priority){function styleTween(d,i){var f=tween.call(this,d,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return arguments.length<3&&(priority=""),this.tween("style."+name,styleTween)},d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)},d3_transitionPrototype.remove=function(){var ns=this.namespace;return this.each("end.transition",function(){var p;this[ns].count<2&&(p=this.parentNode)&&p.removeChild(this)})},d3_transitionPrototype.ease=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].ease:(typeof value!="function"&&(value=d3.ease.apply(d3,arguments)),d3_selection_each(this,function(node){node[ns][id].ease=value}))},d3_transitionPrototype.delay=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].delay:d3_selection_each(this,typeof value=="function"?function(node,i,j){node[ns][id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node[ns][id].delay=value}))},d3_transitionPrototype.duration=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].duration:d3_selection_each(this,typeof value=="function"?function(node,i,j){node[ns][id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node[ns][id].duration=value}))},d3_transitionPrototype.each=function(type,listener){var id=this.id,ns=this.namespace;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;try{d3_transitionInheritId=id,d3_selection_each(this,function(node,i,j){d3_transitionInherit=node[ns][id],type.call(node,node.__data__,i,j)})}finally{d3_transitionInherit=inherit,d3_transitionInheritId=inheritId}}else d3_selection_each(this,function(node){var transition=node[ns][id];(transition.event||(transition.event=d3.dispatch("start","end","interrupt"))).on(type,listener)});return this},d3_transitionPrototype.transition=function(){var id0=this.id,id1=++d3_transitionId,ns=this.namespace,subgroups=[],subgroup,group,node,transition;for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++){if(node=group[i])transition=node[ns][id0],d3_transitionNode(node,i,ns,id1,{time:transition.time,ease:transition.ease,delay:transition.delay+transition.duration,duration:transition.duration});subgroup.push(node)}}return d3_transition(subgroups,ns,id1)},d3.svg.axis=function(){function axis(g){g.each(function(){var g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy(),ticks=tickValues==null?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=tickFormat_==null?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),tickExit=d3.transition(tick.exit()).style("opacity",ε).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,tickTransform,range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line"),tickEnter.append("text");var lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign=orient==="top"||orient==="left"?-1:1,x1,x2,y1,y2;orient==="bottom"||orient==="top"?(tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2",text.attr("dy",sign<0?"0em":".71em").style("text-anchor","middle"),pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)):(tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2",text.attr("dy",".32em").style("text-anchor",sign<0?"end":"start"),pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)),lineEnter.attr(y2,sign*innerTickSize),textEnter.attr(y1,sign*tickSpacing),lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize),textUpdate.attr(x1,0).attr(y1,sign*tickSpacing);if(scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1,scale0);tickEnter.call(tickTransform,scale0,scale1),tickUpdate.call(tickTransform,scale1,scale1)})}var scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null,tickFormat_;return axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient,axis):orient},axis.ticks=function(){return arguments.length?(tickArguments_=d3_array(arguments),axis):tickArguments_},axis.tickValues=function(x){return arguments.length?(tickValues=x,axis):tickValues},axis.tickFormat=function(x){return arguments.length?(tickFormat_=x,axis):tickFormat_},axis.tickSize=function(x){var n=arguments
.length;return n?(innerTickSize=+x,outerTickSize=+arguments[n-1],axis):innerTickSize},axis.innerTickSize=function(x){return arguments.length?(innerTickSize=+x,axis):innerTickSize},axis.outerTickSize=function(x){return arguments.length?(outerTickSize=+x,axis):outerTickSize},axis.tickPadding=function(x){return arguments.length?(tickPadding=+x,axis):tickPadding},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};d3.svg.brush=function(){function brush(g){g.each(function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove(),resize.enter().append("g").attr("class",function(d){return"resize "+d}).style("cursor",function(d){return d3_svg_brushCursor[d]}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null}).attr("y",function(d){return/^[ns]/.test(d)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),resize.style("display",brush.empty()?"none":null);var gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background),range;x&&(range=d3_scaleRange(x),backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]),redrawX(gUpdate)),y&&(range=d3_scaleRange(y),backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]),redrawY(gUpdate)),redraw(gUpdate)})}function redraw(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"})}function redrawX(g){g.select(".extent").attr("x",xExtent[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){function keydown(){d3.event.keyCode==32&&(dragging||(center=null,origin[0]-=xExtent[1],origin[1]-=yExtent[1],dragging=2),d3_eventPreventDefault())}function keyup(){d3.event.keyCode==32&&dragging==2&&(origin[0]+=xExtent[1],origin[1]+=yExtent[1],dragging=0,d3_eventPreventDefault())}function brushmove(){var point=d3.mouse(target),moved=!1;offset&&(point[0]+=offset[0],point[1]+=offset[1]),dragging||(d3.event.altKey?(center||(center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2]),origin[0]=xExtent[+(point[0]<center[0])],origin[1]=yExtent[+(point[1]<center[1])]):center=null),resizingX&&move1(point,x,0)&&(redrawX(g),moved=!0),resizingY&&move1(point,y,1)&&(redrawY(g),moved=!0),moved&&(redraw(g),event_({type:"brush",mode:dragging?"move":"resize"}))}function move1(point,scale,i){var range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0],min,max;dragging&&(r0-=position,r1-=size+position),min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i],dragging?max=(min+=position)+size:(center&&(position=Math.max(r0,Math.min(r1,2*center[i]-min))),position<min?(max=min,min=position):max=position);if(extent[0]!=min||extent[1]!=max)return i?yExtentDomain=null:xExtentDomain=null,extent[0]=min,extent[1]=max,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),dragRestore(),event_({type:"brushend"})}var target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(target),center,origin=d3.mouse(target),offset,w=d3.select(d3_window(target)).on("keydown.brush",keydown).on("keyup.brush",keyup);d3.event.changedTouches?w.on("touchmove.brush",brushmove).on("touchend.brush",brushend):w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt();if(dragging)origin[0]=xExtent[0]-origin[0],origin[1]=yExtent[0]-origin[1];else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]],origin[0]=xExtent[ex],origin[1]=yExtent[ey]}else d3.event.altKey&&(center=origin.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",eventTarget.style("cursor")),event_({type:"brushstart"}),brushmove()}var event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xExtentDomain,yExtentDomain,xClamp=!0,yClamp=!0,resizes=d3_svg_brushResizes[0];return brush.event=function(g){g.each(function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1,d3_transitionInheritId?d3.select(this).transition().each("start.brush",function(){xExtentDomain=extent0.i,yExtentDomain=extent0.j,xExtent=extent0.x,yExtent=extent0.y,event_({type:"brushstart"})}).tween("brush:brush",function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);return xExtentDomain=yExtentDomain=null,function(t){xExtent=extent1.x=xi(t),yExtent=extent1.y=yi(t),event_({type:"brush",mode:"resize"})}}).each("end.brush",function(){xExtentDomain=extent1.i,yExtentDomain=extent1.j,event_({type:"brush",mode:"resize"}),event_({type:"brushend"})}):(event_({type:"brushstart"}),event_({type:"brush",mode:"resize"}),event_({type:"brushend"}))})},brush.x=function(z){return arguments.length?(x=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):x},brush.y=function(z){return arguments.length?(y=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):y},brush.clamp=function(z){return arguments.length?(x&&y?(xClamp=!!z[0],yClamp=!!z[1]):x?xClamp=!!z:y&&(yClamp=!!z),brush):x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null},brush.extent=function(z){var x0,x1,y0,y1,t;if(!arguments.length)return x&&(xExtentDomain?(x0=xExtentDomain[0],x1=xExtentDomain[1]):(x0=xExtent[0],x1=xExtent[1],x.invert&&(x0=x.invert(x0),x1=x.invert(x1)),x1<x0&&(t=x0,x0=x1,x1=t))),y&&(yExtentDomain?(y0=yExtentDomain[0],y1=yExtentDomain[1]):(y0=yExtent[0],y1=yExtent[1],y.invert&&(y0=y.invert(y0),y1=y.invert(y1)),y1<y0&&(t=y0,y0=y1,y1=t))),x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1];if(x){x0=z[0],x1=z[1],y&&(x0=x0[0],x1=x1[0]),xExtentDomain=[x0,x1],x.invert&&(x0=x(x0),x1=x(x1)),x1<x0&&(t=x0,x0=x1,x1=t);if(x0!=xExtent[0]||x1!=xExtent[1])xExtent=[x0,x1]}if(y){y0=z[0],y1=z[1],x&&(y0=y0[1],y1=y1[1]),yExtentDomain=[y0,y1],y.invert&&(y0=y(y0),y1=y(y1)),y1<y0&&(t=y0,y0=y1,y1=t);if(y0!=yExtent[0]||y1!=yExtent[1])yExtent=[y0,y1]}return brush},brush.clear=function(){return brush.empty()||(xExtent=[0,0],yExtent=[0,0],xExtentDomain=yExtentDomain=null),brush},brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]},d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],d3_time_format=d3_time.format=d3_locale_enUS.timeFormat,d3_time_formatUtc=d3_time_format.utc,d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?d3_time_formatIsoNative:d3_time_formatIso,d3_time_formatIsoNative.parse=function(string){var date=new Date(string);return isNaN(date)?null:date},d3_time_formatIsoNative.toString=d3_time_formatIso.toString,d3_time.second=d3_time_interval(function(date){return new d3_date(Math.floor(date/1e3)*1e3)},function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*1e3)},function(date){return date.getSeconds()}),d3_time.seconds=d3_time.second.range,d3_time.seconds.utc=d3_time.second.utc.range,d3_time.minute=d3_time_interval(function(date){return new d3_date(Math.floor(date/6e4)*6e4)},function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*6e4)},function(date){return date.getMinutes()}),d3_time.minutes=d3_time.minute.range,d3_time.minutes.utc=d3_time.minute.utc.range,d3_time.hour=d3_time_interval(function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date((Math.floor(date/36e5-timezone)+timezone)*36e5)},function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*36e5)},function(date){return date.getHours()}),d3_time.hours=d3_time.hour.range,d3_time.hours.utc=d3_time.hour.utc.range,d3_time.month=d3_time_interval(function(date){return date=d3_time.day(date),date.setDate(1),date},function(date,offset){date.setMonth(date.getMonth()+offset)},function(date){return date.getMonth()}),d3_time.months=d3_time.month.range,d3_time.months.utc=d3_time.month.utc.range;var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]],d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&d.getDate()!=1}],["%b %d",function(d){return d.getDate()!=1}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]),d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year,d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map(function(m){return[m[0].utc,m[1]]}),d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&d.getUTCDate()!=1}],["%b %d",function(d){return d.getUTCDate()!=1}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc,d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)},d3.text=d3_xhrType(function(request){return request.responseText}),d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)},d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)},d3.xml=d3_xhrType(function(request){return request.responseXML}),typeof define=="function"&&define.amd?(this.d3=d3,define(d3)):typeof module=="object"&&module.exports?module.exports=d3:this.d3=d3}()},{}],531:[function(require,module,exports){function indexOf(arr,prop){if(arr.indexOf)return arr.indexOf(prop);for(var i=0,len=arr.length;i<len;i++)if(arr[i]===prop)return i;return-1}function ElementClass(opts){if(!(this instanceof ElementClass))return new ElementClass(opts);var self=this;opts||(opts={}),opts.nodeType&&(opts={el:opts}),this.opts=opts,this.el=opts.el||document.body,typeof this.el!="object"&&(this.el=document.querySelector(this.el))}module.exports=function(opts){return new ElementClass(opts)},ElementClass.prototype.add=function(className){var el=this.el;if(!el)return;if(el.className==="")return el.className=className;var classes=el.className.split(" ");return indexOf(classes,className)>-1?classes:(classes.push(className),el.className=classes.join(" "),classes)},ElementClass.prototype.remove=function(className){var el=this.el;if(!el)return;if(el.className==="")return;var classes=el.className.split(" "),idx=indexOf(classes,className);return idx>-1&&classes.splice(idx,1),el.className=classes.join(" "),classes},ElementClass.prototype.has=function(className){var el=this.el;if(!el)return;var classes=el.className.split(" ");return indexOf(classes,className)>-1},ElementClass.prototype.toggle=function(className){var el=this.el;if(!el)return;this.has(className)?this.remove(className):this.add(className)}},{}],532:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function isFunction(arg){return typeof arg=="function"}function isNumber(arg){return typeof arg=="number"}function isObject(arg){return typeof arg=="object"&&arg!==null}function isUndefined(arg){return arg===void 0}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=undefined,EventEmitter.prototype._maxListeners=undefined,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;this._events||(this._events={});if(type==="error")if(!this._events.error||isObject(this._events.error)&&!this._events.error.length)throw er=arguments[1],er instanceof Error?er:TypeError('Uncaught, unspecified "error" event.');handler=this._events[type];if(isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(isUndefined(this._maxListeners)?m=EventEmitter.defaultMaxListeners:m=this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),typeof console.trace=="function"&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type],length=list.length,position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;list.length===1?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[type]&&delete this._events[type],this;if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}return this.removeAllListeners("removeListener"),this._events={},this}listeners=this._events[type];if(isFunction(listeners))this.removeListener(type,listeners);else if(listeners)while(listeners.length)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return!this._events||!this._events[type]?ret=[]:isFunction(this._events[type])?ret=[this._events[type]]:ret=this._events[type].slice(),ret},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},{}],533:[function(require,module,exports){(function(){"use strict";var canUseDOM=typeof window!="undefined"&&!!window.document&&!!window.document.createElement,ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:canUseDOM&&(!!window.addEventListener||!!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return ExecutionEnvironment}):typeof module!="undefined"&&module.exports?module.exports=ExecutionEnvironment:window.ExecutionEnvironment=ExecutionEnvironment})()},{}],534:[function(require,module,exports){function getGlobal(){return this}var Parser=require("./lib/parser");module.exports={create:function(buffer,global){global=global||getGlobal();if(buffer instanceof global.ArrayBuffer){var DOMBufferStream=require("./lib/dom-bufferstream");return new Parser(new DOMBufferStream(buffer,0,buffer.byteLength,!0,global))}var NodeBufferStream=require("./lib/bufferstream");return new Parser(new NodeBufferStream(buffer,0,buffer.length,!0))}}},{"./lib/bufferstream":535,"./lib/dom-bufferstream":537,"./lib/parser":541}],535:[function(require,module,exports){function BufferStream(buffer,offset,length,bigEndian){this.buffer=buffer,this.offset=offset||0,length=typeof length=="number"?length:buffer.length,this.endPosition=this.offset+length,this.setBigEndian(bigEndian)}BufferStream.prototype={setBigEndian:function(bigEndian){this.bigEndian=!!bigEndian},nextUInt8:function(){var value=this.buffer.readUInt8(this.offset);return this.offset+=1,value},nextInt8:function(){var value=this.buffer.readInt8(this.offset);return this.offset+=1,value},nextUInt16:function(){var value=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,value},nextUInt32:function(){var value=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,value},nextInt16:function(){var value=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,value},nextInt32:function(){var value=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,value},nextFloat:function(){var value=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,value},nextDouble:function(){var value=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,value},nextBuffer:function(length){var value=this.buffer.slice(this.offset,this.offset+length);return this.offset+=length,value},remainingLength:function(){return this.endPosition-this.offset},nextString:function(length){var value=this.buffer.toString("ascii",this.offset,this.offset+length);return this.offset+=length,value},mark:function(){var self=this;return{openWithOffset:function(offset){return offset=(offset||0)+this.offset,new BufferStream(self.buffer,offset,self.endPosition-offset,self.bigEndian)},offset:this.offset}},offsetFrom:function(marker){return this.offset-marker.offset},skip:function(amount){this.offset+=amount},branch:function(offset,length){return length=typeof length=="number"?length:this.endPosition-(this.offset+offset),new BufferStream(this.buffer,this.offset+offset,length,this.bigEndian)}},module.exports=BufferStream},{}],536:[function(require,module,exports){function parseNumber(s){return parseInt(s,10)}function parseDateTimeParts(dateParts,timeParts){dateParts=dateParts.map(parseNumber),timeParts=timeParts.map(parseNumber);var date=new Date;date.setUTCFullYear(dateParts[0]),date.setUTCMonth(dateParts[1]-1),date.setUTCDate(dateParts[2]),date.setUTCHours(timeParts[0]),date.setUTCMinutes(timeParts[1]),date.setUTCSeconds(timeParts[2]),date.setUTCMilliseconds(0);var timestamp=date.getTime()/1e3;return timestamp}function parseDateWithTimezoneFormat(dateTimeStr){var dateParts=dateTimeStr.substr(0,10).split("-"),timeParts=dateTimeStr.substr(11,8).split(":"),timezoneStr=dateTimeStr.substr(19,6),timezoneParts=timezoneStr.split(":").map(parseNumber),timezoneOffset=timezoneParts[0]*hours+timezoneParts[1]*minutes,timestamp=parseDateTimeParts(dateParts,timeParts);timestamp-=timezoneOffset;if(typeof timestamp=="number"&&!isNaN(timestamp))return timestamp}function parseDateWithSpecFormat(dateTimeStr){var parts=dateTimeStr.split(" "),dateParts=parts[0].split(":"),timeParts=parts[1].split(":"),timestamp=parseDateTimeParts(dateParts,timeParts);if(typeof timestamp=="number"&&!isNaN(timestamp))return timestamp}function parseExifDate(dateTimeStr){var isSpecFormat=dateTimeStr.length===19&&dateTimeStr.charAt(4)===":",isTimezoneFormat=dateTimeStr.length===25&&dateTimeStr.charAt(10)==="T",timestamp;if(isTimezoneFormat)return parseDateWithTimezoneFormat(dateTimeStr);if(isSpecFormat)return parseDateWithSpecFormat(dateTimeStr)}var hours=3600,minutes=60;module.exports={parseDateWithSpecFormat:parseDateWithSpecFormat,parseDateWithTimezoneFormat:parseDateWithTimezoneFormat,parseExifDate:parseExifDate}},{}],537:[function(require,module,exports){function DOMBufferStream(arrayBuffer,offset,length,bigEndian,global,parentOffset){this.global=global,offset=offset||0,length=length||arrayBuffer.byteLength-offset,this.arrayBuffer=arrayBuffer.slice(offset,offset+length),this.view=new global.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(bigEndian),this.offset=0,this.parentOffset=(parentOffset||0)+offset}DOMBufferStream.prototype={setBigEndian:function(bigEndian){this.littleEndian=!bigEndian},nextUInt8:function(){var value=this.view.getUint8(this.offset);return this.offset+=1,value},nextInt8:function(){var value=this.view.getInt8(this.offset);return this.offset+=1,value},nextUInt16:function(){var value=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,value},nextUInt32:function(){var value=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,value},nextInt16:function(){var value=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,value},nextInt32:function(){var value=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,value},nextFloat:function(){var value=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,value},nextDouble:function(){var value=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,value},nextBuffer:function(length){var value=this.arrayBuffer.slice(this.offset,this.offset+length);return this.offset+=length,value},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(length){var value=this.arrayBuffer.slice(this.offset,this.offset+length);return value=String.fromCharCode.apply(null,new this.global.Uint8Array(value)),this.offset+=length,value},mark:function(){var self=this;return{openWithOffset:function(offset){return offset=(offset||0)+this.offset,new DOMBufferStream(self.arrayBuffer,offset,self.arrayBuffer.byteLength-offset,!self.littleEndian,self.global,self.parentOffset)},offset:this.offset,getParentOffset:function(){return self.parentOffset}}},offsetFrom:function(marker){return this.parentOffset+this.offset-(marker.offset+marker.getParentOffset())},skip:function(amount){this.offset+=amount},branch:function(offset,length){return length=typeof length=="number"?length:this.arrayBuffer.byteLength-(this.offset+offset),new DOMBufferStream(this.arrayBuffer,this.offset+offset,length,!this.littleEndian,this.global,this.parentOffset)}},module.exports=DOMBufferStream},{}],538:[function(require,module,exports){module.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData"
,50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],539:[function(require,module,exports){function readExifValue(format,stream){switch(format){case 1:return stream.nextUInt8();case 3:return stream.nextUInt16();case 4:return stream.nextUInt32();case 5:return[stream.nextUInt32(),stream.nextUInt32()];case 6:return stream.nextInt8();case 8:return stream.nextUInt16();case 9:return stream.nextUInt32();case 10:return[stream.nextInt32(),stream.nextInt32()];case 11:return stream.nextFloat();case 12:return stream.nextDouble();default:throw new Error("Invalid format while decoding: "+format)}}function getBytesPerComponent(format){switch(format){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:throw new Error("Invalid format: "+format)}}function readExifTag(tiffMarker,stream){var tagType=stream.nextUInt16(),format=stream.nextUInt16(),bytesPerComponent=getBytesPerComponent(format),components=stream.nextUInt32(),valueBytes=bytesPerComponent*components,values,value,c;valueBytes>4&&(stream=tiffMarker.openWithOffset(stream.nextUInt32()));if(format===2){values=stream.nextString(components);var lastNull=values.indexOf("\0");lastNull!==-1&&(values=values.substr(0,lastNull))}else if(format===7)values=stream.nextBuffer(components);else{values=[];for(c=0;c<components;++c)values.push(readExifValue(format,stream))}return valueBytes<4&&stream.skip(4-valueBytes),[tagType,values,format]}function readIFDSection(tiffMarker,stream,iterator){var numberOfEntries=stream.nextUInt16(),tag,i;for(i=0;i<numberOfEntries;++i)tag=readExifTag(tiffMarker,stream),iterator(tag[0],tag[1],tag[2])}function readHeader(stream){var exifHeader=stream.nextString(6);if(exifHeader!=="Exif\0\0")throw new Error("Invalid EXIF header");var tiffMarker=stream.mark(),tiffHeader=stream.nextUInt16();if(tiffHeader===18761)stream.setBigEndian(!1);else{if(tiffHeader!==19789)throw new Error("Invalid TIFF header");stream.setBigEndian(!0)}if(stream.nextUInt16()!==42)throw new Error("Invalid TIFF data");return tiffMarker}module.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(stream,iterator){var tiffMarker;try{tiffMarker=readHeader(stream)}catch(e){return!1}var subIfdOffset,gpsOffset,interopOffset,ifd0Stream=tiffMarker.openWithOffset(stream.nextUInt32()),IFD0=this.IFD0;readIFDSection(tiffMarker,ifd0Stream,function(tagType,value,format){switch(tagType){case 34853:gpsOffset=value[0];break;case 34665:subIfdOffset=value[0];break;default:iterator(IFD0,tagType,value,format)}});var ifd1Offset=ifd0Stream.nextUInt32();if(ifd1Offset!==0){var ifd1Stream=tiffMarker.openWithOffset(ifd1Offset);readIFDSection(tiffMarker,ifd1Stream,iterator.bind(null,this.IFD1))}if(gpsOffset){var gpsStream=tiffMarker.openWithOffset(gpsOffset);readIFDSection(tiffMarker,gpsStream,iterator.bind(null,this.GPSIFD))}if(subIfdOffset){var subIfdStream=tiffMarker.openWithOffset(subIfdOffset),InteropIFD=this.InteropIFD;readIFDSection(tiffMarker,subIfdStream,function(tagType,value,format){tagType===40965?interopOffset=value[0]:iterator(InteropIFD,tagType,value,format)})}if(interopOffset){var interopStream=tiffMarker.openWithOffset(interopOffset);readIFDSection(tiffMarker,interopStream,iterator.bind(null,this.InteropIFD))}return!0}}},{}],540:[function(require,module,exports){module.exports={parseSections:function(stream,iterator){var len,markerType;stream.setBigEndian(!0);while(stream.remainingLength()>0&&markerType!==218){if(stream.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");markerType=stream.nextUInt8(),markerType>=208&&markerType<=217||markerType===218?len=0:len=stream.nextUInt16()-2,iterator(markerType,stream.branch(0,len)),stream.skip(len)}},getSizeFromSOFSection:function(stream){return stream.skip(1),{height:stream.nextUInt16(),width:stream.nextUInt16()}},getSectionName:function(markerType){var name,index;switch(markerType){case 216:name="SOI";break;case 196:name="DHT";break;case 219:name="DQT";break;case 221:name="DRI";break;case 218:name="SOS";break;case 254:name="COM";break;case 217:name="EOI";break;default:markerType>=224&&markerType<=239?(name="APP",index=markerType-224):markerType>=192&&markerType<=207&&markerType!==196&&markerType!==200&&markerType!==204?(name="SOF",index=markerType-192):markerType>=208&&markerType<=215&&(name="RST",index=markerType-208)}var nameStruct={name:name};return typeof index=="number"&&(nameStruct.index=index),nameStruct}}},{}],541:[function(require,module,exports){function ExifResult(startMarker,tags,imageSize,thumbnailOffset,thumbnailLength,thumbnailType,app1Offset){this.startMarker=startMarker,this.tags=tags,this.imageSize=imageSize,this.thumbnailOffset=thumbnailOffset,this.thumbnailLength=thumbnailLength,this.thumbnailType=thumbnailType,this.app1Offset=app1Offset}function Parser(stream){this.stream=stream,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}var jpeg=require("./jpeg"),exif=require("./exif"),simplify=require("./simplify");ExifResult.prototype={hasThumbnail:function(mime){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof mime!="string"?!0:mime.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:mime.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var stream=this._getThumbnailStream(),size;return jpeg.parseSections(stream,function(sectionType,sectionStream){jpeg.getSectionName(sectionType).name==="SOF"&&(size=jpeg.getSizeFromSOFSection(sectionStream))}),size}},Parser.prototype={enableBinaryFields:function(enable){return this.flags.readBinaryTags=!!enable,this},enablePointers:function(enable){return this.flags.hidePointers=!enable,this},enableTagNames:function(enable){return this.flags.resolveTagNames=!!enable,this},enableImageSize:function(enable){return this.flags.imageSize=!!enable,this},enableReturnTags:function(enable){return this.flags.returnTags=!!enable,this},enableSimpleValues:function(enable){return this.flags.simplifyValues=!!enable,this},parse:function(){var start=this.stream.mark(),stream=start.openWithOffset(0),flags=this.flags,tags,imageSize,thumbnailOffset,thumbnailLength,thumbnailType,app1Offset,tagNames,getTagValue,setTagValue;return flags.resolveTagNames&&(tagNames=require("./exif-tags")),flags.resolveTagNames?(tags={},getTagValue=function(t){return tags[t.name]},setTagValue=function(t,value){tags[t.name]=value}):(tags=[],getTagValue=function(t){var i;for(i=0;i<tags.length;++i)if(tags[i].type===t.type&&tags[i].section===t.section)return tags.value},setTagValue=function(t,value){var i;for(i=0;i<tags.length;++i)if(tags[i].type===t.type&&tags[i].section===t.section){tags.value=value;return}}),jpeg.parseSections(stream,function(sectionType,sectionStream){var validExifHeaders,sectionOffset=sectionStream.offsetFrom(start);sectionType===225?(validExifHeaders=exif.parseTags(sectionStream,function(ifdSection,tagType,value,format){if(!flags.readBinaryTags&&format===7)return;if(tagType===513){thumbnailOffset=value[0];if(flags.hidePointers)return}else if(tagType===514){thumbnailLength=value[0];if(flags.hidePointers)return}else if(tagType===259){thumbnailType=value[0];if(flags.hidePointers)return}if(!flags.returnTags)return;flags.simplifyValues&&(value=simplify.simplifyValue(value,format));if(flags.resolveTagNames){var sectionTagNames=ifdSection===exif.GPSIFD?tagNames.gps:tagNames.exif,name=sectionTagNames[tagType];name||(name=tagNames.exif[tagType]),tags[name]=value}else tags.push({section:ifdSection,type:tagType,value:value})}),validExifHeaders&&(app1Offset=sectionOffset)):flags.imageSize&&jpeg.getSectionName(sectionType).name==="SOF"&&(imageSize=jpeg.getSizeFromSOFSection(sectionStream))}),flags.simplifyValues&&(simplify.castDegreeValues(getTagValue,setTagValue),simplify.castDateValues(getTagValue,setTagValue)),new ExifResult(start,tags,imageSize,thumbnailOffset,thumbnailLength,thumbnailType,app1Offset)}},module.exports=Parser},{"./exif":539,"./exif-tags":538,"./jpeg":540,"./simplify":542}],542:[function(require,module,exports){var exif=require("./exif"),date=require("./date"),degreeTags=[{section:exif.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif.SubIFD,type:36868,name:"CreateDate"}];module.exports={castDegreeValues:function(getTagValue,setTagValue){degreeTags.forEach(function(t){var degreeVal=getTagValue(t);if(degreeVal){var degreeRef=getTagValue({section:t.section,type:t.refType,name:t.refName}),degreeNumRef=degreeRef===t.posVal?1:-1,degree=(degreeVal[0]+degreeVal[1]/60+degreeVal[2]/3600)*degreeNumRef;setTagValue(t,degree)}})},castDateValues:function(getTagValue,setTagValue){dateTags.forEach(function(t){var dateStrVal=getTagValue(t);if(dateStrVal){var timestamp=date.parseExifDate(dateStrVal);typeof timestamp!="undefined"&&setTagValue(t,timestamp)}})},simplifyValue:function(values,format){return Array.isArray(values)&&(values=values.map(function(value){return format===10||format===5?value[0]/value[1]:value}),values.length===1&&(values=values[0])),values}}},{"./date":536,"./exif":539}],543:[function(require,module,exports){"use strict";var emptyFunction=require("./emptyFunction"),EventListener={listen:function(target,eventType,callback){if(target.addEventListener)return target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}};if(target.attachEvent)return target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}},capture:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!0),{remove:function(){target.removeEventListener(eventType,callback,!0)}}):{remove:emptyFunction}},registerDefault:function(){}};module.exports=EventListener},{"./emptyFunction":550}],544:[function(require,module,exports){"use strict";var canUseDOM=typeof window!="undefined"&&!!window.document&&!!window.document.createElement,ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:canUseDOM&&(!!window.addEventListener||!!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],545:[function(require,module,exports){"use strict";function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}var _hyphenPattern=/-(.)/g;module.exports=camelize},{}],546:[function(require,module,exports){"use strict";function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}var camelize=require("./camelize"),msPattern=/^-ms-/;module.exports=camelizeStyleName},{"./camelize":545}],547:[function(require,module,exports){"use strict";function containsNode(_x,_x2){var _again=!0;e:while(_again){var outerNode=_x,innerNode=_x2;_again=!1;if(!outerNode||!innerNode)return!1;if(outerNode===innerNode)return!0;if(isTextNode(outerNode))return!1;if(isTextNode(innerNode)){_x=outerNode,_x2=innerNode.parentNode,_again=!0;continue e}return outerNode.contains?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(outerNode.compareDocumentPosition(innerNode)&16):!1}}var isTextNode=require("./isTextNode");module.exports=containsNode},{"./isTextNode":560}],548:[function(require,module,exports){"use strict";function hasArrayNature(obj){return!!obj&&(typeof obj=="object"||typeof obj=="function")&&"length"in obj&&!("setInterval"in obj)&&typeof obj.nodeType!="number"&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){return hasArrayNature(obj)?Array.isArray(obj)?obj.slice():toArray(obj):[obj]}var toArray=require("./toArray");module.exports=createArrayFromMixed},{"./toArray":568}],549:[function(require,module,exports){"use strict";function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;dummyNode?undefined:invariant(!1);var nodeName=getNodeName(markup),wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--)node=node.lastChild}else node.innerHTML=markup;var scripts=node.getElementsByTagName("script");scripts.length&&(handleScript?undefined:invariant(!1),createArrayFromMixed(scripts).forEach(handleScript));var nodes=createArrayFromMixed(node.childNodes);while(node.lastChild)node.removeChild(node.lastChild);return nodes}var ExecutionEnvironment=require("./ExecutionEnvironment"),createArrayFromMixed=require("./createArrayFromMixed"),getMarkupWrap=require("./getMarkupWrap"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;module.exports=createNodesFromMarkup},{"./ExecutionEnvironment":544,"./createArrayFromMixed":548,"./getMarkupWrap":554,"./invariant":558}],550:[function(require,module,exports){"use strict";function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction},{}],551:[function(require,module,exports){"use strict";var emptyObject={};module.exports=emptyObject},{}],552:[function(require,module,exports){"use strict";function focusNode(node){try{node.focus()}catch(e){}}module.exports=focusNode},{}],553:[function(require,module,exports){"use strict";function getActiveElement(){if(typeof document=="undefined")return null;try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],554:[function(require,module,exports){"use strict";function getMarkupWrap(nodeName){return dummyNode?undefined:invariant(!1),markupWrap.hasOwnProperty(nodeName)||(nodeName="*"),shouldWrap.hasOwnProperty(nodeName)||(nodeName==="*"?dummyNode.innerHTML="<link />":dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">",shouldWrap[nodeName]=!dummyNode.firstChild),shouldWrap[nodeName]?markupWrap[nodeName]:null}var ExecutionEnvironment=require("./ExecutionEnvironment"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap},svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap,shouldWrap[nodeName]=!0}),module.exports=getMarkupWrap},{"./ExecutionEnvironment":544,"./invariant":558}],555:[function(require,module,exports){"use strict";function getUnboundedScrollPosition(scrollable){return scrollable===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],556:[function(require,module,exports){"use strict";function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}var _uppercasePattern=/([A-Z])/g;module.exports=hyphenate},{}],557:[function(require,module,exports){"use strict";function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}var hyphenate=require("./hyphenate"),msPattern=/^ms-/;module.exports=hyphenateStyleName},{"./hyphenate":556}],558:[function(require,module,exports){"use strict";function invariant(condition,format,a,b,c,d,e,f){if(!condition){var error;if(format===undefined)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}}module.exports=invariant},{}],559:[function(require,module,exports){"use strict";function isNode(object){return!!object&&(typeof Node=="function"?object instanceof Node:typeof object=="object"&&typeof object.nodeType=="number"&&typeof object.nodeName=="string")}module.exports=isNode},{}],560:[function(require,module,exports){"use strict";function isTextNode(object){return isNode(object)&&object.nodeType==3}var isNode=require("./isNode");module.exports=isTextNode},{"./isNode":559}],561:[function(require,module,exports){"use strict";var invariant=require("./invariant"),keyMirror=function(obj){var ret={},key;obj instanceof Object&&!Array.isArray(obj)?undefined:invariant(!1);for(key in obj){if(!obj.hasOwnProperty(key))continue;ret[key]=key}return ret};module.exports=keyMirror},{"./invariant":558}],562:[function(require,module,exports){"use strict";var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key))continue;return key}return null};module.exports=keyOf},{}],563:[function(require,module,exports){"use strict";function mapObject(object,callback,context){if(!object)return null;var result={};for(var name in object)hasOwnProperty.call(object,name)&&(result[name]=callback.call(context,object[name],name,object));return result}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=mapObject},{}],564:[function(require,module,exports){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){return cache.hasOwnProperty(string)||(cache[string]=callback.call(this,string)),cache[string]}}module.exports=memoizeStringOnly},{}],565:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment"),performance;ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.msPerformance||window.webkitPerformance),module.exports=performance||{}},{"./ExecutionEnvironment":544}],566:[function(require,module,exports){"use strict";var performance=require("./performance"),performanceNow;performance.now?performanceNow=function(){return performance.now()}:performanceNow=function(){return Date.now()},module.exports=performanceNow},{"./performance":565}],567:[function(require,module,exports){"use strict";function shallowEqual(objA,objB){if(objA===objB)return!0;if(typeof objA!="object"||objA===null||typeof objB!="object"||objB===null)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;var bHasOwnProperty=hasOwnProperty.bind(objB);for(var i=0;i<keysA.length;i++)if(!bHasOwnProperty(keysA[i])||objA[keysA[i]]!==objB[keysA[i]])return!1;return!0}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=shallowEqual},{}],568:[function(require,module,exports){"use strict";function toArray(obj){var length=obj.length;!!Array.isArray(obj)||typeof obj!="object"&&typeof obj!="function"?invariant(!1):undefined,typeof length!="number"?invariant(!1):undefined,length===0||length-1 in obj?undefined:invariant(!1);if(obj.hasOwnProperty)try{return Array.prototype.slice.call(obj)}catch(e){}var ret=Array(length);for(var ii=0;ii<length;ii++)ret[ii]=obj[ii];return ret}var invariant=require("./invariant");module.exports=toArray},{"./invariant":558}],569:[function(require,module,exports){"use strict";var emptyFunction=require("./emptyFunction"),warning=emptyFunction;module.exports=warning},{"./emptyFunction":550}],570:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_progressiveDataView=require("./progressive-data-view"),_progressiveDataView2=_interopRequireDefault(_progressiveDataView),_pngParser=require("./png-parser"),_pngParser2=_interopRequireDefault(_pngParser),_jpegParser=require("./jpeg-parser"),_jpegParser2=_interopRequireDefault(_jpegParser),ImageFile=function(){function ImageFile(arrayBuffer){_classCallCheck(this,ImageFile),this.data=new _progressiveDataView2["default"](arrayBuffer),this.parse()}return _createClass(ImageFile,[{key:"parse",value:function parse(){var metadata=null;if(this.isPNG())metadata=_pngParser2["default"].parse(this.data);else{if(!this.isJPEG())return;metadata=_jpegParser2["default"].parse(this.data)}Object.assign(this,metadata),this.data.rewind()}},{key:"isPNG",value:function isPNG(){return _pngParser2["default"].isPNG(this.data)}},{key:"isJPEG",value:function isJPEG(){return _jpegParser2["default"].isJPEG(this.data)}}]),ImageFile}();exports["default"]=ImageFile,module.exports=exports["default"]},{"./jpeg-parser":571,"./png-parser":572,"./progressive-data-view":573}],571:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_exifParser=require("exif-parser"),_exifParser2=_interopRequireDefault(_exifParser),MARKER_SIGNATURE=255,SOI_MARKER=[MARKER_SIGNATURE,216],MARKER_TYPES=new Map;MARKER_TYPES.set(192,"SOF0"),MARKER_TYPES.set(194,"SOF2"),MARKER_TYPES.set(196,"DHT");for(var i=0;i<=7;i++)MARKER_TYPES.set(208+i,"RST"+i);MARKER_TYPES.set(216,"SOI"),MARKER_TYPES.set(217,"EOI"),MARKER_TYPES.set(218,"SOS"),MARKER_TYPES.set(219,"DQT"),MARKER_TYPES.set(221,"DRI");for(var i=0;i<=15;i++)MARKER_TYPES.set(224+i,"APP"+i);MARKER_TYPES.set(254,"COM");var NON_DATA_SEGMENT_TYPE_NAMES=["SOI","EOI"],DENSITY_UNIT={NONE:0,INCH:1,CENTIMETER:2},INCH_TO_CENTIMETER_RATIO=2.54,JPEGParser=function(){function JPEGParser(progressiveDataView){_classCallCheck(this,JPEGParser),this.data=progressiveDataView,this.metadata={}}return _createClass(JPEGParser,null,[{key:"isJPEG",value:function isJPEG(progressiveDataView){return progressiveDataView.getBytes(0,SOI_MARKER.length).join()===SOI_MARKER.join()}},{key:"parse",value:function parse(progressiveDataView){var parser=new JPEGParser(progressiveDataView);return parser.parse()}}]),_createClass(JPEGParser,[{key:"parse",value:function parse(){return this.parseSegments(),this.parseExif(),this.metadata}},{key:"parseSegments",value:function parseSegments(){var _this=this;this.eachSegment(function(segment){var handler=_this["on"+segment.typeName];handler&&handler.call(_this,segment)})}},{key:"parseExif",value:function parseExif(){try{var exif=_exifParser2["default"].create(this.data.buffer).parse()}catch(error){return}if(!exif.tags)return;var tags=exif.tags;tags.XResolution&&tags.YResolution&&this.parseDensity(tags.XResolution,tags.YResolution,tags.ResolutionUnit-1)}},{key:"eachSegment",value:function eachSegment(callback){for(;;){var markerSignature=this.data.getNextUint(1);if(markerSignature!==MARKER_SIGNATURE)break;var segment={};segment.type=this.data.getNextUint(1),segment.typeName=MARKER_TYPES.get(segment.type),NON_DATA_SEGMENT_TYPE_NAMES.includes(segment.typeName)||(segment.length=this.data.getNextUint(2),segment.data=this.data.getNextDataView(segment.length-2)),callback(segment)}}},{key:"onAPP0",value:function onAPP0(segment){segment.identifier=segment.data.getNextString(5),segment.version=segment.data.getNextBytes(2),segment.densityUnit=segment.data.getNextUint(1),segment.xDensity=segment.data.getNextUint(2),segment.yDensity=segment.data.getNextUint(2),segment.xThumbnailSize=segment.data.getNextUint(1),segment.yThumbnailSize=segment.data.getNextUint(1),segment.thumbnailData=segment.data.getNextDataView(segment.xThumbnailSize*segment.yThumbnailSize*3),this.parseDensity(segment.xDensity,segment.yDensity,segment.densityUnit)}},{key:"onSOF0",value:function onSOF0(segment){segment.precision=segment.data.getNextUint(1),this.metadata.height=segment.height=segment.data.getNextUint(2),this.metadata.width=segment.width=segment.data.getNextUint(2),segment.colorComponentCount=segment.data.getNextUint(1)}},{key:"parseDensity",value:function parseDensity(xDensity,yDensity,unit){var averageDensity=(xDensity+yDensity)/2;unit===DENSITY_UNIT.INCH?this.metadata.ppi=Math.round(averageDensity):unit===DENSITY_UNIT.CENTIMETER&&(this.metadata.ppi=Math.round(averageDensity*INCH_TO_CENTIMETER_RATIO))}}]),JPEGParser}();exports["default"]=JPEGParser,module.exports=exports["default"]},{"exif-parser":534}],572:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PNG_SIGNATURE=[137,80,78,71,13,10,26,10],INCH_TO_METRE_RATIO=.0254,PNGParser=function(){function PNGParser(progressiveDataView){_classCallCheck(this,PNGParser),this.data=progressiveDataView,this.metadata={}}return _createClass(PNGParser,null,[{key:"isPNG",value:function isPNG(progressiveDataView){return progressiveDataView.getBytes(0,PNG_SIGNATURE.length).join()===PNG_SIGNATURE.join()}},{key:"parse",value:function parse(progressiveDataView){var parser=new PNGParser(progressiveDataView);return parser.parse()}}]),_createClass(PNGParser,[{key:"parse",value:function parse(){var _this=this;return this.eachChunk(function(chunk){var handler=_this["on"+chunk.type];handler&&handler.call(_this,chunk)}),this.metadata}},{key:"eachChunk",value:function eachChunk(callback){this.data.advance(PNG_SIGNATURE.length);for(;;){var chunk={};chunk.length=this.data.getNextUint(4),chunk.type=this.data.getNextString(4),chunk.data=this.data.getNextDataView(chunk.length),chunk.crc=this.data.getNextUint(4),callback(chunk);if(chunk.type==="IEND")break}}},{key:"onIHDR",value:function onIHDR(chunk){this.metadata.width=chunk.data.getNextUint(4),this.metadata.height=chunk.data.getNextUint(4)}},{key:"onpHYs",value:function onpHYs(chunk){var dimensions={};dimensions.xPixelPerUnit=chunk.data.getNextUint(4),dimensions.yPixelPerUnit=chunk.data.getNextUint(4),dimensions.isMetreUnit=chunk.data.getNextUint(1)===1;if(dimensions.isMetreUnit){var pixelPerMetre=(dimensions.xPixelPerUnit+dimensions.yPixelPerUnit)/2;this.metadata.ppi=Math.round(pixelPerMetre*INCH_TO_METRE_RATIO)}}},{key:"oniTXt",value:function oniTXt(chunk){var textualData={};textualData.keyword=chunk.data.getNextString().replace("\0",""),textualData.isCompressed=chunk.data.getNextUint(1)===1,textualData.compressionMethod=chunk.data.getNextUint(1),textualData.languageTag=chunk.data.getNextString().replace("\0",""),textualData.translatedKeyword=chunk.data.getNextString().replace("\0",""),textualData.text=chunk.data.getNextString(),this.metadata.internationalTextualData=textualData}}]),PNGParser}();exports["default"]=PNGParser,module.exports=exports["default"]},{}],573:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps
),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ProgressiveDataView=function(){function ProgressiveDataView(arrayBuffer){var byteOffset=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1],byteLength=arguments.length<=2||arguments[2]===undefined?undefined:arguments[2];_classCallCheck(this,ProgressiveDataView),byteOffset===undefined?this.dataView=new DataView(arrayBuffer):byteLength===undefined?this.dataView=new DataView(arrayBuffer,byteLength):this.dataView=new DataView(arrayBuffer,byteOffset,byteLength),this.buffer=this.dataView.buffer,this.position=0}return _createClass(ProgressiveDataView,[{key:"advance",value:function advance(length){return this.position+=length,length}},{key:"rewind",value:function rewind(){this.position=0}},{key:"getBytes",value:function getBytes(offset,length){var bytes=[];for(var i=0;i<length;i++){var uint=this.getUint(offset+i,1);bytes.push(uint)}return bytes}},{key:"getNextBytes",value:function getNextBytes(length){return this.getBytes(this.position,this.advance(length))}},{key:"getString",value:function getString(offset){var length=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],characters=[];for(var i=0;i<length;i++){var uint=this.getUint(offset+i,1);characters.push(String.fromCharCode(uint));if(offset+i===this.dataView.byteLength-1||length===Infinity&&uint===0)break}return characters.join("")}},{key:"getNextString",value:function getNextString(){var length=arguments.length<=0||arguments[0]===undefined?Infinity:arguments[0],string=this.getString(this.position,length);return this.advance(string.length),string}},{key:"getUint",value:function getUint(offset,length){return this.dataView["getUint"+8*length](offset)}},{key:"getNextUint",value:function getNextUint(length){return this.getUint(this.position,this.advance(length))}},{key:"getDataView",value:function getDataView(offset,length){return new ProgressiveDataView(this.dataView.buffer,offset,length)}},{key:"getNextDataView",value:function getNextDataView(length){return this.getDataView(this.position,this.advance(length))}}]),ProgressiveDataView}();exports["default"]=ProgressiveDataView,module.exports=exports["default"]},{}],574:[function(require,module,exports){(function($){"use strict";var getStyles=function(){var color;return color=$("<div></div>").css(["color"]).color,typeof color!="undefined"?function($el,properties){return $el.css(properties)}:function($el,properties){var styles;return styles={},$.each(properties,function(i,property){styles[property]=$el.css(property)}),styles}}(),entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},entityRegexe=/[&<>"'\/]/g,escape=function(str){if(typeof str!="undefined")return str.replace(entityRegexe,function(match){return entityMap[match]})},include=function(array,value){var i,l;if(array.indexOf)return array.indexOf(value)!=-1;for(i=0,l=array.length;i<l;i++)if(array[i]===value)return!0;return!1},Overlay=function(){function Overlay($textarea){var $wrapper,position;position=$textarea.css("position"),position==="static"&&(position="relative"),$wrapper=$(html.wrapper).css($.extend({},css.wrapper,getStyles($textarea,textareaToWrapper),{position:position})),this.textareaTop=parseInt($textarea.css("border-top-width")),this.$el=$(html.overlay).css($.extend({},css.overlay,getStyles($textarea,textareaToOverlay),{top:this.textareaTop,right:parseInt($textarea.css("border-right-width")),bottom:parseInt($textarea.css("border-bottom-width")),left:parseInt($textarea.css("border-left-width"))})),this.$textarea=$textarea.css(css.textarea),this.$textarea.wrap($wrapper).before(this.$el),this.$textarea.origVal=$textarea.val,this.$textarea.val=$.proxy(this.val,this),this.$textarea.on({"input.overlay":$.proxy(this.onInput,this),"change.overlay":$.proxy(this.onInput,this),"scroll.overlay":$.proxy(this.resizeOverlay,this),"resize.overlay":$.proxy(this.resizeOverlay,this)}),this.strategies=[]}var html,css,textareaToWrapper,textareaToOverlay,allowedProps;return html={wrapper:'<div class="textoverlay-wrapper"></div>',overlay:'<div class="textoverlay"></div>'},css={wrapper:{margin:0,padding:0,overflow:"hidden"},overlay:{position:"absolute",color:"transparent","white-space":"pre-wrap","word-wrap":"break-word",overflow:"hidden"},textarea:{background:"transparent",position:"relative",outline:0}},textareaToWrapper=["display"],textareaToOverlay=["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","font-family","font-weight","font-size","background-color"],$.extend(Overlay.prototype,{val:function(value){return value==null?this.$textarea.origVal():this.setVal(value)},setVal:function(value){return this.$textarea.origVal(value),this.renderTextOnOverlay(),this.$textarea},onInput:function(e){this.renderTextOnOverlay()},renderTextOnOverlay:function(){var text,i,l,strategy,match,style;text=$("<div></div>").text(this.$textarea.val());for(i=0,l=this.strategies.length;i<l;i++)strategy=this.strategies[i],match=strategy.match,$.isArray(match)&&(match=$.map(match,function(str){return str.replace(/(\(|\)|\|)/g,"$1")}),match=new RegExp("("+match.join("|")+")","g")),style=Object.keys(strategy.css).map(function(propCSS){return propCSS+": "+strategy.css[propCSS]}).join(";"),text.contents().each(function(){var text,html,str,prevIndex;if(this.nodeType!=Node.TEXT_NODE)return;text=this.textContent,html="";for(prevIndex=match.lastIndex=0;;prevIndex=match.lastIndex){str=match.exec(text);if(!str){prevIndex&&(html+=escape(text.substr(prevIndex)));break}str=str[0],html+=escape(text.substr(prevIndex,match.lastIndex-prevIndex-str.length)),html+='<span style="'+style+'">'+escape(str)+"</span>"}prevIndex&&$(this).replaceWith(html)});return this.$el.html(text.contents()),this},resizeOverlay:function(){this.$el.css({top:this.textareaTop-this.$textarea.scrollTop()})},register:function(strategies){return strategies=$.isArray(strategies)?strategies:[strategies],this.strategies=this.strategies.concat(strategies),this.renderTextOnOverlay()},destroy:function(){var $wrapper;this.$textarea.off(".overlay"),$wrapper=this.$textarea.parent(),$wrapper.after(this.$textarea).remove(),this.$textarea.removeData("overlay"),this.$textarea=null}}),Overlay}();$.fn.overlay=function(strategies){var dataKey;return dataKey="overlay",strategies==="destroy"?this.each(function(){var overlay=$(this).data(dataKey);overlay&&overlay.destroy()}):this.each(function(){var $this,overlay;$this=$(this),overlay=$this.data(dataKey),overlay||(overlay=new Overlay($this),$this.data(dataKey,overlay)),overlay.register(strategies)})}})(window.jQuery)},{}],575:[function(require,module,exports){(function(factory){if(typeof define=="function"&&define.amd)define(["jquery"],factory);else if(typeof module=="object"&&module.exports){var $=require("jquery");module.exports=factory($)}else factory(jQuery)})(function(jQuery){if(typeof jQuery=="undefined")throw new Error("jQuery.textcomplete requires jQuery");return+function($){"use strict";var warn=function(message){console.warn&&console.warn(message)},id=1;$.fn.textcomplete=function(strategies,option){var args=Array.prototype.slice.call(arguments);return this.each(function(){var self=this,$this=$(this),completer=$this.data("textComplete");completer||(option||(option={}),option._oid=id++,completer=new $.fn.textcomplete.Completer(this,option),$this.data("textComplete",completer));if(typeof strategies=="string"){if(!completer)return;args.shift(),completer[strategies].apply(completer,args),strategies==="destroy"&&$this.removeData("textComplete")}else $.each(strategies,function(obj){$.each(["header","footer","placement","maxCount"],function(name){obj[name]&&(completer.option[name]=obj[name],warn(name+"as a strategy param is deprecated. Use option."),delete obj[name])})}),completer.register($.fn.textcomplete.Strategy.parse(strategies,{el:self,$el:$this}))})}}(jQuery),+function($){"use strict";function Completer(element,option){this.$el=$(element),this.id="textcomplete"+uniqueId++,this.strategies=[],this.views=[],this.option=$.extend({},Completer._getDefaults(),option);if(!this.$el.is("input[type=text]")&&!this.$el.is("textarea")&&!element.isContentEditable&&element.contentEditable!="true")throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(element===document.activeElement)this.initialize();else{var self=this;this.$el.one("focus."+this.id,function(){self.initialize()})}}var lock=function(func){var locked,queuedArgsToReplay;return function(){var args=Array.prototype.slice.call(arguments);if(locked){queuedArgsToReplay=args;return}locked=!0;var self=this;args.unshift(function replayOrFree(){if(queuedArgsToReplay){var replayArgs=queuedArgsToReplay;queuedArgsToReplay=undefined,replayArgs.unshift(replayOrFree),func.apply(self,replayArgs)}else locked=!1}),func.apply(this,args)}},isString=function(obj){return Object.prototype.toString.call(obj)==="[object String]"},isFunction=function(obj){return Object.prototype.toString.call(obj)==="[object Function]"},uniqueId=0;Completer._getDefaults=function(){return Completer.DEFAULTS||(Completer.DEFAULTS={appendTo:$("body"),zIndex:"100"}),Completer.DEFAULTS},$.extend(Completer.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,initialize:function(){var element=this.$el.get(0);this.dropdown=new $.fn.textcomplete.Dropdown(element,this,this.option);var Adapter,viewName;this.option.adapter?Adapter=this.option.adapter:(this.$el.is("textarea")||this.$el.is("input[type=text]")?viewName=typeof element.selectionEnd=="number"?"Textarea":"IETextarea":viewName="ContentEditable",Adapter=$.fn.textcomplete[viewName]),this.adapter=new Adapter(element,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},trigger:function(text,skipUnchangedTerm){this.dropdown||this.initialize(),text!=null||(text=this.adapter.getTextFromHeadToCaret());var searchQuery=this._extractSearchQuery(text);if(searchQuery.length){var term=searchQuery[1];if(skipUnchangedTerm&&this._term===term)return;this._term=term,this._search.apply(this,searchQuery)}else this._term=null,this.dropdown.deactivate()},fire:function(eventName){var args=Array.prototype.slice.call(arguments,1);return this.$el.trigger(eventName,args),this},register:function(strategies){Array.prototype.push.apply(this.strategies,strategies)},select:function(value,strategy,e){this._term=null,this.adapter.select(value,strategy,e),this.fire("change").fire("textComplete:select",value,strategy),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(text){for(var i=0;i<this.strategies.length;i++){var strategy=this.strategies[i],context=strategy.context(text);if(context||context===""){var matchRegexp=isFunction(strategy.match)?strategy.match(text):strategy.match;isString(context)&&(text=context);var match=text.match(matchRegexp);if(match)return[strategy,match[strategy.index],match]}}return[]},_search:lock(function(free,strategy,term,match){var self=this;strategy.search(term,function(data,stillSearching){self.dropdown.shown||self.dropdown.activate(),self._clearAtNext&&(self.dropdown.clear(),self._clearAtNext=!1),self.dropdown.setPosition(self.adapter.getCaretPosition()),self.dropdown.render(self._zip(data,strategy,term)),stillSearching||(free(),self._clearAtNext=!0)},match)}),_zip:function(data,strategy,term){return $.map(data,function(value){return{value:value,strategy:strategy,term:term}})}}),$.fn.textcomplete.Completer=Completer}(jQuery),+function($){"use strict";function Dropdown(element,completer,option){this.$el=Dropdown.createElement(option),this.completer=completer,this.id=completer.id+"dropdown",this._data=[],this.$inputEl=$(element),this.option=option,option.listPosition&&(this.setPosition=option.listPosition),option.height&&this.$el.height(option.height);var self=this;$.each(["maxCount","placement","footer","header","noResultsMessage","className"],function(_i,name){option[name]!=null&&(self[name]=option[name])}),this._bindEvents(element),dropdownViews[this.id]=this}var $window=$(window),include=function(zippedData,datum){var i,elem,idProperty=datum.strategy.idProperty;for(i=0;i<zippedData.length;i++){elem=zippedData[i];if(elem.strategy!==datum.strategy)continue;if(idProperty){if(elem.value[idProperty]===datum.value[idProperty])return!0}else if(elem.value===datum.value)return!0}return!1},dropdownViews={};$(document).on("click",function(e){var id=e.originalEvent&&e.originalEvent.keepTextCompleteDropdown;$.each(dropdownViews,function(key,view){key!==id&&view.deactivate()})});var commands={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};$.extend(Dropdown,{createElement:function(option){var $parent=option.appendTo;$parent instanceof $||($parent=$($parent));var $el=$("<ul></ul>").addClass("dropdown-menu textcomplete-dropdown").attr("id","textcomplete-dropdown-"+option._oid).css({display:"none",left:0,position:"absolute",zIndex:option.zIndex}).appendTo($parent);return $el}}),$.extend(Dropdown.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:10,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el=this.$inputEl=this.completer=null,delete dropdownViews[this.id]},render:function(zippedData){var contentsHtml=this._buildContents(zippedData),unzippedData=$.map(this.data,function(d){return d.value});this.data.length?(this._renderHeader(unzippedData),this._renderFooter(unzippedData),contentsHtml&&(this._renderContents(contentsHtml),this._fitToBottom(),this._activateIndexedItem()),this._setScroll()):this.noResultsMessage?this._renderNoResultsMessage(unzippedData):this.shown&&this.deactivate()},setPosition:function(pos){this.$el.css(this._applyPlacement(pos));var position="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){if($(this).css("position")==="absolute")return!1;if($(this).css("position")==="fixed")return position="fixed",!1}),this.$el.css({position:position}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(e){return e.keyCode===38||e.ctrlKey&&e.keyCode===80},isDown:function(e){return e.keyCode===40||e.ctrlKey&&e.keyCode===78},isEnter:function(e){var modifiers=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey;return!modifiers&&(e.keyCode===13||e.keyCode===9||this.option.completeOnSpace===!0&&e.keyCode===32)},isPageup:function(e){return e.keyCode===33},isPagedown:function(e){return e.keyCode===34},isEscape:function(e){return e.keyCode===27},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",$.proxy(this._onClick,this)),this.$el.on("touchstart."+this.id,".textcomplete-item",$.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",$.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,$.proxy(this._onKeydown,this))},_onClick:function(e){var $el=$(e.target);e.preventDefault(),e.originalEvent.keepTextCompleteDropdown=this.id,$el.hasClass("textcomplete-item")||($el=$el.closest(".textcomplete-item"));var datum=this.data[parseInt($el.data("index"),10)];this.completer.select(datum.value,datum.strategy,e);var self=this;setTimeout(function(){self.deactivate(),e.type==="touchstart"&&self.$inputEl.focus()},0)},_onMouseover:function(e){var $el=$(e.target);e.preventDefault(),$el.hasClass("textcomplete-item")||($el=$el.closest(".textcomplete-item")),this._index=parseInt($el.data("index"),10),this._activateIndexedItem()},_onKeydown:function(e){if(!this.shown)return;var command;$.isFunction(this.option.onKeydown)&&(command=this.option.onKeydown(e,commands)),command==null&&(command=this._defaultKeydown(e));switch(command){case commands.KEY_UP:e.preventDefault(),this._up();break;case commands.KEY_DOWN:e.preventDefault(),this._down();break;case commands.KEY_ENTER:e.preventDefault(),this._enter(e);break;case commands.KEY_PAGEUP:e.preventDefault(),this._pageup();break;case commands.KEY_PAGEDOWN:e.preventDefault(),this._pagedown();break;case commands.KEY_ESCAPE:e.preventDefault(),this.deactivate()}},_defaultKeydown:function(e){if(this.isUp(e))return commands.KEY_UP;if(this.isDown(e))return commands.KEY_DOWN;if(this.isEnter(e))return commands.KEY_ENTER;if(this.isPageup(e))return commands.KEY_PAGEUP;if(this.isPagedown(e))return commands.KEY_PAGEDOWN;if(this.isEscape(e))return commands.KEY_ESCAPE},_up:function(){this._index===0?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(e){var datum=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(datum.value,datum.strategy,e),this.deactivate()},_pageup:function(){var target=0,threshold=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(i){if($(this).position().top+$(this).outerHeight()>threshold)return target=i,!1}),this._index=target,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var target=this.data.length-1,threshold=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(i){if($(this).position().top>threshold)return target=i,!1}),this._index=target,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var $activeEl=this._getActiveElement(),itemTop=$activeEl.position().top,itemHeight=$activeEl.outerHeight(),visibleHeight=this.$el.innerHeight(),visibleTop=this.$el.scrollTop();this._index===0||this._index==this.data.length-1||itemTop<0?this.$el.scrollTop(itemTop+visibleTop):itemTop+itemHeight>visibleHeight&&this.$el.scrollTop(itemTop+itemHeight+visibleTop-visibleHeight)},_buildContents:function(zippedData){var datum,i,index,html="";for(i=0;i<zippedData.length;i++){if(this.data.length===this.maxCount)break;datum=zippedData[i];if(include(this.data,datum))continue;index=this.data.length,this.data.push(datum),html+='<li class="textcomplete-item" data-index="'+index+'"><a>',html+=datum.strategy.template(datum.value,datum.term),html+="</a></li>"}return html},_renderHeader:function(unzippedData){if(this.header){this._$header||(this._$header=$('<li class="textcomplete-header"></li>').prependTo(this.$el));var html=$.isFunction(this.header)?this.header(unzippedData):this.header;this._$header.html(html)}},_renderFooter:function(unzippedData){if(this.footer){this._$footer||(this._$footer=$('<li class="textcomplete-footer"></li>').appendTo(this.$el));var html=$.isFunction(this.footer)?this.footer(unzippedData):this.footer;this._$footer.html(html)}},_renderNoResultsMessage:function(unzippedData){if(this.noResultsMessage){this._$noResultsMessage||(this._$noResultsMessage=$('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));var html=$.isFunction(this.noResultsMessage)?this.noResultsMessage(unzippedData):this.noResultsMessage;this._$noResultsMessage.html(html)}},_renderContents:function(html){this._$footer?this._$footer.before(html):this.$el.append(html)},_fitToBottom:function(){var windowScrollBottom=$window.scrollTop()+$window.height(),height=this.$el.height();this.$el.position().top+height>windowScrollBottom&&this.$el.offset({top:windowScrollBottom-height})},_applyPlacement:function(position){return this.placement.indexOf("top")!==-1?position={top:"auto",bottom:this.$el.parent().height()-position.top+position.lineHeight,left:position.left}:(position.bottom="auto",delete position.lineHeight),this.placement.indexOf("absleft")!==-1?position.left=0:this.placement.indexOf("absright")!==-1&&(position.right=0,position.left="auto"),position}}),$.fn.textcomplete.Dropdown=Dropdown,$.extend($.fn.textcomplete,commands)}(jQuery),+function($){"use strict";function Strategy(options){$.extend(this,options),this.cache&&(this.search=memoize(this.search))}var memoize=function(func){var memo={};return function(term,callback){memo[term]?callback(memo[term]):func.call(this,term,function(data){memo[term]=(memo[term]||[]).concat(data),callback.apply(null,arguments)})}};Strategy.parse=function(strategiesArray,params){return $.map(strategiesArray,function(strategy){var strategyObj=new Strategy(strategy);return strategyObj.el=params.el,strategyObj.$el=params.$el,strategyObj})},$.extend(Strategy.prototype,{match:null,replace:null,search:null,cache:!1,context:function(){return!0},index:2,template:function(obj){return obj},idProperty:null}),$.fn.textcomplete.Strategy=Strategy}(jQuery),+function($){"use strict";function Adapter(){}var now=Date.now||function(){return(new Date).getTime()},debounce=function(func,wait){var timeout,args,context,timestamp,result,later=function(){var last=now()-timestamp;last<wait?timeout=setTimeout(later,wait-last):(timeout=null,result=func.apply(context,args),context=args=null)};return function(){return context=this,args=arguments,timestamp=now(),timeout||(timeout=setTimeout(later,wait)),result}};$.extend(Adapter.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(element,completer,option){this.el=element,this.$el=$(element),this.id=completer.id+this.constructor.name,this.completer=completer,this.option=option,this.option.debounce&&(this._onKeyup=debounce(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var position=this._getCaretRelativePosition(),offset=this.$el.offset();return position.top+=offset.top,position.left+=offset.left,position},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,$.proxy(this._onKeyup,this))},_onKeyup:function(e){if(this._skipSearch(e))return;this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(clickEvent){switch(clickEvent.keyCode){case 13:case 40:case 38:return!0}if(clickEvent.ctrlKey)switch(clickEvent.keyCode){case 78:case 80:return!0}}}),$.fn.textcomplete.Adapter=Adapter}(jQuery),+function($){"use strict";function Textarea(element,completer,option){this.initialize(element,completer,option)}Textarea.DIV_PROPERTIES={left:-9999,position:"absolute",top:0,whiteSpace:"pre-wrap"},Textarea.COPY_PROPERTIES=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-style","box-sizing","tab-size"],$.extend(Textarea.prototype,$.fn.textcomplete.Adapter.prototype,{select:function(value,strategy,e){var pre=this.getTextFromHeadToCaret(),post=this.el.value.substring(this.el.selectionEnd),newSubstr=strategy.replace(value,e);typeof newSubstr!="undefined"&&($.isArray(newSubstr)&&(post=newSubstr[1]+post,newSubstr=newSubstr[0]),pre=pre.replace(strategy.match,newSubstr),this.$el.val(pre+post),this.el.selectionStart=this.el.selectionEnd=pre.length)},_getCaretRelativePosition:function(){var dummyDiv=$("<div></div>").css(this._copyCss()).text(this.getTextFromHeadToCaret()),span=$("<span></span>").text(".").appendTo(dummyDiv);this.$el.before(dummyDiv);var position=span.position();return position.top+=span.height()-this.$el.scrollTop(),position.lineHeight=span.height(),dummyDiv.remove(),position},_copyCss:function(){return $.extend({overflow:this.el.scrollHeight>this.el.offsetHeight?"scroll":"auto"},Textarea.DIV_PROPERTIES,this._getStyles())},_getStyles:function($){var color=$("<div></div>").css(["color"]).color;return typeof color!="undefined"?function(){return this.$el.css(Textarea.COPY_PROPERTIES)}:function(){var $el=this.$el,styles={};return $.each(Textarea.COPY_PROPERTIES,function(i,property){styles[property]=$el.css(property)}),styles}}($),getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)}}),$.fn.textcomplete.Textarea=Textarea}(jQuery),+function($){"use strict";function IETextarea(element,completer,option){this.initialize(element,completer,option),$("<span>"+sentinelChar+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(element)}var sentinelChar="吶";$.extend(IETextarea.prototype,$.fn.textcomplete.Textarea.prototype,{select:function(value,strategy,e){var pre=this.getTextFromHeadToCaret(),post=this.el.value.substring(pre.length),newSubstr=strategy.replace(value,e);if(typeof newSubstr!="undefined"){$.isArray(newSubstr)&&(post=newSubstr[1]+post,newSubstr=newSubstr[0]),pre=pre.replace(strategy.match,newSubstr),this.$el.val(pre+post),this.el.focus();var range=this.el.createTextRange();range.collapse(!0),range.moveEnd("character",pre.length),range.moveStart("character",pre.length),range.select()}},getTextFromHeadToCaret:function(){this.el.focus();var range=document.selection.createRange();range.moveStart("character",-this.el.value.length);var arr=range.text.split(sentinelChar);return arr.length===1?arr[0]:arr[1]}}),$.fn.textcomplete.IETextarea=IETextarea}(jQuery),+function($){"use strict";function ContentEditable(element,completer,option){this.initialize(element,completer,option)}$.extend(ContentEditable.prototype,$.fn.textcomplete.Adapter.prototype,{select:function(value,strategy,e){var pre=this.getTextFromHeadToCaret(),sel=window.getSelection(),range=sel.getRangeAt(0),selection=range.cloneRange();selection.selectNodeContents(range.startContainer);var content=selection.toString(),post=content.substring(range.startOffset),newSubstr=strategy.replace(value,e);if(typeof newSubstr!="undefined"){$.isArray(newSubstr)&&(post=newSubstr[1]+post,newSubstr=newSubstr[0]),pre=pre.replace(strategy.match,newSubstr),range.selectNodeContents(range.startContainer),range.deleteContents();var node=document.createTextNode(pre+post);range.insertNode(node),range.setStart(node,pre.length),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range)}},_getCaretRelativePosition:function(){var range=window.getSelection().getRangeAt(0).cloneRange(),node=document.createElement("span");range.insertNode(node),range.selectNodeContents(node),range.deleteContents();var $node=$(node),position=$node.offset();return position.left-=this.$el.offset().left,position.top+=$node.height()-this.$el.offset().top,position.lineHeight=$node.height(),$node.remove(),position},getTextFromHeadToCaret:function(){var range=window.getSelection().getRangeAt(0),selection=range.cloneRange();return selection.selectNodeContents(range.startContainer),selection.toString().substring(0,range.startOffset)}}),$.fn.textcomplete.ContentEditable=ContentEditable}(jQuery),jQuery})},{jquery:577}],576:[function(require,module,exports){(function($,undefined){"use strict";$.rails!==undefined&&$.error("jquery-ujs has already been loaded!");var rails,$document=$(document);$.rails=rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return $("meta[name=csrf-token]").attr("content")},csrfParam:function(){return $("meta[name=csrf-param]").attr("content")},CSRFProtection:function(xhr){var token=rails.csrfToken();token&&xhr.setRequestHeader("X-CSRF-Token",token)},refreshCSRFTokens:function(){$('form input[name="'+rails.csrfParam()+'"]').val(rails.csrfToken())},fire:function(obj,name,data){var event=$.Event(name);return obj.trigger(event,data),event.result!==!1},confirm:function(message){return confirm(message)},ajax:function(options){return $.ajax(options)},href:function(element){return element[0].href},isRemote:function(element){return element.data("remote")!==undefined&&element.data("remote")!==!1},handleRemote:function(element){var method,url,data,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){withCredentials=element.data("with-credentials")||null,dataType=element.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType;if(element.is("form")){method=element.data("ujs:submit-button-formmethod")||element.attr("method"),url=element.data("ujs:submit-button-formaction")||element.attr("action"),data=$(element[0]).serializeArray();var button=element.data("ujs:submit-button");button&&(data.push(button),element.data("ujs:submit-button",null)),element.data("ujs:submit-button-formmethod",null),element.data("ujs:submit-button-formaction",null)}else element.is(rails.inputChangeSelector)?(method=element.data("method"),url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):element.is(rails.buttonClickSelector)?(method=element.data("method")||"get",url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):(method=element.data("method"),url=rails.href(element),data=element.data("params")||null);return options={type:method||"GET",data:data,dataType:dataType,beforeSend:function(xhr,settings){settings.dataType===undefined&&xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script);if(!rails.fire(element,"ajax:beforeSend",[xhr,settings]))return!1;element.trigger("ajax:send",xhr)},success:function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},complete:function(xhr,status){element.trigger("ajax:complete",[xhr,status])},error:function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},crossDomain:rails.isCrossDomain(url)},withCredentials&&(options.xhrFields={withCredentials:withCredentials}),url&&(options.url=url),rails.ajax(options)}return!1},isCrossDomain:function(url){var originAnchor=document.createElement("a");originAnchor.href=location.href;var urlAnchor=document.createElement("a");try{return urlAnchor.href=url,urlAnchor.href=urlAnchor.href,(!!urlAnchor.protocol&&urlAnchor.protocol!==":"||!!urlAnchor.host)&&originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){return!0}},handleMethod:function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrfToken=rails.csrfToken(),csrfParam=rails.csrfParam(),form=$('<form method="post" action="'+href+'"></form>'),metadataInput='<input name="_method" value="'+method+'" type="hidden" />';csrfParam!==undefined&&csrfToken!==undefined&&!rails.isCrossDomain(href)&&(metadataInput+='<input name="'+csrfParam+'" value="'+csrfToken+'" type="hidden" />'),target&&form.attr("target",target),form.hide().append(metadataInput).appendTo("body"),form.submit()},formElements:function(form,selector){return form.is("form")?$(form[0].elements).filter(selector):form.find(selector)},disableFormElements:function(form){rails.formElements(form,rails.disableSelector).each(function(){rails.disableFormElement
($(this))})},disableFormElement:function(element){var method,replacement;method=element.is("button")?"html":"val",replacement=element.data("disable-with"),replacement!==undefined&&(element.data("ujs:enable-with",element[method]()),element[method](replacement)),element.prop("disabled",!0),element.data("ujs:disabled",!0)},enableFormElements:function(form){rails.formElements(form,rails.enableSelector).each(function(){rails.enableFormElement($(this))})},enableFormElement:function(element){var method=element.is("button")?"html":"val";element.data("ujs:enable-with")!==undefined&&(element[method](element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.prop("disabled",!1),element.removeData("ujs:disabled")},allowAction:function(element){var message=element.data("confirm"),answer=!1,callback;if(!message)return!0;if(rails.fire(element,"confirm")){try{answer=rails.confirm(message)}catch(e){(console.error||console.log).call(console,e.stack||e)}callback=rails.fire(element,"confirm:complete",[answer])}return answer&&callback},blankInputs:function(form,specifiedSelector,nonBlank){var foundInputs=$(),input,valueToCheck,radiosForNameWithNoneSelected,radioName,selector=specifiedSelector||"input,textarea",requiredInputs=form.find(selector),checkedRadioButtonNames={};return requiredInputs.each(function(){input=$(this),input.is("input[type=radio]")?(radioName=input.attr("name"),checkedRadioButtonNames[radioName]||(form.find('input[type=radio]:checked[name="'+radioName+'"]').length===0&&(radiosForNameWithNoneSelected=form.find('input[type=radio][name="'+radioName+'"]'),foundInputs=foundInputs.add(radiosForNameWithNoneSelected)),checkedRadioButtonNames[radioName]=radioName)):(valueToCheck=input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):!!input.val(),valueToCheck===nonBlank&&(foundInputs=foundInputs.add(input)))}),foundInputs.length?foundInputs:!1},nonBlankInputs:function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,!0)},stopEverything:function(e){return $(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(element){var replacement=element.data("disable-with");replacement!==undefined&&(element.data("ujs:enable-with",element.html()),element.html(replacement)),element.bind("click.railsDisable",function(e){return rails.stopEverything(e)}),element.data("ujs:disabled",!0)},enableElement:function(element){element.data("ujs:enable-with")!==undefined&&(element.html(element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.unbind("click.railsDisable"),element.removeData("ujs:disabled")}},rails.fire($document,"rails:attachBindings")&&($.ajaxPrefilter(function(options,originalOptions,xhr){options.crossDomain||rails.CSRFProtection(xhr)}),$(window).on("pageshow.rails",function(){$($.rails.enableSelector).each(function(){var element=$(this);element.data("ujs:disabled")&&$.rails.enableFormElement(element)}),$($.rails.linkDisableSelector).each(function(){var element=$(this);element.data("ujs:disabled")&&$.rails.enableElement(element)})}),$document.delegate(rails.linkDisableSelector,"ajax:complete",function(){rails.enableElement($(this))}),$document.delegate(rails.buttonDisableSelector,"ajax:complete",function(){rails.enableFormElement($(this))}),$document.delegate(rails.linkClickSelector,"click.rails",function(e){var link=$(this),method=link.data("method"),data=link.data("params"),metaClick=e.metaKey||e.ctrlKey;if(!rails.allowAction(link))return rails.stopEverything(e);!metaClick&&link.is(rails.linkDisableSelector)&&rails.disableElement(link);if(rails.isRemote(link)){if(metaClick&&(!method||method==="GET")&&!data)return!0;var handleRemote=rails.handleRemote(link);return handleRemote===!1?rails.enableElement(link):handleRemote.fail(function(){rails.enableElement(link)}),!1}if(method)return rails.handleMethod(link),!1}),$document.delegate(rails.buttonClickSelector,"click.rails",function(e){var button=$(this);if(!rails.allowAction(button)||!rails.isRemote(button))return rails.stopEverything(e);button.is(rails.buttonDisableSelector)&&rails.disableFormElement(button);var handleRemote=rails.handleRemote(button);return handleRemote===!1?rails.enableFormElement(button):handleRemote.fail(function(){rails.enableFormElement(button)}),!1}),$document.delegate(rails.inputChangeSelector,"change.rails",function(e){var link=$(this);return!rails.allowAction(link)||!rails.isRemote(link)?rails.stopEverything(e):(rails.handleRemote(link),!1)}),$document.delegate(rails.formSubmitSelector,"submit.rails",function(e){var form=$(this),remote=rails.isRemote(form),blankRequiredInputs,nonBlankFileInputs;if(!rails.allowAction(form))return rails.stopEverything(e);if(form.attr("novalidate")===undefined)if(form.data("ujs:formnovalidate-button")===undefined){blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector,!1);if(blankRequiredInputs&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs]))return rails.stopEverything(e)}else form.data("ujs:formnovalidate-button",undefined);if(remote){nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector);if(nonBlankFileInputs){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);return aborted||setTimeout(function(){rails.enableFormElements(form)},13),aborted}return rails.handleRemote(form),!1}setTimeout(function(){rails.disableFormElements(form)},13)}),$document.delegate(rails.formInputClickSelector,"click.rails",function(event){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(event);var name=button.attr("name"),data=name?{name:name,value:button.val()}:null,form=button.closest("form");form.length===0&&(form=$("#"+button.attr("form"))),form.data("ujs:submit-button",data),form.data("ujs:formnovalidate-button",button.attr("formnovalidate")),form.data("ujs:submit-button-formaction",button.attr("formaction")),form.data("ujs:submit-button-formmethod",button.attr("formmethod"))}),$document.delegate(rails.formSubmitSelector,"ajax:send.rails",function(event){this===event.target&&rails.disableFormElements($(this))}),$document.delegate(rails.formSubmitSelector,"ajax:complete.rails",function(event){this===event.target&&rails.enableFormElements($(this))}),$(function(){rails.refreshCSRFTokens()}))})(jQuery)},{}],577:[function(require,module,exports){(function(global,factory){typeof module=="object"&&typeof module.exports=="object"?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)})(typeof window!="undefined"?window:this,function(window,noGlobal){function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return type==="function"||jQuery.isWindow(obj)?!1:type==="array"||length===0||typeof length=="number"&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if(typeof qualifier=="string"){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not})}function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1);return cur}function createOptions(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}function Data(){this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),data=elem.getAttribute(name);if(typeof data=="string"){try{data=data==="true"?!0:data==="false"?!1:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else data=undefined}return data}function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;do scale=scale||".5",initialInUnit/=scale,jQuery.style(elem,prop,initialInUnit+unit);while(scale!==(scale=currentValue()/initial)&&scale!==1&&--maxIterations)}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}function getAll(context,tag){var ret=typeof context.getElementsByTagName!="undefined"?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!="undefined"?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0)if(jQuery.type(elem)==="object")jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(!rhtml.test(elem))nodes.push(context.createTextNode(elem));else{tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];while(j--)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}}fragment.textContent="",i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)>-1){ignored&&ignored.push(elem);continue}contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp);if(scripts){j=0;while(elem=tmp[j++])rscriptType.test(elem.type||"")&&scripts.push(elem)}}return fragment}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types=="object"){typeof selector!="string"&&(data=data||selector,selector=undefined);for(type in types)on(elem,type,selector,data,types[type],one);return elem}data==null&&fn==null?(fn=selector,data=selector=undefined):fn==null&&(typeof selector=="string"?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined));if(fn===!1)fn=returnFalse;else if(!fn)return elem;return one===1&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1)return;if(dataPriv.hasData(src)){pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events;if(events){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i])}}dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type))dest.checked=src.checked;else if(nodeName==="input"||nodeName==="textarea")dest.defaultValue=src.defaultValue}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value=="string"&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l){fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored),first=fragment.firstChild,fragment.childNodes.length===1&&(fragment=first);if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;for(;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts){doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}}}return collection}function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++)!keepData&&node.nodeType===1&&jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach();elemdisplay[nodeName]=display}return display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,(ret===""||ret===undefined)&&!jQuery.contains(elem.ownerDocument,elem)&&(ret=jQuery.style(elem,name)),computed&&!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth),ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(name){if(name in emptyStyle)return name;var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle)return name}}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2)extra==="margin"&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?(extra==="content"&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),extra!=="margin"&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),extra!=="padding"&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",!1,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null)val=elem.style[name];if(rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style)continue;values[index]=dataPriv.get(elem,"olddisplay"),display=elem.style.display,show?(!values[index]&&display==="none"&&(elem.style.display=""),elem.style.display===""&&isHidden(elem)&&(values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),(display!=="none"||!hidden)&&dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display")))}for(index=0;index<length;index++){elem=elements[index];if(!elem.style)continue;if(!show||elem.style.display==="none"||elem.style.display==="")elem.style.display=show?values[index]||"":"none"}return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return window.setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),hooks.unqueued==null&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),elem.nodeType===1&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay=display==="none"?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop],toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value!=="show"||!dataShow||dataShow[prop]===undefined)continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=undefined}if(!jQuery.isEmptyObject(orig)){dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start=prop==="width"||prop==="height"?1:0))}else(display==="none"?defaultDisplay(elem.nodeName):display)==="inline"&&(style.display=display)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;stopped=!0;for(;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result)return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result}return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){typeof dataTypeExpression!="string"&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))while(dataType=dataTypes[i++])dataType[0]==="+"?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport=="string"&&!seekingTransport&&!inspected[dataTypeOrTransport])return options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1;if(seekingTransport)return!(selected=dataTypeOrTransport)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*")dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];current=dataTypes.shift();while(current){s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift();if(current)if(current==="*")current=prev;else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv)for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}}}if(conv!==!0)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+(typeof v=="object"&&v!=null?i:"")+"]",v,traditional,add)});else if(!traditional&&jQuery.type(obj)==="object")for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add);else add(prefix,obj)}function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},version="2.2.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;typeof target=="boolean"&&(deep=target,target=arguments[i]||{},i++),typeof target!="object"&&!jQuery.isFunction(target)&&(target={}),i===length&&(target=this,i--);for(;i<length;i++)if((options=arguments[i])!=null)for(name in options){src=target[name],copy=options[name];if(target===copy)continue;deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy)}return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0},isPlainObject:function(obj){var key;if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj))return!1;if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf"))return!1;for(key in obj);return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return obj==null?obj+"":typeof obj=="object"||typeof obj=="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++)if(callback.call(obj[i],i,obj[i])===!1)break}else for(i in obj)if(callback.call(obj[i],i,obj[i])===!1)break;return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return arr!=null&&(isArrayLike(Object(arr))?jQuery.merge(ret,typeof arr=="string"?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++)value=callback(elems[i],i,arg),value!=null&&ret.push(value)}else for(i in elems)value=callback(elems[i],i,arg),value!=null&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return typeof context=="string"&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):undefined},now:Date.now,support:support}),typeof Symbol=="function"&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11)return results;if(!seed){(context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(nodeType===9){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById
(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nodeType!==1)newContext=context,newSelector=selector;else if(context.nodeName.toLowerCase()!=="object"){(nid=context.getAttribute("id"))?nid=nid.replace(rescape,"\\$&"):context.setAttribute("id",nid=expando),groups=tokenize(selector),i=groups.length,nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";while(i--)groups[i]=nidselect+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&&context.removeAttribute("id")}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)while(cur=cur.nextSibling)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&typeof context.getElementsByTagName!="undefined"&&context}function setFilters(){}function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir])if(elem.nodeType===1||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir])if(elem.nodeType===1||checkNonElements)if(matcher(elem,context,xml))return!0}else while(elem=elem[dir])if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={}),uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if((oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];uniqueCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++)if(elem=unmatched[i])if(!filter||filter(elem,context,xml))newUnmatched.push(elem),mapped&&map.push(i);return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;matcher&&matcher(matcherIn,matcherOut,context,xml);if(postFilter){temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;while(i--)if(elem=temp[i])matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}if(seed){if(postFinder||preFilter){if(postFinder){temp=[],i=matcherOut.length;while(i--)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];for(;i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++)if(Expr.relative[tokens[j].type])break;return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;outermost&&(outermostContext=context===document||context||outermost);for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0,!context&&elem.ownerDocument!==document&&(setDocument(elem),xml=!documentIsHTML);while(matcher=elementMatchers[j++])if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++])matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)while(i--)!unmatched[i]&&!setMatched[i]&&(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement)return document;document=doc,docElem=document.documentElement,documentIsHTML=!isXML(document),(parent=document.defaultView)&&parent.top!==parent&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(typeof context.getElementById!="undefined"&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!="undefined")return context.getElementsByTagName(tag);if(support.qsa)return context.querySelectorAll(tag)}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++])elem.nodeType===1&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!="undefined"&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[];if(support.qsa=rnative.test(document.querySelectorAll))assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")});return(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!bup&&bup.nodeType===1&&!!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16)}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:compare&4?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);cur=a;while(cur=cur.parentNode)ap.unshift(cur);cur=b;while(cur=cur.parentNode)bp.unshift(cur);while(ap[i]===bp[i])i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){(elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++])elem===results[i]&&(j=duplicates.push(i));while(j--)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType)while(node=elem[i++])ret+=getText(node);else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent=="string")return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(nodeType===3||nodeType===4)return elem.nodeValue;return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),match[2]==="~="&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),match[1].slice(0,3)==="nth"?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd")),match[5]=+(match[7]+match[8]||match[3]==="odd")):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className=="string"&&elem.className||typeof elem.getAttribute!="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return result==null?operator==="!=":operator?(result+="",operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){while(dir){node=elem;while(node=node[dir])if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)return!1;start=dir=type==="only"&&!start&&"nextSibling"}return!0}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else{useCache&&(node=elem,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex);if(diff===!1)while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){useCache&&(outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),uniqueCache[type]=[dirruns,diff]);if(node===elem)break}}return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--)if(elem=unmatched[i])seed[i]=!(matches[i]=elem)}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||elemLang.indexOf(lang+"-")===0;while((elem=elem.parentNode)&&elem.nodeType===1);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);soFar=selector,groups=[],preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar)))match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[]);matched=!1;if(match=rcombinators.exec(soFar))matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length);for(type in Expr.filter)(match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))&&(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){match||(match=tokenize(selector)),i=match.length;while(i--)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector=="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type])break;if(find=Expr.find[type])if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1),selector=seed.length&&toSelector(tokens);if(!selector)return push.apply(results,seed),results;break}}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1}),assert(function(div){return div.innerHTML="<a href='#'></a>",div.firstChild.getAttribute("href")==="#"})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}),(!support.attributes||!assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),div.firstChild.getAttribute("value")===""}))&&addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input")return elem.defaultValue}),assert(function(div){return div.getAttribute("disabled")==null})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9)if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling)n.nodeType===1&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!="string")return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,typeof selector=="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;root=root||rootjQuery;if(typeof selector=="string"){selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3?match=[null,selector,null]:match=rquickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector)}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?root.ready!==undefined?root.ready(selector):selector(jQuery):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){var cur,i=0,l=this
.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?typeof elem=="string"?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return name.slice(-5)!=="Until"&&(selector=until),selector&&typeof selector=="string"&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g;jQuery.Callbacks=function(options){options=typeof options=="string"?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=options.once,fired=firing=!0;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length)list[firingIndex].apply(memory[0],memory[1])===!1&&options.stopOnFalse&&(firingIndex=list.length,memory=!1)}options.memory||(memory=!1),firing=!1,locked&&(memory?list=[]:list="")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?(!options.unique||!self.has(arg))&&list.push(arg):arg&&arg.length&&jQuery.type(arg)!=="string"&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=args||[],args=[context,args.slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);for(;i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining}return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(wait===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(wait!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed))),readyList.promise(obj)},jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=!0;for(i in key)access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(value!==undefined){chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}));if(fn)for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!+owner.nodeType};Data.uid=1,Data.prototype={register:function(owner,initial){var value=initial||{};return owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0}),owner[this.expando]},cache:function(owner){if(!acceptData(owner))return{};var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data=="string")cache[data]=value;else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;return key===undefined||key&&typeof key=="string"&&value===undefined?(stored=this.get(owner,key),stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),value!==undefined?value:key)},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(cache===undefined)return;if(key===undefined)this.register(owner);else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;while(i--)delete cache[name[i]]}if(key===undefined||jQuery.isEmptyObject(cache))owner.nodeType?owner[this.expando]=undefined:delete owner[this.expando]},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--)attrs[i]&&(name=attrs[i].name,name.indexOf("data-")===0&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));dataPriv.set(elem,"hasDataAttrs",!0)}}return data}return typeof key=="object"?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data,camelKey;if(elem&&value===undefined){data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase());if(data!==undefined)return data;camelKey=jQuery.camelCase(key),data=dataUser.get(elem,camelKey);if(data!==undefined)return data;data=dataAttr(elem,camelKey,undefined);if(data!==undefined)return data;return}camelKey=jQuery.camelCase(key),this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value),key.indexOf("-")>-1&&data!==undefined&&dataUser.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};fn==="inprogress"&&(fn=queue.shift(),startLength--),fn&&(type==="fx"&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return typeof type!="string"&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),type==="fx"&&queue[0]!=="inprogress"&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};typeof type!="string"&&(obj=type,type=undefined),type=type||"fx";while(i--)tmp=dataPriv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+;/;(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue})();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!elemData)return;handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery!="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}),types=(types||"").match(rnotwhite)||[""],t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort();if(!type)continue;special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===!1)&&elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events))return;types=(types||"").match(rnotwhite)||[""],t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);continue}special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;while(j--)handleObj=handlers[j],(mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)&&(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&((!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===!1)&&jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event,event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===!1)return;handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem,j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped())if(!event.rnamespace||event.rnamespace.test(handleObj.namespace))event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),ret!==undefined&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation())}return special.postDispatch&&special.postDispatch.call(this,event),event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(event.type!=="click"||isNaN(event.button)||event.button<1))for(;cur!==this;cur=cur.parentNode||this)if(cur.nodeType===1&&(cur.disabled!==!0||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++)handleObj=handlers[i],sel=handleObj.selector+" ",matches[sel]===undefined&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return event.which==null&&(event.which=original.charCode!=null?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return event.pageX==null&&original.clientX!=null&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.which&&button!==undefined&&(event.which=button&1?1:button&2?3:button&4?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;while(i--)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),event.target.nodeType===3&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){event.result!==undefined&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related))event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix;return ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if(typeof types=="object"){for(type in types)this.off(type,selector,types[type]);return this}if(selector===!1||typeof selector=="function")fn=selector,selector=undefined;return fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone),srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++)fixInput(srcElements[i],destElements[i])}if(dataAndEvents)if(deepDataAndEvents){srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i])}else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=undefined}elem[dataUser.expando]&&(elem[dataUser.expando]=undefined)}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=value})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++)elem.nodeType===1&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=dataAndEvents==null?!1:dataAndEvents,deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1)return elem.innerHTML;if(typeof value=="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)elem=this[i]||{},elem.nodeType===1&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener)view=window;return view.getComputedStyle(elem)},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret},documentElement=document.documentElement;(function(){function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",div.innerHTML="",documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%",reliableMarginLeftVal=divStyle.marginLeft==="2px",boxSizingReliableVal=divStyle.width==="4px",div.style.marginRight="50%",pixelMarginRightVal=divStyle.marginRight==="4px",documentElement.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style)return;div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=div.style.backgroundClip==="content-box",container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return boxSizingReliableVal==null&&computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return boxSizingReliableVal==null&&computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return boxSizingReliableVal==null&&computeStyleTests(),reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",documentElement.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight),documentElement.removeChild(container),div.removeChild(marginDiv),ret}})})();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style)return;var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];type=typeof value,type==="string"&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number");if(value==null||value!==value)return;type==="number"&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),!support.clearCloneStyle&&value===""&&name.indexOf("background")===0&&(style[name]="inherit");if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined)style[name]=value},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),val===undefined&&(val=curCSS(elem,name,styles)),val==="normal"&&name in cssNormalTransform&&(val=cssNormalTransform[name]),extra===""||extra?(num=parseFloat(val),extra===!0||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",!1,styles)==="border-box",styles);return subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"&&(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(elem,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand
:function(value){var i=0,expanded={},parts=typeof value=="string"?value.split(" "):[value];for(;i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem),len=name.length;for(;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return typeof state=="boolean"?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""),!result||result==="auto"?0:result)},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.nodeType!==1||tween.elem.style[jQuery.cssProps[tween.prop]]==null&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.match(rnotwhite);var prop,index=0,length=props.length;for(;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed=="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration=="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===!0)opt.queue="fx";return opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return typeof type!="string"&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem===this&&(type==null||timers[index].queue===type)&&(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0);for(index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed=="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++)timer=timers[i],!timer()&&timers[i]===timer&&timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=input.value!=="",support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue=input.value==="t"}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2)return;if(typeof elem.getAttribute=="undefined")return jQuery.prop(elem,name,value);if(nType!==1||!jQuery.isXMLDoc(elem))name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:undefined);if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}return hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value)}return hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:(ret=jQuery.find.attr(elem,name),ret==null?undefined:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1)while(name=attrNames[i++])propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=getter(elem,name,isXML)!=null?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2)return;if(nType!==1||!jQuery.isXMLDoc(elem))name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name];return value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if(typeof value=="string"&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem),cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while(clazz=classes[j++])cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}}}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if(typeof value=="string"&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem),cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while(clazz=classes[j++])while(cur.indexOf(" "+clazz+" ")>-1)cur=cur.replace(" "+clazz+" "," ");finalValue=jQuery.trim(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}}}return this},toggleClass:function(value,stateVal){var type=typeof value;return typeof stateVal=="boolean"&&type==="string"?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if(type==="string"){i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while(className=classNames[i++])self.hasClass(className)?self.removeClass(className):self.addClass(className)}else if(value===undefined||type==="boolean")className=getClass(this),className&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||value===!1?"":dataPriv.get(this,"__className__")||"")})},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while(elem=this[i++])if(elem.nodeType===1&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:(ret=elem.value,typeof ret=="string"?ret.replace(rreturn,""):ret==null?"":ret);return}return isFunction=jQuery.isFunction(value),this.each(function(i){var val;if(this.nodeType!==1)return;isFunction?val=value.call(this,i,jQuery(this).val()):val=value,val==null?val="":typeof val=="number"?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return value==null?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined)this.value=val})}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one)return value;values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)optionSet=!0}return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8)return;if(rfocusMorph.test(type+jQuery.event.triggered))return;type.indexOf(".")>-1&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event=="object"&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=undefined,event.target||(event.target=elem),data=data==null?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===!1)return;if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);for(;cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped())event.type=i>1?bubbleType:special.bindType||type,handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||special._default.apply(eventPath.pop(),data)===!1)&&acceptData(elem)&&ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=undefined,tmp&&(elem[ontype]=tmp)),event.result},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml;if(!data||typeof data!="string")return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=undefined}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2)return;state=2,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||status===304,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess)s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),status===204||s.type==="HEAD"?statusText="nocontent":status===304?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error);else{error=statusText;if(status||!statusText)statusText="error",status<0&&(status=0)}jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof url=="object"&&(options=url,url=undefined),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString))responseHeaders[match[1].toLowerCase()]=match[2]}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(state<2)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}s.data&&s.processData&&typeof s.data!="string"&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(!s.beforeSend||s.beforeSend.call(callbackContext,jqXHR,s)!==!1&&state!==2){strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport)done(-1,"No Transport");else{jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]);if(state===2)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}return jqXHR}return jqXHR.abort()},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){var elem=this;while(elem.firstElementChild)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)},jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),!options.crossDomain&&!headers["X-Requested-With"]&&(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,type==="abort"?xhr.abort():type==="error"?typeof xhr.status!="number"?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=callback("error"),xhr.onabort!==undefined?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){xhr.readyState===4&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete(evt.type==="error"?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp")return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){overwritten===undefined?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!="string")return null;typeof context=="boolean"&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts
),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!="string"&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=undefined):params&&typeof params=="object"&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};position==="static"&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),options.top!=null&&(props.top=options.top-curOffset.top+curTop),options.left!=null&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc)return;return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(box=elem.getBoundingClientRect(),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(!this[0])return;var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return jQuery.css(elem,"position")==="fixed"?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static")offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!="boolean"),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:elem.nodeType===9?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery})},{}],578:[function(require,module,exports){(function(global){function index(array,item){var i=array.length;while(i--)if(array[i]===item)return i;return-1}function compareArray(a1,a2){if(a1.length!=a2.length)return!1;for(var i=0;i<a1.length;i++)if(a1[i]!==a2[i])return!1;return!0}function updateModifierKey(event){for(k in _mods)_mods[k]=event[modifierMap[k]]}function dispatch(event){var key,handler,k,i,modifiersMatch,scope;key=event.keyCode,index(_downKeys,key)==-1&&_downKeys.push(key);if(key==93||key==224)key=91;if(key in _mods){_mods[key]=!0;for(k in _MODIFIERS)_MODIFIERS[k]==key&&(assignKey[k]=!0);return}updateModifierKey(event);if(!assignKey.filter.call(this,event))return;if(!(key in _handlers))return;scope=getScope();for(i=0;i<_handlers[key].length;i++){handler=_handlers[key][i];if(handler.scope==scope||handler.scope=="all"){modifiersMatch=handler.mods.length>0;for(k in _mods)if(!_mods[k]&&index(handler.mods,+k)>-1||_mods[k]&&index(handler.mods,+k)==-1)modifiersMatch=!1;(handler.mods.length==0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||modifiersMatch)&&handler.method(event,handler)===!1&&(event.preventDefault?event.preventDefault():event.returnValue=!1,event.stopPropagation&&event.stopPropagation(),event.cancelBubble&&(event.cancelBubble=!0))}}}function clearModifier(event){var key=event.keyCode,k,i=index(_downKeys,key);i>=0&&_downKeys.splice(i,1);if(key==93||key==224)key=91;if(key in _mods){_mods[key]=!1;for(k in _MODIFIERS)_MODIFIERS[k]==key&&(assignKey[k]=!1)}}function resetModifiers(){for(k in _mods)_mods[k]=!1;for(k in _MODIFIERS)assignKey[k]=!1}function assignKey(key,scope,method){var keys,mods;keys=getKeys(key),method===undefined&&(method=scope,scope="all");for(var i=0;i<keys.length;i++)mods=[],key=keys[i].split("+"),key.length>1&&(mods=getMods(key),key=[key[key.length-1]]),key=key[0],key=code(key),key in _handlers||(_handlers[key]=[]),_handlers[key].push({shortcut:keys[i],scope:scope,method:method,key:keys[i],mods:mods})}function unbindKey(key,scope){var multipleKeys,keys,mods=[],i,j,obj;multipleKeys=getKeys(key);for(j=0;j<multipleKeys.length;j++){keys=multipleKeys[j].split("+"),keys.length>1&&(mods=getMods(keys),key=keys[keys.length-1]),key=code(key),scope===undefined&&(scope=getScope());if(!_handlers[key])return;for(i=0;i<_handlers[key].length;i++)obj=_handlers[key][i],obj.scope===scope&&compareArray(obj.mods,mods)&&(_handlers[key][i]={})}}function isPressed(keyCode){return typeof keyCode=="string"&&(keyCode=code(keyCode)),index(_downKeys,keyCode)!=-1}function getPressedKeyCodes(){return _downKeys.slice(0)}function filter(event){var tagName=(event.target||event.srcElement).tagName;return tagName!="INPUT"&&tagName!="SELECT"&&tagName!="TEXTAREA"}function setScope(scope){_scope=scope||"all"}function getScope(){return _scope||"all"}function deleteScope(scope){var key,handlers,i;for(key in _handlers){handlers=_handlers[key];for(i=0;i<handlers.length;)handlers[i].scope===scope?handlers.splice(i,1):i++}}function getKeys(key){var keys;return key=key.replace(/\s/g,""),keys=key.split(","),keys[keys.length-1]==""&&(keys[keys.length-2]+=","),keys}function getMods(key){var mods=key.slice(0,key.length-1);for(var mi=0;mi<mods.length;mi++)mods[mi]=_MODIFIERS[mods[mi]];return mods}function addEvent(object,event,method){object.addEventListener?object.addEventListener(event,method,!1):object.attachEvent&&object.attachEvent("on"+event,function(){method(window.event)})}function noConflict(){var k=global.key;return global.key=previousKey,k}var k,_handlers={},_mods={16:!1,18:!1,17:!1,91:!1},_scope="all",_MODIFIERS={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},_MAP={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},code=function(x){return _MAP[x]||x.toUpperCase().charCodeAt(0)},_downKeys=[];for(k=1;k<20;k++)_MAP["f"+k]=111+k;var modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(k in _MODIFIERS)assignKey[k]=!1;addEvent(document,"keydown",function(event){dispatch(event)}),addEvent(document,"keyup",clearModifier),addEvent(window,"focus",resetModifiers);var previousKey=global.key;global.key=assignKey,global.key.setScope=setScope,global.key.getScope=getScope,global.key.deleteScope=deleteScope,global.key.filter=filter,global.key.isPressed=isPressed,global.key.getPressedKeyCodes=getPressedKeyCodes,global.key.noConflict=noConflict,global.key.unbind=unbindKey,typeof module!="undefined"&&(module.exports=assignKey)})(this)},{}],579:[function(require,module,exports){function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object)}var baseCopy=require("lodash._basecopy"),keys=require("lodash.keys");module.exports=baseAssign},{"lodash._basecopy":581,"lodash.keys":580}],580:[function(require,module,exports){function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){return value=typeof value=="number"||reIsUint.test(value)?+value:-1,length=length==null?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];while(++index<propsLength){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function keysIn(object){if(object==null)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length)result[index]=index+"";for(var key in object)(!skipIndexes||!isIndex(key,length))&&(key!="constructor"||!isProto&&!!hasOwnProperty.call(object,key))&&result.push(key);return result}var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeKeys=getNative(Object,"keys"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length"),keys=nativeKeys?function(object){var Ctor=object==null?undefined:object.constructor;return typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys;module.exports=keys},{"lodash._getnative":584,"lodash.isarguments":586,"lodash.isarray":587}],581:[function(require,module,exports){function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},{}],582:[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function")return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],583:[function(require,module,exports){function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;typeof customizer=="function"?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer=typeof thisArg=="function"?thisArg:undefined,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1);while(++index<length){var source=sources[index];source&&assigner(object,source,customizer)}return object})}var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");module.exports=createAssigner},{"lodash._bindcallback":582,"lodash._isiterateecall":585,"lodash.restparam":588}],584:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){return value==null?!1:isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}var funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=getNative},{}],585:[function(require,module,exports){function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){return value=typeof value=="number"||reIsUint.test(value)?+value:-1,length=length==null?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=isIterateeCall},{}],586:[function(require,module,exports){function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return value!=null&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,getLength=baseProperty("length");module.exports=isArguments},{}],587:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){return value==null?!1:isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}var arrayTag="[object Array]",funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeIsArray=getNative(Array,"isArray"),MAX_SAFE_INTEGER=9007199254740991,isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};module.exports=isArray},{}],588:[function(require,module,exports){function restParam(func,start){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam},{}],589:[function(require,module,exports){var Mailcheck={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(opts){opts.domains=opts.domains||Mailcheck.defaultDomains,opts.secondLevelDomains=opts.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,opts.topLevelDomains=opts.topLevelDomains||Mailcheck.defaultTopLevelDomains,opts.distanceFunction=opts.distanceFunction||Mailcheck.sift3Distance;var defaultCallback=function(result){return result},suggestedCallback=opts.suggested||defaultCallback,emptyCallback=opts.empty||defaultCallback,result=Mailcheck.suggest(Mailcheck.encodeEmail(opts.email),opts.domains,opts.secondLevelDomains,opts.topLevelDomains,opts.distanceFunction);return result?suggestedCallback(result):emptyCallback()},suggest:function(email,domains,secondLevelDomains,topLevelDomains,distanceFunction){email=email.toLowerCase();var emailParts=this.splitEmail(email);if(secondLevelDomains&&topLevelDomains&&secondLevelDomains.indexOf(emailParts.secondLevelDomain)!==-1&&topLevelDomains.indexOf(emailParts.topLevelDomain)!==-1)return!1;var closestDomain=this.findClosestDomain(emailParts.domain,domains,distanceFunction,this.domainThreshold);if(closestDomain)return closestDomain==emailParts.domain?!1:{address:emailParts.address,domain:closestDomain,full:emailParts.address+"@"+closestDomain};var closestSecondLevelDomain=this.findClosestDomain(emailParts.secondLevelDomain,secondLevelDomains,distanceFunction,this.secondLevelThreshold),closestTopLevelDomain=this.findClosestDomain(emailParts.topLevelDomain,topLevelDomains,distanceFunction,this.topLevelThreshold);if(emailParts.domain){var closestDomain=emailParts.domain,rtrn=!1;closestSecondLevelDomain&&closestSecondLevelDomain!=emailParts.secondLevelDomain&&(closestDomain=closestDomain.replace(emailParts.secondLevelDomain,closestSecondLevelDomain),rtrn=!0),closestTopLevelDomain&&closestTopLevelDomain!=emailParts.topLevelDomain&&(closestDomain=closestDomain.replace(emailParts.topLevelDomain,closestTopLevelDomain),rtrn=!0);if(rtrn==1)return{address:emailParts.address,domain:closestDomain,full:emailParts.address+"@"+closestDomain}}return!1},findClosestDomain:function(domain,domains,distanceFunction,threshold){threshold=threshold||this.topLevelThreshold;var dist,minDist=99,closestDomain=null;if(!domain||!domains)return!1;distanceFunction||(distanceFunction=this.sift3Distance);for(var i=0;i<domains.length;i++){if(domain===domains[i])return domain;dist=distanceFunction(domain,domains[i]),dist<minDist&&(minDist=dist,closestDomain=domains[i])}return minDist<=threshold&&closestDomain!==null?closestDomain:!1},sift3Distance:function(s1,s2){if(s1==null||s1.length===0)return s2==null||s2.length===0?0:s2.length;if(s2==null||s2.length===0)return s1.length;var c=0,offset1=0,offset2=0,lcs=0,maxOffset=5;while(c+offset1<s1.length&&c+offset2<s2.length){if(s1.charAt(c+offset1)==s2.charAt(c+offset2))lcs++;else{offset1=0,offset2=0;for(var i=0;i<maxOffset;i++){if(c+i<s1.length&&s1.charAt(c+i)==s2.charAt(c)){offset1=i;break}if(c+i<s2.length&&s1.charAt(c)==s2.charAt(c+i)){offset2=i;break}}}c++}return(s1.length+s2.length)/2-lcs},splitEmail:function(email){var parts=email.trim().split("@");if(parts.length<2)return!1;for(var i=0;i<parts.length;i++)if(parts[i]==="")return!1;var domain=parts.pop(),domainParts=domain.split("."),sld="",tld="";if(domainParts.length==0)return!1;if(domainParts.length==1)tld=domainParts[0];else{sld=domainParts[0];for(var i=1;i<domainParts.length;i++)tld+=domainParts[i]+".";tld=tld.substring(0,tld.length-1)}return{topLevelDomain:tld,secondLevelDomain:sld,domain:domain,address:parts.join("@")}},encodeEmail:function(email){var result=encodeURI(email);return result=result.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}"),result}};typeof module!="undefined"&&module.exports&&(module.exports=Mailcheck),typeof define=="function"&&define.amd&&define("mailcheck",[],function(){return Mailcheck}),typeof window!="undefined"&&window.jQuery&&function($){$.fn.mailcheck=function(opts){var self=this;if(opts.suggested){var oldSuggested=opts.suggested;opts.suggested=function(result){oldSuggested(self,result)}}if(opts.empty){var oldEmpty=opts.empty;opts.empty=function(){oldEmpty.call(null,self)}}opts.email=this.val(),Mailcheck.run(opts)}}(jQuery)},{}],590:[function(require,module,exports){function cleanUpNextTick(){if(!draining||!currentQueue)return;draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(draining)return;var timeout=setTimeout(cleanUpNextTick);draining=!0;var len=queue.length;while(len){currentQueue=queue,queue=[];while(++queueIndex<len)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),queue.length===1&&!draining&&setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],591:[function(require,module,exports){"use strict";module.exports=require("react/lib/ReactDOM")},{"react/lib/ReactDOM":635}],592:[function(require,module,exports){(function(process){function sanitizeProps(props){delete props.ref}var React=require("react"),ReactDOM=require("react-dom"),ExecutionEnvironment=require("exenv"),ModalPortal=React.createFactory(require("./ModalPortal")),ariaAppHider=require("../helpers/ariaAppHider"),elementClass=require("element-class"),renderSubtreeIntoContainer=require("react-dom").unstable_renderSubtreeIntoContainer,SafeHTMLElement=ExecutionEnvironment.canUseDOM?window.HTMLElement:{},Modal=module.exports=React.createClass({displayName:"Modal",statics:{setAppElement:ariaAppHider.setElement,injectCSS:function(){"production"!==process.env.NODE_ENV&&console.warn("React-Modal: injectCSS has been deprecated and no longer has any effect. It will be removed in a later version")}},propTypes:{isOpen:React.PropTypes.bool.isRequired,style:React.PropTypes.shape({content:React.PropTypes.object,overlay:React.PropTypes.object}),appElement:React.PropTypes.instanceOf(SafeHTMLElement),onRequestClose:React.PropTypes.func,closeTimeoutMS:React.PropTypes.number,ariaHideApp:React.PropTypes.bool},getDefaultProps:function(){return{isOpen:!1,ariaHideApp:!0,closeTimeoutMS:0}},componentDidMount:function(){this.node=document.createElement("div"),this.node.className="ReactModalPortal",document.body.appendChild(this.node),this.renderPortal(this.props)},componentWillReceiveProps:function(newProps){this.renderPortal(newProps)},componentWillUnmount:function(){ReactDOM.unmountComponentAtNode(this.node),document.body.removeChild(this.node)},renderPortal:function(props){props.isOpen?elementClass(document.body).add("ReactModal__Body--open"):elementClass(document.body).remove("ReactModal__Body--open"),props.ariaHideApp&&ariaAppHider.toggle(props.isOpen,props.appElement),sanitizeProps(props),this.portal=renderSubtreeIntoContainer(this,ModalPortal(props),this.node)},render:function(){return React.DOM.noscript()}})}).call(this,require("_process"))},{"../helpers/ariaAppHider":594,"./ModalPortal":593,_process:590,"element-class":531,exenv:533,react:729,"react-dom":591}],593:[function(require,module,exports){function stopPropagation(event){event.stopPropagation()}var React=require("react"),div=React.DOM.div,focusManager=require("../helpers/focusManager"),scopeTab=require("../helpers/scopeTab"),Assign=require("lodash.assign"),CLASS_NAMES={overlay:{base:"ReactModal__Overlay",afterOpen:"ReactModal__Overlay--after-open",beforeClose:"ReactModal__Overlay--before-close"},content:{base:"ReactModal__Content",afterOpen:"ReactModal__Content--after-open",beforeClose:"ReactModal__Content--before-close"}},defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},ModalPortal=module.exports=React.createClass({displayName:"ModalPortal",getDefaultProps:function(){return{style:{overlay:{},content:{}}}},getInitialState:function(){return{afterOpen:!1,beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())},componentWillUnmount:function(){clearTimeout(this.closeTimer)},componentWillReceiveProps:function(newProps){!this.props.isOpen&&newProps.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!newProps.isOpen&&this.close()},componentDidUpdate:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))},setFocusAfterRender:function(focus){this.focusAfterRender=focus},open:function(){focusManager.setupScopedFocus(this.node),focusManager.markForFocusLater(),this.setState({isOpen:!0},function(){this.setState({afterOpen:!0})}.bind(this))},close:function(){if(!this.ownerHandlesClose())return;this.props.closeTimeoutMS>0?this.closeWithTimeout():this.closeWithoutTimeout()},focusContent:function(){this.refs.content.focus()},closeWithTimeout:function(){this.setState({beforeClose:!0},function(){this.closeTimer=setTimeout(this.closeWithoutTimeout,this.props.closeTimeoutMS)}.bind(this))},closeWithoutTimeout:function(){this.setState({afterOpen:!1,beforeClose:!1},this.afterClose)},afterClose:function(){focusManager.returnFocus(),focusManager.teardownScopedFocus()},handleKeyDown:function(event){event.keyCode==9&&scopeTab(this.refs.content,event),event.keyCode==27&&this.requestClose()},handleOverlayClick:function(){this.ownerHandlesClose()?this.requestClose():this.focusContent()},requestClose:function(){this.ownerHandlesClose()&&this.props.onRequestClose()},ownerHandlesClose:function(){return this.props.onRequestClose},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},buildClassName:function(which,additional){var className=CLASS_NAMES[which].base;return this.state.afterOpen&&(className+=" "+CLASS_NAMES[which].afterOpen),this.state.beforeClose&&(className+=" "+CLASS_NAMES[which].beforeClose),additional?className+" "+additional:className},render:function(){return this.shouldBeClosed()?div():div({ref:"overlay",className:this.buildClassName("overlay",this.props.overlayClassName),style:Assign({},defaultStyles.overlay,this.props.style.overlay||{}),onClick:this.handleOverlayClick},div({ref:"content",style:Assign({},defaultStyles.content,this.props.style.content||{}),className:this.buildClassName("content",this.props.className),tabIndex:"-1",onClick:stopPropagation,onKeyDown:this.handleKeyDown},this.props.children))}})},{"../helpers/focusManager":595,"../helpers/scopeTab":596,"lodash.assign":599,react:729}],594:[function(require,module,exports){function setElement(element){if(typeof element=="string"){var el=document.querySelectorAll(element);element="length"in el?el[0]:el}_element=element||_element}function hide(appElement){validateElement(appElement),(appElement||_element).setAttribute("aria-hidden","true")}function show(appElement){validateElement(appElement),(appElement||_element).removeAttribute("aria-hidden")}function toggle(shouldHide,appElement){shouldHide?hide(appElement):show(appElement)}function validateElement(appElement){if(!appElement&&!_element)throw new Error("react-modal: You must set an element with `Modal.setAppElement(el)` to make this accessible")}function resetForTesting(){_element=document.body}var _element=typeof document!="undefined"?document.body:null;exports.toggle=toggle,exports.setElement=setElement,exports.show=show,exports.hide=hide,exports.resetForTesting=
resetForTesting},{}],595:[function(require,module,exports){function handleBlur(event){needToFocus=!0}function handleFocus(event){if(needToFocus){needToFocus=!1;if(!modalElement)return;setTimeout(function(){if(modalElement.contains(document.activeElement))return;var el=findTabbable(modalElement)[0]||modalElement;el.focus()},0)}}var findTabbable=require("../helpers/tabbable"),modalElement=null,focusLaterElement=null,needToFocus=!1;exports.markForFocusLater=function(){focusLaterElement=document.activeElement},exports.returnFocus=function(){try{focusLaterElement.focus()}catch(e){console.warn("You tried to return focus to "+focusLaterElement+" but it is not in the DOM anymore")}focusLaterElement=null},exports.setupScopedFocus=function(element){modalElement=element,window.addEventListener?(window.addEventListener("blur",handleBlur,!1),document.addEventListener("focus",handleFocus,!0)):(window.attachEvent("onBlur",handleBlur),document.attachEvent("onFocus",handleFocus))},exports.teardownScopedFocus=function(){modalElement=null,window.addEventListener?(window.removeEventListener("blur",handleBlur),document.removeEventListener("focus",handleFocus)):(window.detachEvent("onBlur",handleBlur),document.detachEvent("onFocus",handleFocus))}},{"../helpers/tabbable":597}],596:[function(require,module,exports){var findTabbable=require("../helpers/tabbable");module.exports=function(node,event){var tabbable=findTabbable(node),finalTabbable=tabbable[event.shiftKey?0:tabbable.length-1],leavingFinalTabbable=finalTabbable===document.activeElement||node===document.activeElement;if(!leavingFinalTabbable)return;event.preventDefault();var target=tabbable[event.shiftKey?tabbable.length-1:0];target.focus()}},{"../helpers/tabbable":597}],597:[function(require,module,exports){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function hidden(el){return el.offsetWidth<=0&&el.offsetHeight<=0||el.style.display==="none"}function visible(element){while(element){if(element===document.body)break;if(hidden(element))return!1;element=element.parentNode}return!0}function tabbable(element){var tabIndex=element.getAttribute("tabindex");tabIndex===null&&(tabIndex=undefined);var isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}function findTabbableDescendants(element){return[].slice.call(element.querySelectorAll("*"),0).filter(function(el){return tabbable(el)})}module.exports=findTabbableDescendants},{}],598:[function(require,module,exports){module.exports=require("./components/Modal")},{"./components/Modal":592}],599:[function(require,module,exports){function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?result!==value:value===value)||value===undefined&&!(key in object))object[key]=result}return object}var baseAssign=require("lodash._baseassign"),createAssigner=require("lodash._createassigner"),keys=require("lodash.keys"),assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});module.exports=assign},{"lodash._baseassign":579,"lodash._createassigner":583,"lodash.keys":600}],600:[function(require,module,exports){arguments[4][580][0].apply(exports,arguments)},{dup:580,"lodash._getnative":584,"lodash.isarguments":586,"lodash.isarray":587}],601:[function(require,module,exports){"use strict";var ReactMount=require("./ReactMount"),findDOMNode=require("./findDOMNode"),focusNode=require("fbjs/lib/focusNode"),Mixin={componentDidMount:function(){this.props.autoFocus&&focusNode(findDOMNode(this))}},AutoFocusUtils={Mixin:Mixin,focusDOMComponent:function(){focusNode(ReactMount.getNode(this._rootNodeID))}};module.exports=AutoFocusUtils},{"./ReactMount":665,"./findDOMNode":708,"fbjs/lib/focusNode":552}],602:[function(require,module,exports){"use strict";function isPresto(){var opera=window.opera;return typeof opera=="object"&&typeof opera.version=="function"&&parseInt(opera.version(),10)<=12}function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&(!nativeEvent.ctrlKey||!nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;return typeof detail=="object"&&"data"in detail?detail.data:null}function extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var eventType,fallbackData;canUseCompositionEvent?eventType=getCompositionEventType(topLevelType):currentComposition?isFallbackCompositionEnd(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionEnd):isFallbackCompositionStart(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionStart);if(!eventType)return null;useFallbackCompositionData&&(!currentComposition&&eventType===eventTypes.compositionStart?currentComposition=FallbackCompositionState.getPooled(topLevelTarget):eventType===eventTypes.compositionEnd&&currentComposition&&(fallbackData=currentComposition.getData()));var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent,nativeEventTarget);if(fallbackData)event.data=fallbackData;else{var customData=getDataFromCustomEvent(nativeEvent);customData!==null&&(event.data=customData)}return EventPropagators.accumulateTwoPhaseDispatches(event),event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;if(which!==SPACEBAR_CODE)return null;return hasSpaceKeypress=!0,SPACEBAR_CHAR;case topLevelTypes.topTextInput:var chars=nativeEvent.data;if(chars===SPACEBAR_CHAR&&hasSpaceKeypress)return null;return chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();return FallbackCompositionState.release(currentComposition),currentComposition=null,chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:if(nativeEvent.which&&!isKeypressCommand(nativeEvent))return String.fromCharCode(nativeEvent.which);return null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var chars;canUseTextInputEvent?chars=getNativeBeforeInputChars(topLevelType,nativeEvent):chars=getFallbackBeforeInputChars(topLevelType,nativeEvent);if(!chars)return null;var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent,nativeEventTarget);return event.data=chars,EventPropagators.accumulateTwoPhaseDispatches(event),event}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),FallbackCompositionState=require("./FallbackCompositionState"),SyntheticCompositionEvent=require("./SyntheticCompositionEvent"),SyntheticInputEvent=require("./SyntheticInputEvent"),keyOf=require("fbjs/lib/keyOf"),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,documentMode=null;ExecutionEnvironment.canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto(),useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&documentMode<=11),SPACEBAR_CODE=32,SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE),topLevelTypes=EventConstants.topLevelTypes,eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}},hasSpaceKeypress=!1,currentComposition=null,BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget)]}};module.exports=BeforeInputEventPlugin},{"./EventConstants":614,"./EventPropagators":618,"./FallbackCompositionState":619,"./SyntheticCompositionEvent":690,"./SyntheticInputEvent":694,"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/keyOf":562}],603:[function(require,module,exports){"use strict";function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var isUnitlessNumber={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],604:[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),ReactPerf=require("./ReactPerf"),camelizeStyleName=require("fbjs/lib/camelizeStyleName"),dangerousStyleValue=require("./dangerousStyleValue"),hyphenateStyleName=require("fbjs/lib/hyphenateStyleName"),memoizeStringOnly=require("fbjs/lib/memoizeStringOnly"),warning=require("fbjs/lib/warning"),processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)}),hasShorthandPropertyBug=!1,styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=!0}document.documentElement.style.cssFloat===undefined&&(styleFloatAccessor="styleFloat")}var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles){if(!styles.hasOwnProperty(styleName))continue;var styleValue=styles[styleName];styleValue!=null&&(serialized+=processStyleName(styleName)+":",serialized+=dangerousStyleValue(styleName,styleValue)+";")}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName))continue;var styleValue=dangerousStyleValue(styleName,styles[styleName]);styleName==="float"&&(styleName=styleFloatAccessor);if(styleValue)style[styleName]=styleValue;else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion)for(var individualStyleName in expansion)style[individualStyleName]="";else style[styleName]=""}}}};ReactPerf.measureMethods(CSSPropertyOperations,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),module.exports=CSSPropertyOperations},{"./CSSProperty":603,"./ReactPerf":671,"./dangerousStyleValue":705,"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/camelizeStyleName":546,"fbjs/lib/hyphenateStyleName":557,"fbjs/lib/memoizeStringOnly":564,"fbjs/lib/warning":569}],605:[function(require,module,exports){"use strict";function CallbackQueue(){this._callbacks=null,this._contexts=null}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant");assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(callback),this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks,contexts=this._contexts;if(callbacks){callbacks.length!==contexts.length?invariant(!1):undefined,this._callbacks=null,this._contexts=null;for(var i=0;i<callbacks.length;i++)callbacks[i].call(contexts[i]);callbacks.length=0,contexts.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(CallbackQueue),module.exports=CallbackQueue},{"./Object.assign":622,"./PooledClass":623,"fbjs/lib/invariant":558}],606:[function(require,module,exports){"use strict";function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return nodeName==="select"||nodeName==="input"&&elem.type==="file"}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event),ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event),EventPluginHub.processEventQueue(!1)}function startWatchingForChangeEventIE8(target,targetID){activeElement=target,activeElementID=targetID,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){if(!activeElement)return;activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementID=null}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topChange)return topLevelTargetID}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(target,targetID){activeElement=target,activeElementID=targetID,activeElementValue=target.value,activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){if(!activeElement)return;delete activeElement.value,activeElement.detachEvent("onpropertychange",handlePropertyChange),activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null}function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=="value")return;var value=nativeEvent.srcElement.value;if(value===activeElementValue)return;activeElementValue=value,manualDispatchChangeEvent(nativeEvent)}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topInput)return topLevelTargetID}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown)if(activeElement&&activeElement.value!==activeElementValue)return activeElementValue=activeElement.value,activeElementID}function shouldUseClickEvent(elem){return elem.nodeName&&elem.nodeName.toLowerCase()==="input"&&(elem.type==="checkbox"||elem.type==="radio")}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topClick)return topLevelTargetID}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),ReactUpdates=require("./ReactUpdates"),SyntheticEvent=require("./SyntheticEvent"),getEventTarget=require("./getEventTarget"),isEventSupported=require("./isEventSupported"),isTextInputElement=require("./isTextInputElement"),keyOf=require("fbjs/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val,activeElementValueProp.set.call(this,val)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var getTargetIDFunc,handleEventFunc;shouldUseChangeEvent(topLevelTarget)?doesChangeEventBubble?getTargetIDFunc=getTargetIDForChangeEvent:handleEventFunc=handleEventsForChangeEventIE8:isTextInputElement(topLevelTarget)?isInputEventSupported?getTargetIDFunc=getTargetIDForInputEvent:(getTargetIDFunc=getTargetIDForInputEventIE,handleEventFunc=handleEventsForInputEventIE):shouldUseClickEvent(topLevelTarget)&&(getTargetIDFunc=getTargetIDForClickEvent);if(getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent,nativeEventTarget);return event.type="change",EventPropagators.accumulateTwoPhaseDispatches(event),event}}handleEventFunc&&handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}};module.exports=ChangeEventPlugin},{"./EventConstants":614,"./EventPluginHub":615,"./EventPropagators":618,"./ReactUpdates":683,"./SyntheticEvent":692,"./getEventTarget":714,"./isEventSupported":719,"./isTextInputElement":720,"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/keyOf":562}],607:[function(require,module,exports){"use strict";var nextReactRootIndex=0,ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex},{}],608:[function(require,module,exports){"use strict";function insertChildAt(parentNode,childNode,index){var beforeChild=index>=parentNode.childNodes.length?null:parentNode.childNodes.item(index);parentNode.insertBefore(childNode,beforeChild)}var Danger=require("./Danger"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),ReactPerf=require("./ReactPerf"),setInnerHTML=require("./setInnerHTML"),setTextContent=require("./setTextContent"),invariant=require("fbjs/lib/invariant"),DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(updates,markupList){var update,initialChildren=null,updatedChildren=null;for(var i=0;i<updates.length;i++){update=updates[i];if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex,updatedChild=update.parentNode.childNodes[updatedIndex],parentID=update.parentID;updatedChild?undefined:invariant(!1),initialChildren=initialChildren||{},initialChildren[parentID]=initialChildren[parentID]||[],initialChildren[parentID][updatedIndex]=updatedChild,updatedChildren=updatedChildren||[],updatedChildren.push(updatedChild)}}var renderedMarkup;markupList.length&&typeof markupList[0]=="string"?renderedMarkup=Danger.dangerouslyRenderMarkup(markupList):renderedMarkup=markupList;if(updatedChildren)for(var j=0;j<updatedChildren.length;j++)updatedChildren[j].parentNode.removeChild(updatedChildren[j]);for(var k=0;k<updates.length;k++){update=updates[k];switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:}}}};ReactPerf.measureMethods(DOMChildrenOperations,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),module.exports=DOMChildrenOperations},{"./Danger":611,"./ReactMultiChildUpdateTypes":667,"./ReactPerf":671,"./setInnerHTML":724,"./setTextContent":725,"fbjs/lib/invariant":558}],609:[function(require,module,exports){"use strict";function checkMask(value,bitmask){return(value&bitmask)===bitmask}var invariant=require("fbjs/lib/invariant"),DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection,Properties=domPropertyConfig.Properties||{},DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{},DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{},DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{},DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};domPropertyConfig.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);for(var propName in Properties){DOMProperty.properties.hasOwnProperty(propName)?invariant(!1):undefined;var lowerCased=propName.toLowerCase(),propConfig=Properties[propName],propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};!propertyInfo.mustUseAttribute||!propertyInfo.mustUseProperty?undefined:invariant(!1),!propertyInfo.mustUseProperty&&!!propertyInfo.hasSideEffects?invariant(!1):undefined,propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1?undefined:invariant(!1);if(DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName}DOMAttributeNamespaces.hasOwnProperty(propName)&&(propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]),DOMPropertyNames.hasOwnProperty(propName)&&(propertyInfo.propertyName=DOMPropertyNames[propName]),DOMMutationMethods.hasOwnProperty(propName)&&(propertyInfo.mutationMethod=DOMMutationMethods[propName]),DOMProperty.properties[propName]=propertyInfo}}},defaultValueCache={},DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName))return!0}return!1},getDefaultValueForProperty:function(nodeName,prop){var nodeDefaults=defaultValueCache[nodeName],testElement;return nodeDefaults||(defaultValueCache[nodeName]=nodeDefaults={}),prop in nodeDefaults||(testElement=document.createElement(nodeName),nodeDefaults[prop]=testElement[prop]),nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty},{"fbjs/lib/invariant":558}],610:[function(require,module,exports){"use strict";function isAttributeNameSafe(attributeName){return validatedAttributeNameCache.hasOwnProperty(attributeName)?!0:illegalAttributeNameCache.hasOwnProperty(attributeName)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)?(validatedAttributeNameCache[attributeName]=!0,!0):(illegalAttributeNameCache[attributeName]=!0,undefined,!1)}function shouldIgnoreValue(propertyInfo,value){return value==null||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&value<1||propertyInfo.hasOverloadedBooleanValue&&value===!1}var DOMProperty=require("./DOMProperty"),ReactPerf=require("./ReactPerf"),quoteAttributeValueForBrowser=require("./quoteAttributeValueForBrowser"),warning=require("fbjs/lib/warning"),VALID_ATTRIBUTE_NAME_REGEX=/^[a-zA-Z_][\w\.\-]*$/,illegalAttributeNameCache={},validatedAttributeNameCache={},DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value))return"";var attributeName=propertyInfo.attributeName;return propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?attributeName+'=""':attributeName+"="+quoteAttributeValueForBrowser(value)}return DOMProperty.isCustomAttribute(name)?value==null?"":name+"="+quoteAttributeValueForBrowser(value):null},createMarkupForCustomAttribute:function(name,value){return!isAttributeNameSafe(name)||value==null?"":name+"="+quoteAttributeValueForBrowser(value)},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,value);else if(shouldIgnoreValue(propertyInfo,value))this.deleteValueForProperty(node,name);else if(propertyInfo.mustUseAttribute){var attributeName=propertyInfo.attributeName,namespace=propertyInfo.attributeNamespace;namespace?node.setAttributeNS(namespace,attributeName,""+value):propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?node.setAttribute(attributeName,""):node.setAttribute(attributeName,""+value)}else{var propName=propertyInfo.propertyName;if(!propertyInfo.hasSideEffects||""+node[propName]!=""+value)node[propName]=value}}else DOMProperty.isCustomAttribute(name)&&DOMPropertyOperations.setValueForAttribute(node,name,value)},setValueForAttribute:function(node,name,value){if(!isAttributeNameSafe(name))return;value==null?node.removeAttribute(name):node.setAttribute(name,""+value)},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,undefined);else if(propertyInfo.mustUseAttribute)node.removeAttribute(propertyInfo.attributeName);else{var propName=propertyInfo.propertyName,defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);if(!propertyInfo.hasSideEffects||""+node[propName]!==defaultValue)node[propName]=defaultValue}}else DOMProperty.isCustomAttribute(name)&&node.removeAttribute(name)}};ReactPerf.measureMethods(DOMPropertyOperations,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),module.exports=DOMPropertyOperations},{"./DOMProperty":609,"./ReactPerf":671,"./quoteAttributeValueForBrowser":722,"fbjs/lib/warning":569}],611:[function(require,module,exports){"use strict";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),createNodesFromMarkup=require("fbjs/lib/createNodesFromMarkup"),emptyFunction=require("fbjs/lib/emptyFunction"),getMarkupWrap=require("fbjs/lib/getMarkupWrap"),invariant=require("fbjs/lib/invariant"),OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/,RESULT_INDEX_ATTR="data-danger-index",Danger={dangerouslyRenderMarkup:function(markupList){ExecutionEnvironment.canUseDOM?undefined:invariant(!1);var nodeName,markupByNodeName={};for(var i=0;i<markupList.length;i++)markupList[i]?undefined:invariant(!1),nodeName=getNodeName(markupList[i]),nodeName=getMarkupWrap(nodeName)?nodeName:"*",markupByNodeName[nodeName]=markupByNodeName[nodeName]||[],markupByNodeName[nodeName][i]=markupList[i];var resultList=[],resultListAssignmentCount=0;for(nodeName in markupByNodeName){if(!markupByNodeName.hasOwnProperty(nodeName))continue;var markupListByNodeName=markupByNodeName[nodeName],resultIndex;for(resultIndex in markupListByNodeName)if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction);for(var j=0;j<renderNodes.length;++j){var renderNode=renderNodes[j];renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)&&(resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR),renderNode.removeAttribute(RESULT_INDEX_ATTR),resultList.hasOwnProperty(resultIndex)?invariant(!1):undefined,resultList[resultIndex]=renderNode,resultListAssignmentCount+=1)}}return resultListAssignmentCount!==resultList.length?invariant(!1):undefined,resultList.length!==markupList.length?invariant(!1):undefined
,resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){ExecutionEnvironment.canUseDOM?undefined:invariant(!1),markup?undefined:invariant(!1),oldChild.tagName.toLowerCase()==="html"?invariant(!1):undefined;var newChild;typeof markup=="string"?newChild=createNodesFromMarkup(markup,emptyFunction)[0]:newChild=markup,oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger},{"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/createNodesFromMarkup":549,"fbjs/lib/emptyFunction":550,"fbjs/lib/getMarkupWrap":554,"fbjs/lib/invariant":558}],612:[function(require,module,exports){"use strict";var keyOf=require("fbjs/lib/keyOf"),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"fbjs/lib/keyOf":562}],613:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),ReactMount=require("./ReactMount"),keyOf=require("fbjs/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,getFirstReactDOM=ReactMount.getFirstReactDOM,eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},extractedEvents=[null,null],EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement))return null;if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver)return null;var win;if(topLevelTarget.window===topLevelTarget)win=topLevelTarget;else{var doc=topLevelTarget.ownerDocument;doc?win=doc.defaultView||doc.parentWindow:win=window}var from,to,fromID="",toID="";topLevelType===topLevelTypes.topMouseOut?(from=topLevelTarget,fromID=topLevelTargetID,to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement),to?toID=ReactMount.getID(to):to=win,to=to||win):(from=win,to=topLevelTarget,toID=topLevelTargetID);if(from===to)return null;var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent,nativeEventTarget);leave.type="mouseleave",leave.target=from,leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent,nativeEventTarget);return enter.type="mouseenter",enter.target=to,enter.relatedTarget=from,EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID),extractedEvents[0]=leave,extractedEvents[1]=enter,extractedEvents}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":614,"./EventPropagators":618,"./ReactMount":665,"./SyntheticMouseEvent":696,"fbjs/lib/keyOf":562}],614:[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror"),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"fbjs/lib/keyMirror":561}],615:[function(require,module,exports){"use strict";function validateInstanceHandle(){var valid=InstanceHandle&&InstanceHandle.traverseTwoPhase&&InstanceHandle.traverseEnterLeave;undefined}var EventPluginRegistry=require("./EventPluginRegistry"),EventPluginUtils=require("./EventPluginUtils"),ReactErrorUtils=require("./ReactErrorUtils"),accumulateInto=require("./accumulateInto"),forEachAccumulated=require("./forEachAccumulated"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),listenerBank={},eventQueue=null,executeDispatchesAndRelease=function(event,simulated){event&&(EventPluginUtils.executeDispatchesInOrder(event,simulated),event.isPersistent()||event.constructor.release(event))},executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,!0)},executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,!1)},InstanceHandle=null,EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle},getInstanceHandle:function(){return InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){typeof listener!="function"?invariant(!1):undefined;var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.didPutListener&&PluginModule.didPutListener(id,registrationName,listener)},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName);var bankForRegistrationName=listenerBank[registrationName];bankForRegistrationName&&delete bankForRegistrationName[id]},deleteAllListeners:function(id){for(var registrationName in listenerBank){if(!listenerBank[registrationName][id])continue;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName),delete listenerBank[registrationName][id]}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events,plugins=EventPluginRegistry.plugins;for(var i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);extractedEvents&&(events=accumulateInto(events,extractedEvents))}}return events},enqueueEvents:function(events){events&&(eventQueue=accumulateInto(eventQueue,events))},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null,simulated?forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated):forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel),eventQueue?invariant(!1):undefined,ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub},{"./EventPluginRegistry":616,"./EventPluginUtils":617,"./ReactErrorUtils":656,"./accumulateInto":702,"./forEachAccumulated":710,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],616:[function(require,module,exports){"use strict";function recomputePluginOrdering(){if(!EventPluginOrder)return;for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName],pluginIndex=EventPluginOrder.indexOf(pluginName);pluginIndex>-1?undefined:invariant(!1);if(EventPluginRegistry.plugins[pluginIndex])continue;PluginModule.extractEvents?undefined:invariant(!1),EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents)publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?undefined:invariant(!1)}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?invariant(!1):undefined,EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames)if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}return!0}return dispatchConfig.registrationName?(publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName),!0):!1}function publishRegistrationName(registrationName,PluginModule,eventName){EventPluginRegistry.registrationNameModules[registrationName]?invariant(!1):undefined,EventPluginRegistry.registrationNameModules[registrationName]=PluginModule,EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var invariant=require("fbjs/lib/invariant"),EventPluginOrder=null,namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){EventPluginOrder?invariant(!1):undefined,EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder),recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=!1;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName))continue;var PluginModule=injectedNamesToPlugins[pluginName];if(!namesToPlugins.hasOwnProperty(pluginName)||namesToPlugins[pluginName]!==PluginModule)namesToPlugins[pluginName]?invariant(!1):undefined,namesToPlugins[pluginName]=PluginModule,isOrderingDirty=!0}isOrderingDirty&&recomputePluginOrdering()},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName)return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase))continue;var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule)return PluginModule}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins)namesToPlugins.hasOwnProperty(pluginName)&&delete namesToPlugins[pluginName];EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs)eventNameDispatchConfigs.hasOwnProperty(eventName)&&delete eventNameDispatchConfigs[eventName];var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules)registrationNameModules.hasOwnProperty(registrationName)&&delete registrationNameModules[registrationName]}};module.exports=EventPluginRegistry},{"fbjs/lib/invariant":558}],617:[function(require,module,exports){"use strict";function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}function executeDispatch(event,simulated,listener,domID){var type=event.type||"unknown-event";event.currentTarget=injection.Mount.getNode(domID),simulated?ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event,domID):ReactErrorUtils.invokeGuardedCallback(type,listener,event,domID),event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if(Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped())break;executeDispatch(event,simulated,dispatchListeners[i],dispatchIDs[i])}else dispatchListeners&&executeDispatch(event,simulated,dispatchListeners,dispatchIDs);event._dispatchListeners=null,event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if(Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped())break;if(dispatchListeners[i](event,dispatchIDs[i]))return dispatchIDs[i]}else if(dispatchListeners&&dispatchListeners(event,dispatchIDs))return dispatchIDs;return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);return event._dispatchIDs=null,event._dispatchListeners=null,ret}function executeDirectDispatch(event){var dispatchListener=event._dispatchListeners,dispatchID=event._dispatchIDs;Array.isArray(dispatchListener)?invariant(!1):undefined;var res=dispatchListener?dispatchListener(event,dispatchID):null;return event._dispatchListeners=null,event._dispatchIDs=null,res}function hasDispatches(event){return!!event._dispatchListeners}var EventConstants=require("./EventConstants"),ReactErrorUtils=require("./ReactErrorUtils"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount}},topLevelTypes=EventConstants.topLevelTypes,validateEventDispatches,EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getNode:function(id){return injection.Mount.getNode(id)},getID:function(node){return injection.Mount.getID(node)},injection:injection};module.exports=EventPluginUtils},{"./EventConstants":614,"./ReactErrorUtils":656,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],618:[function(require,module,exports){"use strict";function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured,listener=listenerAtPhase(domID,event,phase);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,domID))}function accumulateTwoPhaseDispatchesSingle(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName,listener=getListener(id,registrationName);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,id))}}function accumulateDirectDispatchesSingle(event){event&&event.dispatchConfig.registrationName&&accumulateDispatches(event.dispatchMarker,null,event)}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),warning=require("fbjs/lib/warning"),accumulateInto=require("./accumulateInto"),forEachAccumulated=require("./forEachAccumulated"),PropagationPhases=EventConstants.PropagationPhases,getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators},{"./EventConstants":614,"./EventPluginHub":615,"./accumulateInto":702,"./forEachAccumulated":710,"fbjs/lib/warning":569}],619:[function(require,module,exports){"use strict";function FallbackCompositionState(root){this._root=root,this._startText=this.getText(),this._fallbackText=null}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),getTextContentAccessor=require("./getTextContentAccessor");assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText)return this._fallbackText;var start,startValue=this._startText,startLength=startValue.length,end,endValue=this.getText(),endLength=endValue.length;for(start=0;start<startLength;start++)if(startValue[start]!==endValue[start])break;var minEnd=startLength-start;for(end=1;end<=minEnd;end++)if(startValue[startLength-end]!==endValue[endLength-end])break;var sliceTail=end>1?1-end:undefined;return this._fallbackText=endValue.slice(start,sliceTail),this._fallbackText}}),PooledClass.addPoolingTo(FallbackCompositionState),module.exports=FallbackCompositionState},{"./Object.assign":622,"./PooledClass":623,"./getTextContentAccessor":717}],620:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS,HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE,hasSVG;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,capture:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,challenge:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,"default":HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,inputMode:MUST_USE_ATTRIBUTE,integrity:null,is:MUST_USE_ATTRIBUTE,keyParams:MUST_USE_ATTRIBUTE,keyType:MUST_USE_ATTRIBUTE,kind:null,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,minLength:MUST_USE_ATTRIBUTE,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,nonce:MUST_USE_ATTRIBUTE,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcLang:null,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,wrap:null,about:MUST_USE_ATTRIBUTE,datatype:MUST_USE_ATTRIBUTE,inlist:MUST_USE_ATTRIBUTE,prefix:MUST_USE_ATTRIBUTE,property:MUST_USE_ATTRIBUTE,resource:MUST_USE_ATTRIBUTE,"typeof":MUST_USE_ATTRIBUTE,vocab:MUST_USE_ATTRIBUTE,autoCapitalize:MUST_USE_ATTRIBUTE,autoCorrect:MUST_USE_ATTRIBUTE,autoSave:null,color:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,results:null,security:MUST_USE_ATTRIBUTE,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=HTMLDOMPropertyConfig},{"./DOMProperty":609,"fbjs/lib/ExecutionEnvironment":544}],621:[function(require,module,exports){"use strict";function _assertSingleLink(inputProps){inputProps.checkedLink!=null&&inputProps.valueLink!=null?invariant(!1):undefined}function _assertValueLink(inputProps){_assertSingleLink(inputProps),inputProps.value!=null||inputProps.onChange!=null?invariant(!1):undefined}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps),inputProps.checked!=null||inputProps.onChange!=null?invariant(!1):undefined}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}var ReactPropTypes=require("./ReactPropTypes"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),hasReadOnlyValue={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},propTypes={value:function(props,propName,componentName){return!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(props,propName,componentName){return!props[propName]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func},loggedTypeFailures={},LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName))var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop);if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var addendum=getDeclarationErrorAddendum(owner);undefined}}},getValue:function(inputProps){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.value):inputProps.value},getChecked:function(inputProps){return inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.value):inputProps.checked},executeOnChange:function(inputProps,event){if(inputProps.valueLink)return _assertValueLink(inputProps),inputProps.valueLink.requestChange(event.target.value);if(inputProps.checkedLink)return _assertCheckedLink(inputProps),inputProps.checkedLink.requestChange(event.target.checked);if(inputProps.onChange)return inputProps.onChange.call(undefined,event)}};module.exports=LinkedValueUtils},{"./ReactPropTypeLocations":673,"./ReactPropTypes":674,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],622:[function(require,module,exports){"use strict";function assign(target,sources){if(target==null)throw new TypeError("Object.assign target cannot be null or undefined");var to=Object(target),hasOwnProperty=Object.prototype.hasOwnProperty;for(var nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(nextSource==null)continue;var from=Object(nextSource);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key])}return to}module.exports=assign},{}],623:[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant"),oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,copyFieldsFrom),instance}return new Klass(copyFieldsFrom)},twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2),instance}return new Klass(a1,a2)},threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3),instance}return new Klass(a1,a2,a3)},fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4),instance}return new Klass(a1,a2,a3,a4)},fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4,a5),instance}return new Klass(a1,a2,a3,a4,a5)},standardReleaser=function(instance){var Klass=this;instance instanceof Klass?undefined:invariant(!1),instance.destructor(),Klass.instancePool.length<Klass.poolSize&&Klass.instancePool.push(instance)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;return NewKlass.instancePool=[],NewKlass.getPooled=pooler||DEFAULT_POOLER,NewKlass.poolSize||(NewKlass.poolSize=DEFAULT_POOL_SIZE),NewKlass.release=standardReleaser,NewKlass},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass},{"fbjs/lib/invariant":558}],624:[function(require,module,exports){"use strict";var ReactDOM=require("./ReactDOM"),ReactDOMServer=require("./ReactDOMServer"),ReactIsomorphic=require("./ReactIsomorphic"),assign=require("./Object.assign"),deprecated=require("./deprecated"),React={};assign(React,ReactIsomorphic),assign(React,{findDOMNode:deprecated("findDOMNode","ReactDOM","react-dom",ReactDOM,ReactDOM.findDOMNode),render:deprecated("render","ReactDOM","react-dom",ReactDOM,ReactDOM.render),unmountComponentAtNode:deprecated("unmountComponentAtNode","ReactDOM","react-dom",ReactDOM,ReactDOM.unmountComponentAtNode),renderToString:deprecated("renderToString","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToString),renderToStaticMarkup:deprecated("renderToStaticMarkup","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToStaticMarkup)}),React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOM,React.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOMServer,module.exports=React},{"./Object.assign":622,"./ReactDOM":635,"./ReactDOMServer":645,"./ReactIsomorphic":663,"./deprecated":706}],625:[function(require,module,exports){"use strict";var ReactInstanceMap=require("./ReactInstanceMap"),findDOMNode=require("./findDOMNode"),warning=require("fbjs/lib/warning"),didWarnKey="_getDOMNodeDidWarn",ReactBrowserComponentMixin={getDOMNode:function(){return undefined,this.constructor[didWarnKey]=!0,findDOMNode(this)}};module.exports=ReactBrowserComponentMixin},{"./ReactInstanceMap":662,"./findDOMNode":708,"fbjs/lib/warning":569}],626:[function(require,module,exports){"use strict";function getListeningForDocument(mountAt){return Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)||(mountAt[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[mountAt[topListenersIDKey]]={}),alreadyListeningTo[mountAt[topListenersIDKey]]}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPluginRegistry=require("./EventPluginRegistry"),ReactEventEmitterMixin=require("./ReactEventEmitterMixin"),ReactPerf=require("./ReactPerf"),ViewportMetrics=require("./ViewportMetrics"),assign=require("./Object.assign"),isEventSupported=require("./isEventSupported"),alreadyListeningTo={},isMonitoringScrollValue=!1,reactTopListenersCounter=0,topEventMapping={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactBrowserEventEmitter=assign(
{},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel),ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)},isEnabled:function(){return!!ReactBrowserEventEmitter.ReactEventListener&&!!ReactBrowserEventEmitter.ReactEventListener.isEnabled()},listenTo:function(registrationName,contentDocumentHandle){var mountAt=contentDocumentHandle,isListening=getListeningForDocument(mountAt),dependencies=EventPluginRegistry.registrationNameDependencies[registrationName],topLevelTypes=EventConstants.topLevelTypes;for(var i=0;i<dependencies.length;i++){var dependency=dependencies[i];if(!isListening.hasOwnProperty(dependency)||!isListening[dependency])dependency===topLevelTypes.topWheel?isEventSupported("wheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt):isEventSupported("mousewheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt):dependency===topLevelTypes.topScroll?isEventSupported("scroll",!0)?ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE):dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur?(isEventSupported("focus",!0)?(ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)):isEventSupported("focusin")&&(ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)),isListening[topLevelTypes.topBlur]=!0,isListening[topLevelTypes.topFocus]=!0):topEventMapping.hasOwnProperty(dependency)&&ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt),isListening[dependency]=!0}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh),isMonitoringScrollValue=!0}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});ReactPerf.measureMethods(ReactBrowserEventEmitter,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),module.exports=ReactBrowserEventEmitter},{"./EventConstants":614,"./EventPluginHub":615,"./EventPluginRegistry":616,"./Object.assign":622,"./ReactEventEmitterMixin":657,"./ReactPerf":671,"./ViewportMetrics":701,"./isEventSupported":719}],627:[function(require,module,exports){"use strict";function instantiateChild(childInstances,child,name){var keyUnique=childInstances[name]===undefined;child!=null&&keyUnique&&(childInstances[name]=instantiateReactComponent(child,null))}var ReactReconciler=require("./ReactReconciler"),instantiateReactComponent=require("./instantiateReactComponent"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),traverseAllChildren=require("./traverseAllChildren"),warning=require("fbjs/lib/warning"),ReactChildReconciler={instantiateChildren:function(nestedChildNodes,transaction,context){if(nestedChildNodes==null)return null;var childInstances={};return traverseAllChildren(nestedChildNodes,instantiateChild,childInstances),childInstances},updateChildren:function(prevChildren,nextChildren,transaction,context){if(!nextChildren&&!prevChildren)return null;var name;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name))continue;var prevChild=prevChildren&&prevChildren[name],prevElement=prevChild&&prevChild._currentElement,nextElement=nextChildren[name];if(prevChild!=null&&shouldUpdateReactComponent(prevElement,nextElement))ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context),nextChildren[name]=prevChild;else{prevChild&&ReactReconciler.unmountComponent(prevChild,name);var nextChildInstance=instantiateReactComponent(nextElement,null);nextChildren[name]=nextChildInstance}}for(name in prevChildren)prevChildren.hasOwnProperty(name)&&(!nextChildren||!nextChildren.hasOwnProperty(name))&&ReactReconciler.unmountComponent(prevChildren[name]);return nextChildren},unmountChildren:function(renderedChildren){for(var name in renderedChildren)if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild)}}};module.exports=ReactChildReconciler},{"./ReactReconciler":676,"./instantiateReactComponent":718,"./shouldUpdateReactComponent":726,"./traverseAllChildren":727,"fbjs/lib/warning":569}],628:[function(require,module,exports){"use strict";function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"//")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction,this.context=forEachContext,this.count=0}function forEachSingleChild(bookKeeping,child,name){var func=bookKeeping.func,context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(children==null)return children;var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext),ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult,this.keyPrefix=keyPrefix,this.func=mapFunction,this.context=mapContext,this.count=0}function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result,keyPrefix=bookKeeping.keyPrefix,func=bookKeeping.func,context=bookKeeping.context,mappedChild=func.call(context,child,bookKeeping.count++);Array.isArray(mappedChild)?mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument):mappedChild!=null&&(ReactElement.isValidElement(mappedChild)&&(mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild!==child?escapeUserProvidedKey(mappedChild.key||"")+"/":"")+childKey)),result.push(mappedChild))}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";prefix!=null&&(escapedPrefix=escapeUserProvidedKey(prefix)+"/");var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext),MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(children==null)return children;var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,func,context),result}function forEachSingleChildDummy(traverseContext,child,name){return null}function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument),result}var PooledClass=require("./PooledClass"),ReactElement=require("./ReactElement"),emptyFunction=require("fbjs/lib/emptyFunction"),traverseAllChildren=require("./traverseAllChildren"),twoArgumentPooler=PooledClass.twoArgumentPooler,fourArgumentPooler=PooledClass.fourArgumentPooler,userProvidedKeyEscapeRegex=/\/(?!\/)/g;ForEachBookKeeping.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),MapBookKeeping.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};module.exports=ReactChildren},{"./PooledClass":623,"./ReactElement":652,"./traverseAllChildren":727,"fbjs/lib/emptyFunction":550}],629:[function(require,module,exports){"use strict";function warnSetProps(){warnedSetProps||(warnedSetProps=!0,undefined)}function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef)typeDef.hasOwnProperty(propName)&&undefined}function validateMethodOverride(proto,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.OVERRIDE_BASE?invariant(!1):undefined),proto.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.DEFINE_MANY&&specPolicy!==SpecPolicy.DEFINE_MANY_MERGED?invariant(!1):undefined)}function mixSpecIntoComponent(Constructor,spec){if(!spec)return;typeof spec=="function"?invariant(!1):undefined,ReactElement.isValidElement(spec)?invariant(!1):undefined;var proto=Constructor.prototype;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec){if(!spec.hasOwnProperty(name))continue;if(name===MIXINS_KEY)continue;var property=spec[name];validateMethodOverride(proto,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isAlreadyDefined=proto.hasOwnProperty(name),isFunction=typeof property=="function",shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==!1;if(shouldAutoBind)proto.__reactAutoBindMap||(proto.__reactAutoBindMap={}),proto.__reactAutoBindMap[name]=property,proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!isReactClassMethod||specPolicy!==SpecPolicy.DEFINE_MANY_MERGED&&specPolicy!==SpecPolicy.DEFINE_MANY?invariant(!1):undefined,specPolicy===SpecPolicy.DEFINE_MANY_MERGED?proto[name]=createMergedResultFunction(proto[name],property):specPolicy===SpecPolicy.DEFINE_MANY&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property}}}function mixStaticSpecIntoComponent(Constructor,statics){if(!statics)return;for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name))continue;var isReserved=name in RESERVED_SPEC_KEYS;isReserved?invariant(!1):undefined;var isInherited=name in Constructor;isInherited?invariant(!1):undefined,Constructor[name]=property}}function mergeIntoWithNoDuplicateKeys(one,two){!one||!two||typeof one!="object"||typeof two!="object"?invariant(!1):undefined;for(var key in two)two.hasOwnProperty(key)&&(one[key]!==undefined?invariant(!1):undefined,one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(a==null)return b;if(b==null)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);return boundMethod}function bindAutoBindMethods(component){for(var autoBindKey in component.__reactAutoBindMap)if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=component.__reactAutoBindMap[autoBindKey];component[autoBindKey]=bindAutoBindMethod(component,method)}}var ReactComponent=require("./ReactComponent"),ReactElement=require("./ReactElement"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue"),assign=require("./Object.assign"),emptyObject=require("fbjs/lib/emptyObject"),invariant=require("fbjs/lib/invariant"),keyMirror=require("fbjs/lib/keyMirror"),keyOf=require("fbjs/lib/keyOf"),warning=require("fbjs/lib/warning"),MIXINS_KEY=keyOf({mixins:null}),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],warnedSetProps=!1,ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps?Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):Constructor.getDefaultProps=getDefaultProps},propTypes:function(Constructor,propTypes){Constructor.propTypes=assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState),callback&&this.updater.enqueueCallback(this,callback)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(partialProps,callback){this.updater.enqueueSetProps(this,partialProps),callback&&this.updater.enqueueCallback(this,callback)},replaceProps:function(newProps,callback){this.updater.enqueueReplaceProps(this,newProps),callback&&this.updater.enqueueCallback(this,callback)}},ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){this.__reactAutoBindMap&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;typeof initialState=="object"&&!Array.isArray(initialState)?undefined:invariant(!1),this.state=initialState};Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,spec),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),Constructor.prototype.render?undefined:invariant(!1);for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactClass},{"./Object.assign":622,"./ReactComponent":630,"./ReactElement":652,"./ReactNoopUpdateQueue":669,"./ReactPropTypeLocationNames":672,"./ReactPropTypeLocations":673,"fbjs/lib/emptyObject":551,"fbjs/lib/invariant":558,"fbjs/lib/keyMirror":561,"fbjs/lib/keyOf":562,"fbjs/lib/warning":569}],630:[function(require,module,exports){"use strict";function ReactComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue"),canDefineProperty=require("./canDefineProperty"),emptyObject=require("fbjs/lib/emptyObject"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning");ReactComponent.prototype.isReactComponent={},ReactComponent.prototype.setState=function(partialState,callback){typeof partialState!="object"&&typeof partialState!="function"&&partialState!=null?invariant(!1):undefined,this.updater.enqueueSetState(this,partialState),callback&&this.updater.enqueueCallback(this,callback)},ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this),callback&&this.updater.enqueueCallback(this,callback)},module.exports=ReactComponent},{"./ReactNoopUpdateQueue":669,"./canDefineProperty":704,"fbjs/lib/emptyObject":551,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],631:[function(require,module,exports){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactMount=require("./ReactMount"),ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)}};module.exports=ReactComponentBrowserEnvironment},{"./ReactDOMIDOperations":640,"./ReactMount":665}],632:[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant"),injected=!1,ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){injected?invariant(!1):undefined,ReactComponentEnvironment.unmountIDFromEnvironment=environment.unmountIDFromEnvironment,ReactComponentEnvironment.replaceNodeWithMarkupByID=environment.replaceNodeWithMarkupByID,ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates,injected=!0}}};module.exports=ReactComponentEnvironment},{"fbjs/lib/invariant":558}],633:[function(require,module,exports){"use strict";function getDeclarationErrorAddendum(component){var owner=component._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function StatelessComponent(Component){}var ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactInstanceMap=require("./ReactInstanceMap"),ReactPerf=require("./ReactPerf"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactReconciler=require("./ReactReconciler"),ReactUpdateQueue=require("./ReactUpdateQueue"),assign=require("./Object.assign"),emptyObject=require("fbjs/lib/emptyObject"),invariant=require("fbjs/lib/invariant"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),warning=require("fbjs/lib/warning");StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;return Component(this.props,this.context,this.updater)};var nextMountID=1,ReactCompositeComponentMixin={construct:function(element){this._currentElement=element,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(rootID,transaction,context){this._context=context,this._mountOrder=nextMountID++,this._rootNodeID=rootID;var publicProps=this._processProps(this._currentElement.props),publicContext=this._processContext(context),Component=this._currentElement.type,inst,renderedElement,canInstantiate="prototype"in Component;canInstantiate&&(inst=new Component(publicProps,publicContext,ReactUpdateQueue));if(!canInstantiate||inst===null||inst===!1||ReactElement.isValidElement(inst))renderedElement=inst,inst=new StatelessComponent(Component);inst.props=publicProps,inst.context=publicContext,inst.refs=emptyObject,inst.updater=ReactUpdateQueue,this._instance=inst,ReactInstanceMap.set(inst,this);var initialState=inst.state;initialState===undefined&&(inst.state=initialState=null),typeof initialState=="object"&&!Array.isArray(initialState)?undefined:invariant(!1),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,inst.componentWillMount&&(inst.componentWillMount(),this._pendingStateQueue&&(inst.state=this._processPendingState(inst.props,inst.context))),renderedElement===undefined&&(renderedElement=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(renderedElement);var markup=ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,this._processChildContext(context));return inst.componentDidMount&&transaction.getReactMountReady().enqueue(inst.componentDidMount,inst),markup},unmountComponent:function(){var inst=this._instance;inst.componentWillUnmount&&inst.componentWillUnmount(),ReactReconciler.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,ReactInstanceMap.remove(inst)},_maskContext:function(context){var maskedContext=null,Component=this._currentElement.type,contextTypes=Component.contextTypes;if(!contextTypes)return emptyObject;maskedContext={};for(var contextName in contextTypes)maskedContext[contextName]=context[contextName];return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context);return maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type,inst=this._instance,childContext=inst.getChildContext&&inst.getChildContext();if(childContext){typeof Component.childContextTypes!="object"?invariant(!1):undefined;for(var name in childContext)name in Component.childContextTypes?undefined:invariant(!1);return assign({},currentContext,childContext)}return currentContext},_processProps:function(newProps){return newProps},_checkPropTypes:function(propTypes,props,location){var componentName=this.getName();for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{typeof propTypes[propName]!="function"?invariant(!1):undefined,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);location===ReactPropTypeLocations.prop?undefined:undefined}}},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement,prevContext=this._context;this._pendingElement=null,this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){this._pendingElement!=null&&ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,transaction,this._context),(this._pendingStateQueue!==null||this._pendingForceUpdate)&&this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var inst=this._instance,nextContext=this._context===nextUnmaskedContext?inst.context:this._processContext(nextUnmaskedContext),nextProps;prevParentElement===nextParentElement?nextProps=nextParentElement.props:(nextProps=this._processProps(nextParentElement.props),inst.componentWillReceiveProps&&inst.componentWillReceiveProps(nextProps,nextContext));var nextState=this._processPendingState(nextProps,nextContext),shouldUpdate=this._pendingForceUpdate||!inst.shouldComponentUpdate||inst.shouldComponentUpdate(nextProps,nextState,nextContext);shouldUpdate?(this._pendingForceUpdate=!1,this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)):(this._currentElement=nextParentElement,this._context=nextUnmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext)},_processPendingState:function(props,context){var inst=this._instance,queue=this._pendingStateQueue,replace=this._pendingReplaceState;this._pendingReplaceState=!1,this._pendingStateQueue=null;if(!queue)return inst.state;if(replace&&queue.length===1)return queue[0];var nextState=assign({},replace?queue[0]:inst.state);for(var i=replace?1:0;i<queue.length;i++){var partial=queue[i];assign(nextState,typeof partial=="function"?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var inst=this._instance,hasComponentDidUpdate=Boolean(inst.componentDidUpdate),prevProps,prevState,prevContext;hasComponentDidUpdate&&(prevProps=inst.props,prevState=inst.state,prevContext=inst.context),inst.componentWillUpdate&&inst.componentWillUpdate(nextProps,nextState,nextContext),this._currentElement=nextElement,this._context=unmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext,this._updateRenderedComponent(transaction,unmaskedContext),hasComponentDidUpdate&&transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent,prevRenderedElement=prevComponentInstance._currentElement,nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement))ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context));else{var thisID=this._rootNodeID,prevComponentID=prevComponentInstance._rootNodeID;ReactReconciler.unmountComponent(prevComponentInstance),this._renderedComponent=this._instantiateReactComponent(nextRenderedElement);var nextMarkup=ReactReconciler.mountComponent(this._renderedComponent,thisID,transaction,this._processChildContext(context));this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup)}},_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){ReactComponentEnvironment.replaceNodeWithMarkupByID(prevComponentID,nextMarkup)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance,renderedComponent=inst.render();return renderedComponent},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}return renderedComponent!==null&&renderedComponent!==!1&&!ReactElement.isValidElement(renderedComponent)?invariant(!1):undefined,renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();inst==null?invariant(!1):undefined;var publicComponentInstance=component.getPublicInstance(),refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type,constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;return inst instanceof StatelessComponent?null:inst},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent},{"./Object.assign":622,"./ReactComponentEnvironment":632,"./ReactCurrentOwner":634,"./ReactElement":652,"./ReactInstanceMap":662,"./ReactPerf":671,"./ReactPropTypeLocationNames":672,"./ReactPropTypeLocations":673,"./ReactReconciler":676,"./ReactUpdateQueue":682,"./shouldUpdateReactComponent":726,"fbjs/lib/emptyObject":551,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],634:[function(require,module,exports){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],635:[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactDOMTextComponent=require("./ReactDOMTextComponent"),ReactDefaultInjection=require("./ReactDefaultInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),ReactUpdates=require("./ReactUpdates"),ReactVersion=require("./ReactVersion"),findDOMNode=require("./findDOMNode"),renderSubtreeIntoContainer=require("./renderSubtreeIntoContainer"),warning=require("fbjs/lib/warning");ReactDefaultInjection.inject();var render=ReactPerf.measure("React","render",ReactMount.render),React={findDOMNode:findDOMNode,render:render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent}),module.exports=React},{"./ReactCurrentOwner":634,"./ReactDOMTextComponent":646,"./ReactDefaultInjection":649,"./ReactInstanceHandles":661,"./ReactMount":665,"./ReactPerf":671,"./ReactReconciler":676,"./ReactUpdates":683,"./ReactVersion":684,"./findDOMNode":708,"./renderSubtreeIntoContainer":723,"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/warning":569}],636:[function(require,module,exports){"use strict";var mouseListenerNames={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},ReactDOMButton={getNativeProps:function(inst,props,context){if(!props.disabled)return props;var nativeProps={};for(var key in props)props.hasOwnProperty(key)&&!mouseListenerNames[key]&&(nativeProps[key]=props[key]);return nativeProps}};module.exports=ReactDOMButton},{}],637:[function(require,module,exports){"use strict";function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" This DOM node was rendered by `"+name+"`."}}return""}function legacyGetDOMNode(){return this}function legacyIsMounted(){var component=this._reactInternalComponent;return!!component}function legacySetStateEtc(){}function legacySetProps(partialProps,callback){var component=this._reactInternalComponent;if(!component)return;ReactUpdateQueue.enqueueSetPropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback)}function legacyReplaceProps(partialProps,callback){var component=this._reactInternalComponent;if(!component)return;ReactUpdateQueue.enqueueReplacePropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback)}function friendlyStringify(obj){if(typeof obj=="object"){if(Array.isArray(obj))return"["+obj.map(friendlyStringify).join(", ")+"]";var pairs=[];for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var keyEscaped=/^[a-z$_][\w$_]*$/i.test(key)?key:JSON.stringify(key);pairs.push(keyEscaped+": "+friendlyStringify(obj[key]))}return"{"+pairs.join(", ")+"}"}return typeof obj=="string"?JSON.stringify(obj):typeof obj=="function"?"[function object]":String(obj)}function checkAndWarnForMutatedStyle(style1,style2,component){if(style1==
null||style2==null)return;if(shallowEqual(style1,style2))return;var componentName=component._tag,owner=component._currentElement._owner,ownerName;owner&&(ownerName=owner.getName());var hash=ownerName+"|"+componentName;if(styleMutationWarning.hasOwnProperty(hash))return;styleMutationWarning[hash]=!0,undefined}function assertValidProps(component,props){if(!props)return;props.dangerouslySetInnerHTML!=null&&(props.children!=null?invariant(!1):undefined,typeof props.dangerouslySetInnerHTML=="object"&&HTML in props.dangerouslySetInnerHTML?undefined:invariant(!1)),props.style!=null&&typeof props.style!="object"?invariant(!1):undefined}function enqueuePutListener(id,registrationName,listener,transaction){var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getReactMountReady().enqueue(putListener,{id:id,registrationName:registrationName,listener:listener})}function putListener(){var listenerToPut=this;ReactBrowserEventEmitter.putListener(listenerToPut.id,listenerToPut.registrationName,listenerToPut.listener)}function trapBubbledEventsLocal(){var inst=this;inst._rootNodeID?undefined:invariant(!1);var node=ReactMount.getNode(inst._rootNodeID);node?undefined:invariant(!1);switch(inst._tag){case"iframe":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents)mediaEvents.hasOwnProperty(event)&&inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node));break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)]}}function mountReadyInputWrapper(){ReactDOMInput.mountReadyWrapper(this)}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}function validateDangerousTag(tag){hasOwnProperty.call(validatedTagCache,tag)||(VALID_TAG_REGEX.test(tag)?undefined:invariant(!1),validatedTagCache[tag]=!0)}function processChildContextDev(context,inst){context=assign({},context);var info=context[validateDOMNesting.ancestorInfoContextKey];return context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(info,inst._tag,inst),context}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||props.is!=null}function ReactDOMComponent(tag){validateDangerousTag(tag),this._tag=tag.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var AutoFocusUtils=require("./AutoFocusUtils"),CSSPropertyOperations=require("./CSSPropertyOperations"),DOMProperty=require("./DOMProperty"),DOMPropertyOperations=require("./DOMPropertyOperations"),EventConstants=require("./EventConstants"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactDOMButton=require("./ReactDOMButton"),ReactDOMInput=require("./ReactDOMInput"),ReactDOMOption=require("./ReactDOMOption"),ReactDOMSelect=require("./ReactDOMSelect"),ReactDOMTextarea=require("./ReactDOMTextarea"),ReactMount=require("./ReactMount"),ReactMultiChild=require("./ReactMultiChild"),ReactPerf=require("./ReactPerf"),ReactUpdateQueue=require("./ReactUpdateQueue"),assign=require("./Object.assign"),canDefineProperty=require("./canDefineProperty"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),invariant=require("fbjs/lib/invariant"),isEventSupported=require("./isEventSupported"),keyOf=require("fbjs/lib/keyOf"),setInnerHTML=require("./setInnerHTML"),setTextContent=require("./setTextContent"),shallowEqual=require("fbjs/lib/shallowEqual"),validateDOMNesting=require("./validateDOMNesting"),warning=require("fbjs/lib/warning"),deleteListener=ReactBrowserEventEmitter.deleteListener,listenTo=ReactBrowserEventEmitter.listenTo,registrationNameModules=ReactBrowserEventEmitter.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},CHILDREN=keyOf({children:null}),STYLE=keyOf({style:null}),HTML=keyOf({__html:null}),ELEMENT_NODE_TYPE=1,legacyPropsDescriptor,styleMutationWarning={},mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},omittedCloseTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},newlineEatingTags={listing:!0,pre:!0,textarea:!0},voidElementTags=assign({menuitem:!0},omittedCloseTags),VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,validatedTagCache={},hasOwnProperty={}.hasOwnProperty;ReactDOMComponent.displayName="ReactDOMComponent",ReactDOMComponent.Mixin={construct:function(element){this._currentElement=element},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;var props=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getNativeProps(this,props,context);break;case"input":ReactDOMInput.mountWrapper(this,props,context),props=ReactDOMInput.getNativeProps(this,props,context);break;case"option":ReactDOMOption.mountWrapper(this,props,context),props=ReactDOMOption.getNativeProps(this,props,context);break;case"select":ReactDOMSelect.mountWrapper(this,props,context),props=ReactDOMSelect.getNativeProps(this,props,context),context=ReactDOMSelect.processChildContext(this,props,context);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,context),props=ReactDOMTextarea.getNativeProps(this,props,context)}assertValidProps(this,props);var mountImage;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement(this._currentElement.type);DOMPropertyOperations.setAttributeForID(el,this._rootNodeID),ReactMount.getID(el),this._updateDOMProperties({},props,transaction,el),this._createInitialChildren(transaction,props,context,el),mountImage=el}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props),tagContent=this._createContentMarkup(transaction,props,context);!tagContent&&omittedCloseTags[this._tag]?mountImage=tagOpen+"/>":mountImage=tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(mountReadyInputWrapper,this);case"button":case"select":case"textarea":props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props){if(!props.hasOwnProperty(propKey))continue;var propValue=props[propKey];if(propValue==null)continue;if(registrationNameModules.hasOwnProperty(propKey))propValue&&enqueuePutListener(this._rootNodeID,propKey,propValue,transaction);else{propKey===STYLE&&(propValue&&(propValue=this._previousStyleCopy=assign({},props.style)),propValue=CSSPropertyOperations.createMarkupForStyles(propValue));var markup=null;this._tag!=null&&isCustomComponent(this._tag,props)?propKey!==CHILDREN&&(markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue)):markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue),markup&&(ret+=" "+markup)}}if(transaction.renderToStaticMarkup)return ret;var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID},_createContentMarkup:function(transaction,props,context){var ret="",innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null)innerHTML.__html!=null&&(ret=innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null)ret=escapeTextContentForBrowser(contentToUse);else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}return newlineEatingTags[this._tag]&&ret.charAt(0)==="\n"?"\n"+ret:ret},_createInitialChildren:function(transaction,props,context,el){var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null)innerHTML.__html!=null&&setInnerHTML(el,innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null)setTextContent(el,contentToUse);else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);for(var i=0;i<mountImages.length;i++)el.appendChild(mountImages[i])}}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement,this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props,nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getNativeProps(this,lastProps),nextProps=ReactDOMButton.getNativeProps(this,nextProps);break;case"input":ReactDOMInput.updateWrapper(this),lastProps=ReactDOMInput.getNativeProps(this,lastProps),nextProps=ReactDOMInput.getNativeProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getNativeProps(this,lastProps),nextProps=ReactDOMOption.getNativeProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getNativeProps(this,lastProps),nextProps=ReactDOMSelect.getNativeProps(this,nextProps);break;case"textarea":ReactDOMTextarea.updateWrapper(this),lastProps=ReactDOMTextarea.getNativeProps(this,lastProps),nextProps=ReactDOMTextarea.getNativeProps(this,nextProps)}assertValidProps(this,nextProps),this._updateDOMProperties(lastProps,nextProps,transaction,null),this._updateDOMChildren(lastProps,nextProps,transaction,context),!canDefineProperty&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=nextProps),this._tag==="select"&&transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this)},_updateDOMProperties:function(lastProps,nextProps,transaction,node){var propKey,styleName,styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey))continue;if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle)lastStyle.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");this._previousStyleCopy=null}else if(registrationNameModules.hasOwnProperty(propKey))lastProps[propKey]&&deleteListener(this._rootNodeID,propKey);else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))node||(node=ReactMount.getNode(this._rootNodeID)),DOMPropertyOperations.deleteValueForProperty(node,propKey)}for(propKey in nextProps){var nextProp=nextProps[propKey],lastProp=propKey===STYLE?this._previousStyleCopy:lastProps[propKey];if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp)continue;if(propKey===STYLE){nextProp?nextProp=this._previousStyleCopy=assign({},nextProp):this._previousStyleCopy=null;if(lastProp){for(styleName in lastProp)lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");for(styleName in nextProp)nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]=nextProp[styleName])}else styleUpdates=nextProp}else if(registrationNameModules.hasOwnProperty(propKey))nextProp?enqueuePutListener(this._rootNodeID,propKey,nextProp,transaction):lastProp&&deleteListener(this._rootNodeID,propKey);else if(isCustomComponent(this._tag,nextProps))node||(node=ReactMount.getNode(this._rootNodeID)),propKey===CHILDREN&&(nextProp=null),DOMPropertyOperations.setValueForAttribute(node,propKey,nextProp);else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))node||(node=ReactMount.getNode(this._rootNodeID)),nextProp!=null?DOMPropertyOperations.setValueForProperty(node,propKey,nextProp):DOMPropertyOperations.deleteValueForProperty(node,propKey)}styleUpdates&&(node||(node=ReactMount.getNode(this._rootNodeID)),CSSPropertyOperations.setValueForStyles(node,styleUpdates))},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null,nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null,lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html,nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html,lastChildren=lastContent!=null?null:lastProps.children,nextChildren=nextContent!=null?null:nextProps.children,lastHasContentOrHtml=lastContent!=null||lastHtml!=null,nextHasContentOrHtml=nextContent!=null||nextHtml!=null;lastChildren!=null&&nextChildren==null?this.updateChildren(null,transaction,context):lastHasContentOrHtml&&!nextHasContentOrHtml&&this.updateTextContent(""),nextContent!=null?lastContent!==nextContent&&this.updateTextContent(""+nextContent):nextHtml!=null?lastHtml!==nextHtml&&this.updateMarkup(""+nextHtml):nextChildren!=null&&this.updateChildren(nextChildren,transaction,context)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var listeners=this._wrapperState.listeners;if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].remove();break;case"input":ReactDOMInput.unmountWrapper(this);break;case"html":case"head":case"body":invariant(!1)}this.unmountChildren(),ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID),ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null;if(this._nodeWithLegacyProperties){var node=this._nodeWithLegacyProperties;node._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var node=ReactMount.getNode(this._rootNodeID);node._reactInternalComponent=this,node.getDOMNode=legacyGetDOMNode,node.isMounted=legacyIsMounted,node.setState=legacySetStateEtc,node.replaceState=legacySetStateEtc,node.forceUpdate=legacySetStateEtc,node.setProps=legacySetProps,node.replaceProps=legacyReplaceProps,node.props=this._currentElement.props,this._nodeWithLegacyProperties=node}return this._nodeWithLegacyProperties}},ReactPerf.measureMethods(ReactDOMComponent,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin),module.exports=ReactDOMComponent},{"./AutoFocusUtils":601,"./CSSPropertyOperations":604,"./DOMProperty":609,"./DOMPropertyOperations":610,"./EventConstants":614,"./Object.assign":622,"./ReactBrowserEventEmitter":626,"./ReactComponentBrowserEnvironment":631,"./ReactDOMButton":636,"./ReactDOMInput":641,"./ReactDOMOption":642,"./ReactDOMSelect":643,"./ReactDOMTextarea":647,"./ReactMount":665,"./ReactMultiChild":666,"./ReactPerf":671,"./ReactUpdateQueue":682,"./canDefineProperty":704,"./escapeTextContentForBrowser":707,"./isEventSupported":719,"./setInnerHTML":724,"./setTextContent":725,"./validateDOMNesting":728,"fbjs/lib/invariant":558,"fbjs/lib/keyOf":562,"fbjs/lib/shallowEqual":567,"fbjs/lib/warning":569}],638:[function(require,module,exports){"use strict";function createDOMFactory(tag){return ReactElement.createFactory(tag)}var ReactElement=require("./ReactElement"),ReactElementValidator=require("./ReactElementValidator"),mapObject=require("fbjs/lib/mapObject"),ReactDOMFactories=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOMFactories},{"./ReactElement":652,"./ReactElementValidator":653,"fbjs/lib/mapObject":563}],639:[function(require,module,exports){"use strict";var ReactDOMFeatureFlags={useCreateElement:!1};module.exports=ReactDOMFeatureFlags},{}],640:[function(require,module,exports){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),invariant=require("fbjs/lib/invariant"),INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);INVALID_PROPERTY_ERRORS.hasOwnProperty(name)?invariant(!1):undefined,value!=null?DOMPropertyOperations.setValueForProperty(node,name,value):DOMPropertyOperations.deleteValueForProperty(node,name)},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++)updates[i].parentNode=ReactMount.getNode(updates[i].parentID);DOMChildrenOperations.processUpdates(updates,markup)}};ReactPerf.measureMethods(ReactDOMIDOperations,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),module.exports=ReactDOMIDOperations},{"./DOMChildrenOperations":608,"./DOMPropertyOperations":610,"./ReactMount":665,"./ReactPerf":671,"fbjs/lib/invariant":558}],641:[function(require,module,exports){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMInput.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if(props.type==="radio"&&name!=null){var rootNode=ReactMount.getNode(this._rootNodeID),queryRoot=rootNode;while(queryRoot.parentNode)queryRoot=queryRoot.parentNode;var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]');for(var i=0;i<group.length;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.form!==rootNode.form)continue;var otherID=ReactMount.getID(otherNode);otherID?undefined:invariant(!1);var otherInstance=instancesByReactID[otherID];otherInstance?undefined:invariant(!1),ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}return returnValue}var ReactDOMIDOperations=require("./ReactDOMIDOperations"),LinkedValueUtils=require("./LinkedValueUtils"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),instancesByReactID={},ReactDOMInput={getNativeProps:function(inst,props,context){var value=LinkedValueUtils.getValue(props),checked=LinkedValueUtils.getChecked(props),nativeProps=assign({},props,{defaultChecked:undefined,defaultValue:undefined,value:value!=null?value:inst._wrapperState.initialValue,checked:checked!=null?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.defaultChecked||!1,initialValue:defaultValue!=null?defaultValue:null,onChange:_handleChange.bind(inst)}},mountReadyWrapper:function(inst){instancesByReactID[inst._rootNodeID]=inst},unmountWrapper:function(inst){delete instancesByReactID[inst._rootNodeID]},updateWrapper:function(inst){var props=inst._currentElement.props,checked=props.checked;checked!=null&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"checked",checked||!1);var value=LinkedValueUtils.getValue(props);value!=null&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMInput},{"./LinkedValueUtils":621,"./Object.assign":622,"./ReactDOMIDOperations":640,"./ReactMount":665,"./ReactUpdates":683,"fbjs/lib/invariant":558}],642:[function(require,module,exports){"use strict";var ReactChildren=require("./ReactChildren"),ReactDOMSelect=require("./ReactDOMSelect"),assign=require("./Object.assign"),warning=require("fbjs/lib/warning"),valueContextKey=ReactDOMSelect.valueContextKey,ReactDOMOption={mountWrapper:function(inst,props,context){var selectValue=context[valueContextKey],selected=null;if(selectValue!=null){selected=!1;if(Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++)if(""+selectValue[i]==""+props.value){selected=!0;break}}else selected=""+selectValue==""+props.value}inst._wrapperState={selected:selected}},getNativeProps:function(inst,props,context){var nativeProps=assign({selected:undefined,children:undefined},props);inst._wrapperState.selected!=null&&(nativeProps.selected=inst._wrapperState.selected);var content="";return ReactChildren.forEach(props.children,function(child){if(child==null)return;typeof child=="string"||typeof child=="number"?content+=child:undefined}),content&&(nativeProps.children=content),nativeProps}};module.exports=ReactDOMOption},{"./Object.assign":622,"./ReactChildren":628,"./ReactDOMSelect":643,"fbjs/lib/warning":569}],643:[function(require,module,exports){"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var props=this._currentElement.props,value=LinkedValueUtils.getValue(props);value!=null&&updateOptions(this,Boolean(props.multiple),value)}}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function checkSelectPropTypes(inst,props){var owner=inst._currentElement._owner;LinkedValueUtils.checkPropTypes("select",props,owner);for(var i=0;i<valuePropNames.length;i++){var propName=valuePropNames[i];if(props[propName]==null)continue;props.multiple?undefined:undefined}}function updateOptions(inst,multiple,propValue){var selectedValue,i,options=ReactMount.getNode(inst._rootNodeID).options;if(multiple){selectedValue={};for(i=0;i<propValue.length;i++)selectedValue[""+propValue[i]]=!0;for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);options[i].selected!==selected&&(options[i].selected=selected)}}else{selectedValue=""+propValue;for(i=0;i<options.length;i++)if(options[i].value===selectedValue){options[i].selected=!0;return}options.length&&(options[0].selected=!0)}}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return this._wrapperState.pendingUpdate=!0,ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this),returnValue}var LinkedValueUtils=require("./LinkedValueUtils"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),warning=require("fbjs/lib/warning"),valueContextKey="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),valuePropNames=["value","defaultValue"],ReactDOMSelect={valueContextKey:valueContextKey,getNativeProps:function(inst,props,context){return assign({},props,{onChange:inst._wrapperState.onChange,value:undefined})},mountWrapper:function(inst,props){var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:!1,initialValue:value!=null?value:props.defaultValue,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)}},processChildContext:function(inst,props,context){var childContext=assign({},context);return childContext[valueContextKey]=inst._wrapperState.initialValue,childContext},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=undefined;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);value!=null?(inst._wrapperState.pendingUpdate=!1,updateOptions(inst,Boolean(props.multiple),value)):wasMultiple!==Boolean(props.multiple)&&(props.defaultValue!=null?updateOptions(inst,Boolean(props.multiple),props.defaultValue):updateOptions(inst,Boolean(props.multiple),props.multiple?[]:""))}};module.exports=ReactDOMSelect},{"./LinkedValueUtils":621,"./Object.assign":622,"./ReactMount":665,"./ReactUpdates":683,"fbjs/lib/warning":569}],644:[function(require,module,exports){"use strict";function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection,selectedRange=selection.createRange(),selectedLength=selectedRange.text.length,fromStart=selectedRange.duplicate();fromStart.moveToElementText(node),fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length,endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||selection.rangeCount===0)return null;var anchorNode=selection.anchorNode,anchorOffset=selection.anchorOffset,focusNode=selection.focusNode,focusOffset=selection.focusOffset,currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType,currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset),rangeLength=isSelectionCollapsed?0:currentRange.toString().length,tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node),tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset),start=isTempRangeCollapsed?0:tempRange.toString().length,end=start+rangeLength,detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset),detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate(),start,end;typeof offsets.end=="undefined"?(start=offsets.start,end=start):offsets.start>offsets.end?(start=offsets.end,end=offsets.start):(start=offsets.start,end=offsets.end),range.moveToElementText(node),range.moveStart("character",start),range.setEndPoint("EndToStart",range),range.moveEnd("character",end-start),range.select()}function setModernOffsets(node,offsets){if(!window.getSelection)return;var selection=window.getSelection(),length=node[getTextContentAccessor()].length,start=Math.min(offsets.start,length),end=typeof offsets.end=="undefined"?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start,start=temp}var startMarker=getNodeForCharacterOffset(node,start),endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start>end?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),getNodeForCharacterOffset=require("./getNodeForCharacterOffset"),getTextContentAccessor=require("./getTextContentAccessor"),useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window),ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection},{"./getNodeForCharacterOffset":716,"./getTextContentAccessor":717,"fbjs/lib/ExecutionEnvironment":544}],645:[function(require,module,exports){"use strict";var ReactDefaultInjection=require("./ReactDefaultInjection"),ReactServerRendering=require("./ReactServerRendering"),ReactVersion=require("./ReactVersion");ReactDefaultInjection.inject();var ReactDOMServer={renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,version:ReactVersion};module.exports=ReactDOMServer},{"./ReactDefaultInjection":649,"./ReactServerRendering":680,"./ReactVersion":684}],646:[function(require,module,exports){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactMount=require("./ReactMount"),assign=require("./Object.assign"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),setTextContent=require("./setTextContent"),validateDOMNesting=require("./validateDOMNesting"),ReactDOMTextComponent=function(props){};assign(ReactDOMTextComponent.prototype,{construct:function(text){this._currentElement=text,this._stringText=""+text,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement("span");return DOMPropertyOperations.setAttributeForID(el,rootID),ReactMount.getID(el),setTextContent(el,this._stringText),el}var escapedText=escapeTextContentForBrowser(this._stringText);return transaction.renderToStaticMarkup?escapedText:"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"},receiveComponent:function(nextText,transaction){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var node=ReactMount.getNode(this._rootNodeID);DOMChildrenOperations.updateTextContent(node,nextStringText)}}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID)}}),module.exports=ReactDOMTextComponent},{"./DOMChildrenOperations":608,"./DOMPropertyOperations":610,"./Object.assign":622,"./ReactComponentBrowserEnvironment":631,"./ReactMount":665,"./escapeTextContentForBrowser":707,"./setTextContent":725,"./validateDOMNesting"
:728}],647:[function(require,module,exports){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMTextarea.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return ReactUpdates.asap(forceUpdateIfMounted,this),returnValue}var LinkedValueUtils=require("./LinkedValueUtils"),ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),ReactDOMTextarea={getNativeProps:function(inst,props,context){props.dangerouslySetInnerHTML!=null?invariant(!1):undefined;var nativeProps=assign({},props,{defaultValue:undefined,value:undefined,children:inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){var defaultValue=props.defaultValue,children=props.children;children!=null&&(defaultValue!=null?invariant(!1):undefined,Array.isArray(children)&&(children.length<=1?undefined:invariant(!1),children=children[0]),defaultValue=""+children),defaultValue==null&&(defaultValue="");var value=LinkedValueUtils.getValue(props);inst._wrapperState={initialValue:""+(value!=null?value:defaultValue),onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props,value=LinkedValueUtils.getValue(props);value!=null&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMTextarea},{"./LinkedValueUtils":621,"./Object.assign":622,"./ReactDOMIDOperations":640,"./ReactUpdates":683,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],648:[function(require,module,exports){"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var ReactUpdates=require("./ReactUpdates"),Transaction=require("./Transaction"),assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,alreadyBatchingUpdates?callback(a,b,c,d,e):transaction.perform(callback,null,a,b,c,d,e)}};module.exports=ReactDefaultBatchingStrategy},{"./Object.assign":622,"./ReactUpdates":683,"./Transaction":700,"fbjs/lib/emptyFunction":550}],649:[function(require,module,exports){"use strict";function inject(){if(alreadyInjected)return;alreadyInjected=!0,ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles),ReactInjection.EventPluginHub.injectMount(ReactMount),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin}),ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent),ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent),ReactInjection.Class.injectMixin(ReactBrowserComponentMixin),ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig),ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig),ReactInjection.EmptyComponent.injectEmptyComponent("noscript"),ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment)}var BeforeInputEventPlugin=require("./BeforeInputEventPlugin"),ChangeEventPlugin=require("./ChangeEventPlugin"),ClientReactRootIndex=require("./ClientReactRootIndex"),DefaultEventPluginOrder=require("./DefaultEventPluginOrder"),EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),HTMLDOMPropertyConfig=require("./HTMLDOMPropertyConfig"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy"),ReactDOMComponent=require("./ReactDOMComponent"),ReactDOMTextComponent=require("./ReactDOMTextComponent"),ReactEventListener=require("./ReactEventListener"),ReactInjection=require("./ReactInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactReconcileTransaction=require("./ReactReconcileTransaction"),SelectEventPlugin=require("./SelectEventPlugin"),ServerReactRootIndex=require("./ServerReactRootIndex"),SimpleEventPlugin=require("./SimpleEventPlugin"),SVGDOMPropertyConfig=require("./SVGDOMPropertyConfig"),alreadyInjected=!1;module.exports={inject:inject}},{"./BeforeInputEventPlugin":602,"./ChangeEventPlugin":606,"./ClientReactRootIndex":607,"./DefaultEventPluginOrder":612,"./EnterLeaveEventPlugin":613,"./HTMLDOMPropertyConfig":620,"./ReactBrowserComponentMixin":625,"./ReactComponentBrowserEnvironment":631,"./ReactDOMComponent":637,"./ReactDOMTextComponent":646,"./ReactDefaultBatchingStrategy":648,"./ReactDefaultPerf":650,"./ReactEventListener":658,"./ReactInjection":659,"./ReactInstanceHandles":661,"./ReactMount":665,"./ReactReconcileTransaction":675,"./SVGDOMPropertyConfig":685,"./SelectEventPlugin":686,"./ServerReactRootIndex":687,"./SimpleEventPlugin":688,"fbjs/lib/ExecutionEnvironment":544}],650:[function(require,module,exports){"use strict";function roundFloat(val){return Math.floor(val*100)/100}function addValue(obj,key,val){obj[key]=(obj[key]||0)+val}var DOMProperty=require("./DOMProperty"),ReactDefaultPerfAnalysis=require("./ReactDefaultPerfAnalysis"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),performanceNow=require("fbjs/lib/performanceNow"),ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){ReactDefaultPerf._injected||ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure),ReactDefaultPerf._allMeasurements.length=0,ReactPerf.enableMeasure=!0},stop:function(){ReactPerf.enableMeasure=!1},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Exclusive mount time (ms)":roundFloat(item.exclusive),"Exclusive render time (ms)":roundFloat(item.render),"Mount time per instance (ms)":roundFloat(item.exclusive/item.count),"Render time per instance (ms)":roundFloat(item.render/item.count),Instances:item.count}}))},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,!0);return summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements,console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements)),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};return result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id,result.type=item.type,result.args=JSON.stringify(item.args),result})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[],writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var totalTime,rv,start;if(fnName==="_renderNewRootComponent"||fnName==="flushBatchedUpdates")return ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),start=performanceNow(),rv=func.apply(this,args),ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start,rv;if(fnName==="_mountImageIntoNode"||moduleName==="ReactBrowserEventEmitter"||moduleName==="ReactDOMIDOperations"||moduleName==="CSSPropertyOperations"||moduleName==="DOMChildrenOperations"||moduleName==="DOMPropertyOperations"){start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start;if(fnName==="_mountImageIntoNode"){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else if(fnName==="dangerouslyProcessChildrenUpdates")args[0].forEach(function(update){var writeArgs={};update.fromIndex!==null&&(writeArgs.fromIndex=update.fromIndex),update.toIndex!==null&&(writeArgs.toIndex=update.toIndex),update.textContent!==null&&(writeArgs.textContent=update.textContent),update.markupIndex!==null&&(writeArgs.markup=args[1][update.markupIndex]),ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)});else{var id=args[0];typeof id=="object"&&(id=ReactMount.getID(args[0])),ReactDefaultPerf._recordWrite(id,fnName,totalTime,Array.prototype.slice.call(args,1))}return rv}if(moduleName!=="ReactCompositeComponent"||fnName!=="mountComponent"&&fnName!=="updateComponent"&&fnName!=="_renderValidatedComponent")return func.apply(this,args);if(this._currentElement.type===ReactMount.TopLevelWrapper)return func.apply(this,args);var rootNodeID=fnName==="mountComponent"?args[0]:this._rootNodeID,isRender=fnName==="_renderValidatedComponent",isMount=fnName==="mountComponent",mountStack=ReactDefaultPerf._mountStack,entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];isRender?addValue(entry.counts,rootNodeID,1):isMount&&(entry.created[rootNodeID]=!0,mountStack.push(0)),start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start;if(isRender)addValue(entry.render,rootNodeID,totalTime);else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime,addValue(entry.exclusive,rootNodeID,totalTime-subMountTime),addValue(entry.inclusive,rootNodeID,totalTime)}else addValue(entry.inclusive,rootNodeID,totalTime);return entry.displayNames[rootNodeID]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},rv}}};module.exports=ReactDefaultPerf},{"./DOMProperty":609,"./ReactDefaultPerfAnalysis":651,"./ReactMount":665,"./ReactPerf":671,"fbjs/lib/performanceNow":566}],651:[function(require,module,exports){"use strict";function getTotalTime(measurements){var totalTime=0;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){var items=[];return measurements.forEach(function(measurement){Object.keys(measurement.writes).forEach(function(id){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})})}),items}function getExclusiveSummary(measurements){var candidates={},displayName;for(var i=0;i<measurements.length;i++){var measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs)displayName=measurement.displayNames[id].current,candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0},measurement.render[id]&&(candidates[displayName].render+=measurement.render[id]),measurement.exclusive[id]&&(candidates[displayName].exclusive+=measurement.exclusive[id]),measurement.inclusive[id]&&(candidates[displayName].inclusive+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[displayName].count+=measurement.counts[id])}var arr=[];for(displayName in candidates)candidates[displayName].exclusive>=DONT_CARE_THRESHOLD&&arr.push(candidates[displayName]);return arr.sort(function(a,b){return b.exclusive-a.exclusive}),arr}function getInclusiveSummary(measurements,onlyClean){var candidates={},inclusiveKey;for(var i=0;i<measurements.length;i++){var measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive),cleanComponents;onlyClean&&(cleanComponents=getUnchangedComponents(measurement));for(var id in allIDs){if(onlyClean&&!cleanComponents[id])continue;var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current,candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0},measurement.inclusive[id]&&(candidates[inclusiveKey].time+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[inclusiveKey].count+=measurement.counts[id])}}var arr=[];for(inclusiveKey in candidates)candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD&&arr.push(candidates[inclusiveKey]);return arr.sort(function(a,b){return b.time-a.time}),arr}function getUnchangedComponents(measurement){var cleanComponents={},dirtyLeafIDs=Object.keys(measurement.writes),allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){var isDirty=!1;for(var i=0;i<dirtyLeafIDs.length;i++)if(dirtyLeafIDs[i].indexOf(id)===0){isDirty=!0;break}measurement.created[id]&&(isDirty=!0),!isDirty&&measurement.counts[id]>0&&(cleanComponents[id]=!0)}return cleanComponents}var assign=require("./Object.assign"),DONT_CARE_THRESHOLD=1.2,DOM_OPERATION_TYPES={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis},{"./Object.assign":622}],652:[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner"),assign=require("./Object.assign"),canDefineProperty=require("./canDefineProperty"),REACT_ELEMENT_TYPE=typeof Symbol=="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103,RESERVED_PROPS={key:!0,ref:!0,__self:!0,__source:!0},ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};return element};ReactElement.createElement=function(type,config,children){var propName,props={},key=null,ref=null,self=null,source=null;if(config!=null){ref=config.ref===undefined?null:config.ref,key=config.key===undefined?null:""+config.key,self=config.__self===undefined?null:config.__self,source=config.__source===undefined?null:config.__source;for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(childrenLength===1)props.children=children;else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps)typeof props[propName]=="undefined"&&(props[propName]=defaultProps[propName])}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)},ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);return factory.type=type,factory},ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement},ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,newProps);return newElement},ReactElement.cloneElement=function(element,config,children){var propName,props=assign({},element.props),key=element.key,ref=element.ref,self=element._self,source=element._source,owner=element._owner;if(config!=null){config.ref!==undefined&&(ref=config.ref,owner=ReactCurrentOwner.current),config.key!==undefined&&(key=""+config.key);for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(childrenLength===1)props.children=children;else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)},ReactElement.isValidElement=function(object){return typeof object=="object"&&object!==null&&object.$$typeof===REACT_ELEMENT_TYPE},module.exports=ReactElement},{"./Object.assign":622,"./ReactCurrentOwner":634,"./canDefineProperty":704}],653:[function(require,module,exports){"use strict";function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name)return" Check the render method of `"+name+"`."}return""}function validateExplicitKey(element,parentType){if(!element._store||element._store.validated||element.key!=null)return;element._store.validated=!0;var addenda=getAddendaForKeyUse("uniqueKey",element,parentType);if(addenda===null)return;undefined}function getAddendaForKeyUse(messageType,element,parentType){var addendum=getDeclarationErrorAddendum();if(!addendum){var parentName=typeof parentType=="string"?parentType:parentType.displayName||parentType.name;parentName&&(addendum=" Check the top-level render call using <"+parentName+">.")}var memoizer=ownerHasKeyUseWarning[messageType]||(ownerHasKeyUseWarning[messageType]={});if(memoizer[addendum])return null;memoizer[addendum]=!0;var addenda={parentOrOwner:addendum,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return element&&element._owner&&element._owner!==ReactCurrentOwner.current&&(addenda.childOwner=" It was passed a child from "+element._owner.getName()+"."),addenda}function validateChildKeys(node,parentType){if(typeof node!="object")return;if(Array.isArray(node))for(var i=0;i<node.length;i++){var child=node[i];ReactElement.isValidElement(child)&&validateExplicitKey(child,parentType)}else if(ReactElement.isValidElement(node))node._store&&(node._store.validated=!0);else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn&&iteratorFn!==node.entries){var iterator=iteratorFn.call(node),step;while(!(step=iterator.next()).done)ReactElement.isValidElement(step.value)&&validateExplicitKey(step.value,parentType)}}}function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{typeof propTypes[propName]!="function"?invariant(!1):undefined,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}undefined;if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var addendum=getDeclarationErrorAddendum();undefined}}}function validatePropTypes(element){var componentClass=element.type;if(typeof componentClass!="function")return;var name=componentClass.displayName||componentClass.name;componentClass.propTypes&&checkPropTypes(name,componentClass.propTypes,element.props,ReactPropTypeLocations.prop),typeof componentClass.getDefaultProps=="function"&&undefined}var ReactElement=require("./ReactElement"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactCurrentOwner=require("./ReactCurrentOwner"),canDefineProperty=require("./canDefineProperty"),getIteratorFn=require("./getIteratorFn"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),ownerHasKeyUseWarning={},loggedTypeFailures={},ReactElementValidator={createElement:function(type,props,children){var validType=typeof type=="string"||typeof type=="function";undefined;var element=ReactElement.createElement.apply(this,arguments);if(element==null)return element;if(validType)for(var i=2;i<arguments.length;i++)validateChildKeys(arguments[i],type);return validatePropTypes(element),element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);return validatedFactory.type=type,validatedFactory},cloneElement:function(element,props,children){var newElement=ReactElement.cloneElement.apply(this,arguments);for(var i=2;i<arguments.length;i++)validateChildKeys(arguments[i],newElement.type);return validatePropTypes(newElement),newElement}};module.exports=ReactElementValidator},{"./ReactCurrentOwner":634,"./ReactElement":652,"./ReactPropTypeLocationNames":672,"./ReactPropTypeLocations":673,"./canDefineProperty":704,"./getIteratorFn":715,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],654:[function(require,module,exports){"use strict";function registerNullComponentID(){ReactEmptyComponentRegistry.registerNullComponentID(this._rootNodeID)}var ReactElement=require("./ReactElement"),ReactEmptyComponentRegistry=require("./ReactEmptyComponentRegistry"),ReactReconciler=require("./ReactReconciler"),assign=require("./Object.assign"),placeholderElement,ReactEmptyComponentInjection={injectEmptyComponent:function(component){placeholderElement=ReactElement.createElement(component)}},ReactEmptyComponent=function(instantiate){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=instantiate(placeholderElement)};assign(ReactEmptyComponent.prototype,{construct:function(element){},mountComponent:function(rootID,transaction,context){return transaction.getReactMountReady().enqueue(registerNullComponentID,this),this._rootNodeID=rootID,ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,context)},receiveComponent:function(){},unmountComponent:function(rootID,transaction,context){ReactReconciler.unmountComponent(this._renderedComponent),ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),ReactEmptyComponent.injection=ReactEmptyComponentInjection,module.exports=ReactEmptyComponent},{"./Object.assign":622,"./ReactElement":652,"./ReactEmptyComponentRegistry":655,"./ReactReconciler":676}],655:[function(require,module,exports){"use strict";function isNullComponentID(id){return!!nullComponentIDsRegistry[id]}function registerNullComponentID(id){nullComponentIDsRegistry[id]=!0}function deregisterNullComponentID(id){delete nullComponentIDsRegistry[id]}var nullComponentIDsRegistry={},ReactEmptyComponentRegistry={isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID,deregisterNullComponentID:deregisterNullComponentID};module.exports=ReactEmptyComponentRegistry},{}],656:[function(require,module,exports){"use strict";function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){return caughtError===null&&(caughtError=x),undefined}}var caughtError=null,ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;throw caughtError=null,error}}};module.exports=ReactErrorUtils},{}],657:[function(require,module,exports){"use strict";function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events),EventPluginHub.processEventQueue(!1)}var EventPluginHub=require("./EventPluginHub"),ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":615}],658:[function(require,module,exports){"use strict";function findParent(node){var nodeID=ReactMount.getID(node),rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),container=ReactMount.findReactContainerForID(rootID),parent=ReactMount.getFirstReactDOM(container);return parent}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType,this.nativeEvent=nativeEvent,this.ancestors=[]}function handleTopLevelImpl(bookKeeping){void handleTopLevelWithPath,handleTopLevelWithoutPath(bookKeeping)}function handleTopLevelWithoutPath(bookKeeping){var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window,ancestor=topLevelTarget;while(ancestor)bookKeeping.ancestors.push(ancestor),ancestor=findParent(ancestor);for(var i=0;i<bookKeeping.ancestors.length;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function handleTopLevelWithPath(bookKeeping){var path=bookKeeping.nativeEvent.path,currentNativeTarget=path[0],eventsFired=0;for(var i=0;i<path.length;i++){var currentPathElement=path[i];currentPathElement.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE&&(currentNativeTarget=path[i+1]);var reactParent=ReactMount.getFirstReactDOM(currentPathElement);if(reactParent===currentPathElement){var currentPathElementID=ReactMount.getID(currentPathElement),newRootID=ReactInstanceHandles.getReactRootIDFromNodeID(currentPathElementID);bookKeeping.ancestors.push(currentPathElement);var topLevelTargetID=ReactMount.getID(currentPathElement)||"";eventsFired++,ReactEventListener._handleTopLevel(bookKeeping.topLevelType,currentPathElement,topLevelTargetID,bookKeeping.nativeEvent,currentNativeTarget);while(currentPathElementID!==newRootID)i++,currentPathElement=path[i],currentPathElementID=ReactMount.getID(currentPathElement)}}eventsFired===0&&ReactEventListener._handleTopLevel(bookKeeping.topLevelType,window,"",bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var EventListener=require("fbjs/lib/EventListener"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),PooledClass=require("./PooledClass"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),getEventTarget=require("./getEventTarget"),getUnboundedScrollPosition=require("fbjs/lib/getUnboundedScrollPosition"),DOCUMENT_FRAGMENT_NODE_TYPE=11;assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);var ReactEventListener={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(!ReactEventListener._enabled)return;var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}};module.exports=ReactEventListener},{"./Object.assign":622,"./PooledClass":623,"./ReactInstanceHandles":661,"./ReactMount":665,"./ReactUpdates":683,"./getEventTarget":714,"fbjs/lib/EventListener":543,"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/getUnboundedScrollPosition":555}],659:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty"),EventPluginHub=require("./EventPluginHub"),ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactClass=require("./ReactClass"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactNativeComponent=require("./ReactNativeComponent"),ReactPerf=require("./ReactPerf"),ReactRootIndex=require("./ReactRootIndex"),ReactUpdates=require("./ReactUpdates"),ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection},{"./DOMProperty":609,"./EventPluginHub":615,"./ReactBrowserEventEmitter":626,"./ReactClass":629,"./ReactComponentEnvironment":632,"./ReactEmptyComponent":654,"./ReactNativeComponent":668,"./ReactPerf":671,"./ReactRootIndex":678,"./ReactUpdates":683}],660:[function(require,module,exports){"use strict";function isInDocument(node){return containsNode(document.documentElement,node)}var ReactDOMSelection=require("./ReactDOMSelection"),containsNode=require("fbjs/lib/containsNode"),focusNode=require("fbjs/lib/focusNode"),getActiveElement=require("fbjs/lib/getActiveElement"),ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==="input"&&elem.type==="text"||nodeName==="textarea"||elem.contentEditable==="true")},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement(),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)&&(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)&&ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange),focusNode(priorFocusedElem))},getSelection:function(input){var selection;if("selectionStart"in input)selection={start:input.selectionStart,end:input.selectionEnd};else if(document.selection&&input.nodeName&&input.nodeName.toLowerCase()==="input"){var range=document.selection.createRange();range.parentElement()===input&&(selection={start:-
range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)})}else selection=ReactDOMSelection.getOffsets(input);return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start,end=offsets.end;typeof end=="undefined"&&(end=start);if("selectionStart"in input)input.selectionStart=start,input.selectionEnd=Math.min(end,input.value.length);else if(document.selection&&input.nodeName&&input.nodeName.toLowerCase()==="input"){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",start),range.moveEnd("character",end-start),range.select()}else ReactDOMSelection.setOffsets(input,offsets)}};module.exports=ReactInputSelection},{"./ReactDOMSelection":644,"fbjs/lib/containsNode":547,"fbjs/lib/focusNode":552,"fbjs/lib/getActiveElement":553}],661:[function(require,module,exports){"use strict";function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return id===""||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return descendantID.indexOf(ancestorID)===0&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){!isValidID(ancestorID)||!isValidID(destinationID)?invariant(!1):undefined,isAncestorIDOf(ancestorID,destinationID)?undefined:invariant(!1);if(ancestorID===destinationID)return ancestorID;var start=ancestorID.length+SEPARATOR_LENGTH,i;for(i=start;i<destinationID.length;i++)if(isBoundary(destinationID,i))break;return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(minLength===0)return"";var lastCommonMarkerIndex=0;for(var i=0;i<=minLength;i++)if(isBoundary(oneID,i)&&isBoundary(twoID,i))lastCommonMarkerIndex=i;else if(oneID.charAt(i)!==twoID.charAt(i))break;var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);return isValidID(longestCommonID)?undefined:invariant(!1),longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"",stop=stop||"",start===stop?invariant(!1):undefined;var traverseUp=isAncestorIDOf(stop,start);!traverseUp&&!isAncestorIDOf(start,stop)?invariant(!1):undefined;var depth=0,traverse=traverseUp?getParentID:getNextDescendantID;for(var id=start;;id=traverse(id,stop)){var ret;(!skipFirst||id!==start)&&(!skipLast||id!==stop)&&(ret=cb(id,traverseUp,arg));if(ret===!1||id===stop)break;depth++<MAX_TREE_DEPTH?undefined:invariant(!1)}}var ReactRootIndex=require("./ReactRootIndex"),invariant=require("fbjs/lib/invariant"),SEPARATOR=".",SEPARATOR_LENGTH=SEPARATOR.length,MAX_TREE_DEPTH=1e4,ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);ancestorID!==leaveID&&traverseParentPath(leaveID,ancestorID,cb,upArg,!1,!0),ancestorID!==enterID&&traverseParentPath(ancestorID,enterID,cb,downArg,!0,!1)},traverseTwoPhase:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!1),traverseParentPath(targetID,"",cb,arg,!1,!0))},traverseTwoPhaseSkipTarget:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!0),traverseParentPath(targetID,"",cb,arg,!0,!0))},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,!0,!1)},getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles},{"./ReactRootIndex":678,"fbjs/lib/invariant":558}],662:[function(require,module,exports){"use strict";var ReactInstanceMap={remove:function(key){key._reactInternalInstance=undefined},get:function(key){return key._reactInternalInstance},has:function(key){return key._reactInternalInstance!==undefined},set:function(key,value){key._reactInternalInstance=value}};module.exports=ReactInstanceMap},{}],663:[function(require,module,exports){"use strict";var ReactChildren=require("./ReactChildren"),ReactComponent=require("./ReactComponent"),ReactClass=require("./ReactClass"),ReactDOMFactories=require("./ReactDOMFactories"),ReactElement=require("./ReactElement"),ReactElementValidator=require("./ReactElementValidator"),ReactPropTypes=require("./ReactPropTypes"),ReactVersion=require("./ReactVersion"),assign=require("./Object.assign"),onlyChild=require("./onlyChild"),createElement=ReactElement.createElement,createFactory=ReactElement.createFactory,cloneElement=ReactElement.cloneElement,React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:assign};module.exports=React},{"./Object.assign":622,"./ReactChildren":628,"./ReactClass":629,"./ReactComponent":630,"./ReactDOMFactories":638,"./ReactElement":652,"./ReactElementValidator":653,"./ReactPropTypes":674,"./ReactVersion":684,"./onlyChild":721}],664:[function(require,module,exports){"use strict";var adler32=require("./adler32"),TAG_END=/\/?>/,ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":703}],665:[function(require,module,exports){"use strict";function firstDifferenceIndex(string1,string2){var minLen=Math.min(string1.length,string2.length);for(var i=0;i<minLen;i++)if(string1.charAt(i)!==string2.charAt(i))return i;return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){return container?container.nodeType===DOC_NODE_TYPE?container.documentElement:container.firstChild:null}function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id)if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];cached!==node&&(isValid(cached,id)?invariant(!1):undefined,nodeCache[id]=node)}else nodeCache[id]=node;return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);oldID!==id&&delete nodeCache[oldID],node.setAttribute(ATTR_NAME,id),nodeCache[id]=node}function getNode(id){if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id))nodeCache[id]=ReactMount.findReactNodeByID(id);return nodeCache[id]}function getNodeFromInstance(instance){var id=ReactInstanceMap.get(instance)._rootNodeID;if(ReactEmptyComponentRegistry.isNullComponentID(id))return null;if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id))nodeCache[id]=ReactMount.findReactNodeByID(id);return nodeCache[id]}function isValid(node,id){if(node){internalGetID(node)!==id?invariant(!1):undefined;var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node))return!0}return!1}function purgeID(id){delete nodeCache[id]}function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];if(!ancestor||!isValid(ancestor,ancestorID))return!1;deepestNodeSoFar=ancestor}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null,ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;return deepestNodeSoFar=null,foundNode}function mountComponentIntoNode(componentInstance,rootID,container,transaction,shouldReuseMarkup,context){ReactDOMFeatureFlags.useCreateElement&&(context=assign({},context),container.nodeType===DOC_NODE_TYPE?context[ownerDocumentContextKey]=container:context[ownerDocumentContextKey]=container.ownerDocument);var markup=ReactReconciler.mountComponent(componentInstance,rootID,transaction,context);componentInstance._renderedComponent._topLevelWrapper=componentInstance,ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,rootID,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(shouldReuseMarkup);transaction.perform(mountComponentIntoNode,null,componentInstance,rootID,container,transaction,shouldReuseMarkup,context),ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container){ReactReconciler.unmountComponent(instance),container.nodeType===DOC_NODE_TYPE&&(container=container.documentElement);while(container.lastChild)container.removeChild(container.lastChild)}function hasNonRootReactChild(node){var reactRootID=getReactRootID(node);return reactRootID?reactRootID!==ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID):!1}function findFirstReactDOMImpl(node){for(;node&&node.parentNode!==node;node=node.parentNode){if(node.nodeType!==1)continue;var nodeID=internalGetID(node);if(!nodeID)continue;var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),current=node,lastID;do{lastID=internalGetID(current),current=current.parentNode;if(current==null)return null}while(lastID!==reactRootID);if(current===containersByReactRootID[reactRootID])return node}return null}var DOMProperty=require("./DOMProperty"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactDOMFeatureFlags=require("./ReactDOMFeatureFlags"),ReactElement=require("./ReactElement"),ReactEmptyComponentRegistry=require("./ReactEmptyComponentRegistry"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactInstanceMap=require("./ReactInstanceMap"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),ReactUpdateQueue=require("./ReactUpdateQueue"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),emptyObject=require("fbjs/lib/emptyObject"),containsNode=require("fbjs/lib/containsNode"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("fbjs/lib/invariant"),setInnerHTML=require("./setInnerHTML"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),validateDOMNesting=require("./validateDOMNesting"),warning=require("fbjs/lib/warning"),ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME,nodeCache={},ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,DOCUMENT_FRAGMENT_NODE_TYPE=11,ownerDocumentContextKey="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),instancesByReactRootID={},containersByReactRootID={},findComponentRootReusableArray=[],deepestNodeSoFar=null,TopLevelWrapper=function(){};TopLevelWrapper.prototype.isReactComponent={},TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,container,callback){return ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement),callback&&ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}),prevComponent},_registerComponent:function(nextComponent,container){!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1):undefined,ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);return instancesByReactRootID[reactRootID]=nextComponent,reactRootID},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){undefined;var componentInstance=instantiateReactComponent(nextElement,null),reactRootID=ReactMount._registerComponent(componentInstance,container);return ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,reactRootID,container,shouldReuseMarkup,context),componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){return parentComponent==null||parentComponent._reactInternalInstance==null?invariant(!1):undefined,ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){ReactElement.isValidElement(nextElement)?undefined:invariant(!1),undefined;var nextWrappedElement=new ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement),prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevWrappedElement=prevComponent._currentElement,prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance(),updatedCallback=callback&&function(){callback.call(publicInst)};return ReactMount._updateRootComponent(prevComponent,nextWrappedElement,container,updatedCallback),publicInst}ReactMount.unmountComponentAtNode(container)}var reactRootElement=getReactRootElementInContainer(container),containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement),containerHasNonRootReactChild=hasNonRootReactChild(container),shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild,component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,parentComponent!=null?parentComponent._reactInternalInstance._processChildContext(parentComponent._reactInternalInstance._context):emptyObject)._renderedComponent.getPublicInstance();return callback&&callback.call(component),component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},registerContainer:function(container){var reactRootID=getReactRootID(container);return reactRootID&&(reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)),reactRootID||(reactRootID=ReactInstanceHandles.createReactRootID()),containersByReactRootID[reactRootID]=container,reactRootID},unmountComponentAtNode:function(container){undefined,!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1):undefined;var reactRootID=getReactRootID(container),component=instancesByReactRootID[reactRootID];if(!component){var containerHasNonRootReactChild=hasNonRootReactChild(container),containerID=internalGetID(container),isContainerReactRoot=containerID&&containerID===ReactInstanceHandles.getReactRootIDFromNodeID(containerID);return!1}return ReactUpdates.batchedUpdates(unmountComponentFromNode,component,container),delete instancesByReactRootID[reactRootID],delete containersByReactRootID[reactRootID],!0},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id),container=containersByReactRootID[reactRootID];return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},getFirstReactDOM:function(node){return findFirstReactDOMImpl(node)},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray,childIndex=0,deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;firstChildren[0]=deepestAncestor.firstChild,firstChildren.length=1;while(childIndex<firstChildren.length){var child=firstChildren[childIndex++],targetChild;while(child){var childID=ReactMount.getID(child);childID?targetID===childID?targetChild=child:ReactInstanceHandles.isAncestorIDOf(childID,targetID)&&(firstChildren.length=childIndex=0,firstChildren.push(child.firstChild)):firstChildren.push(child.firstChild),child=child.nextSibling}if(targetChild)return firstChildren.length=0,targetChild}firstChildren.length=0,invariant(!1)},_mountImageIntoNode:function(markup,container,shouldReuseMarkup,transaction){!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1):undefined;if(shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement))return;var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizedMarkup=markup,diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup),difference=" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20);container.nodeType===DOC_NODE_TYPE?invariant(!1):undefined}container.nodeType===DOC_NODE_TYPE?invariant(!1):undefined;if(transaction.useCreateElement){while(container.lastChild)container.removeChild(container.lastChild);container.appendChild(markup)}else setInnerHTML(container,markup)},ownerDocumentContextKey:ownerDocumentContextKey,getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,isValid:isValid,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),module.exports=ReactMount},{"./DOMProperty":609,"./Object.assign":622,"./ReactBrowserEventEmitter":626,"./ReactCurrentOwner":634,"./ReactDOMFeatureFlags":639,"./ReactElement":652,"./ReactEmptyComponentRegistry":655,"./ReactInstanceHandles":661,"./ReactInstanceMap":662,"./ReactMarkupChecksum":664,"./ReactPerf":671,"./ReactReconciler":676,"./ReactUpdateQueue":682,"./ReactUpdates":683,"./instantiateReactComponent":718,"./setInnerHTML":724,"./shouldUpdateReactComponent":726,"./validateDOMNesting":728,"fbjs/lib/containsNode":547,"fbjs/lib/emptyObject":551,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],666:[function(require,module,exports){"use strict";function enqueueInsertMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,content:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:null})}function enqueueSetMarkup(parentID,markup){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.SET_MARKUP,markupIndex:null,content:markup,fromIndex:null,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,content:textContent,fromIndex:null,toIndex:null})}function processQueue(){updateQueue.length&&(ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue),clearQueue())}function clearQueue(){updateQueue.length=0,markupQueue.length=0}var ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactReconciler=require("./ReactReconciler"),ReactChildReconciler=require("./ReactChildReconciler"),flattenChildren=require("./flattenChildren"),updateDepth=0,updateQueue=[],markupQueue=[],ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,transaction,context){var nextChildren;return nextChildren=flattenChildren(nextNestedChildrenElements),ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[],index=0;for(var name in children)if(children.hasOwnProperty(name)){var child=children[name],rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index++,mountImages.push(mountImage)}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChild(prevChildren[name]);this.setTextContent(nextContent),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateMarkup:function(nextMarkup){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChildByName(prevChildren[name],name);this.setMarkup(nextMarkup),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateChildren:function(nextNestedChildrenElements,transaction,context){updateDepth++;var errorThrown=!0;try{this._updateChildren(nextNestedChildrenElements,transaction,context),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren,nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,transaction,context);this._renderedChildren=nextChildren;if(!nextChildren&&!prevChildren)return;var name,lastIndex=0,nextIndex=0;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name))continue;var prevChild=prevChildren&&prevChildren[name],nextChild=nextChildren[name];prevChild===nextChild?(this.moveChild(prevChild,nextIndex,lastIndex),lastIndex=Math.max(prevChild._mountIndex,lastIndex),prevChild._mountIndex=nextIndex):(prevChild&&(lastIndex=Math.max(prevChild._mountIndex,lastIndex),this._unmountChild(prevChild)),this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction,context)),nextIndex++}for(name in prevChildren)prevChildren.hasOwnProperty(name)&&(!nextChildren||!nextChildren.hasOwnProperty(name))&&this._unmountChild(prevChildren[name])},unmountChildren:function(){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren),this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){child._mountIndex<lastIndex&&enqueueMove(this._rootNodeID,child._mountIndex,toIndex)},createChild:function(child,mountImage){enqueueInsertMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},setMarkup:function(markup){enqueueSetMarkup(this._rootNodeID,markup)},_mountChildByNameAtIndex:function(child,name,index,transaction,context){var rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index,this.createChild(child,mountImage)},_unmountChild:function(child){this.removeChild(child),child._mountIndex=null}}};module.exports=ReactMultiChild},{"./ReactChildReconciler":627,"./ReactComponentEnvironment":632,"./ReactCurrentOwner":634,"./ReactMultiChildUpdateTypes":667,"./ReactReconciler":676,"./flattenChildren":709}],667:[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror"),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"fbjs/lib/keyMirror":561}],668:[function(require,module,exports){"use strict";function getComponentClassForElement(element){if(typeof element.type=="function")return element.type;var tag=element.type,componentClass=tagToComponentClass[tag];return componentClass==null&&(tagToComponentClass[tag]=componentClass=autoGenerateWrapperClass(tag)),componentClass}function createInternalComponent(element){return genericComponentClass?undefined:invariant(!1),new genericComponentClass(element.type,element.props)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),autoGenerateWrapperClass=null,genericComponentClass=null,tagToComponentClass={},textComponentClass=null,ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses)}},ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent},{"./Object.assign":622,"fbjs/lib/invariant":558}],669:[function(require,module,exports){"use strict";function warnTDZ(publicInstance,callerName){}var warning=require("fbjs/lib/warning"),ReactNoopUpdateQueue={isMounted:function(publicInstance){return!1},enqueueCallback:function(publicInstance,callback){},enqueueForceUpdate:function(publicInstance){warnTDZ(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance,completeState){warnTDZ(publicInstance,"replaceState")},enqueueSetState:function(publicInstance,partialState){warnTDZ(publicInstance,"setState")},enqueueSetProps:function(publicInstance,partialProps){warnTDZ(publicInstance,"setProps")},enqueueReplaceProps:function(publicInstance,props){warnTDZ(publicInstance,"replaceProps")}};module.exports=ReactNoopUpdateQueue},{"fbjs/lib/warning":569}],670:[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant"),ReactOwner={isValidOwner:function(object){return!!object&&typeof object.attachRef=="function"&&typeof object.detachRef=="function"},addComponentAsRefTo:function(component,ref,owner){ReactOwner.isValidOwner(owner)?undefined:invariant(!1),owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){ReactOwner.isValidOwner(owner)?undefined:invariant(!1),owner.getPublicInstance().refs[ref]===component.getPublicInstance()&&owner.detachRef(ref)}};module.exports=ReactOwner},{"fbjs/lib/invariant":558}],671:[function(require,module,exports){"use strict";function _noMeasure(objName,fnName,func){return func}var ReactPerf={enableMeasure:!1,storedMeasure:_noMeasure,measureMethods:function(object,objectName,methodNames){},measure:function(objName,fnName,func){return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};module.exports=ReactPerf},{}],672:[function(require,module,exports){"use strict";var ReactPropTypeLocationNames={};module.exports=ReactPropTypeLocationNames},{}],673:[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror"),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{"fbjs/lib/keyMirror":561}],674:[function(require,module,exports){"use strict";function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName){componentName=componentName||ANONYMOUS,propFullName=propFullName||propName;if(props[propName]==null){var locationName=ReactPropTypeLocationNames[location];return isRequired?new Error("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`.")):null}return validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location],preciseType=getPreciseType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location],propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]");if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(props[propName]instanceof expectedClass)return null;var locationName=ReactPropTypeLocationNames[location],expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++)if(propValue===expectedValues[i])return null;var locationName=ReactPropTypeLocationNames[location],valuesString=JSON.stringify(expectedValues);return new Error("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return Array.isArray(expectedValues)?createChainableTypeChecker(validate):createChainableTypeChecker(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue)if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key);if(error instanceof Error)return error}return null}return createChainableTypeChecker
(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location,propFullName)==null)return null}var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return Array.isArray(arrayOfTypeCheckers)?createChainableTypeChecker(validate):createChainableTypeChecker(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker)continue;var error=checker(propValue,key,componentName,location,propFullName+"."+key);if(error)return error}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(propValue===null||ReactElement.isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(!iteratorFn)return!1;var iterator=iteratorFn.call(propValue),step;if(iteratorFn!==propValue.entries){while(!(step=iterator.next()).done)if(!isNode(step.value))return!1}else while(!(step=iterator.next()).done){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":propType}function getPreciseType(propValue){var propType=getPropType(propValue);if(propType==="object"){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getClassName(propValue){return!propValue.constructor||!propValue.constructor.name?"<<anonymous>>":propValue.constructor.name}var ReactElement=require("./ReactElement"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),emptyFunction=require("fbjs/lib/emptyFunction"),getIteratorFn=require("./getIteratorFn"),ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};module.exports=ReactPropTypes},{"./ReactElement":652,"./ReactPropTypeLocationNames":672,"./getIteratorFn":715,"fbjs/lib/emptyFunction":550}],675:[function(require,module,exports){"use strict";function ReactReconcileTransaction(forceHTML){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!forceHTML&&ReactDOMFeatureFlags.useCreateElement}var CallbackQueue=require("./CallbackQueue"),PooledClass=require("./PooledClass"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactDOMFeatureFlags=require("./ReactDOMFeatureFlags"),ReactInputSelection=require("./ReactInputSelection"),Transaction=require("./Transaction"),assign=require("./Object.assign"),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();return ReactBrowserEventEmitter.setEnabled(!1),currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction},{"./CallbackQueue":605,"./Object.assign":622,"./PooledClass":623,"./ReactBrowserEventEmitter":626,"./ReactDOMFeatureFlags":639,"./ReactInputSelection":660,"./Transaction":700}],676:[function(require,module,exports){"use strict";function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactRef=require("./ReactRef"),ReactReconciler={mountComponent:function(internalInstance,rootID,transaction,context){var markup=internalInstance.mountComponent(rootID,transaction,context);return internalInstance._currentElement&&internalInstance._currentElement.ref!=null&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance),markup},unmountComponent:function(internalInstance){ReactRef.detachRefs(internalInstance,internalInstance._currentElement),internalInstance.unmountComponent()},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement===prevElement&&context===internalInstance._context)return;var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);refsChanged&&ReactRef.detachRefs(internalInstance,prevElement),internalInstance.receiveComponent(nextElement,transaction,context),refsChanged&&internalInstance._currentElement&&internalInstance._currentElement.ref!=null&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance)},performUpdateIfNecessary:function(internalInstance,transaction){internalInstance.performUpdateIfNecessary(transaction)}};module.exports=ReactReconciler},{"./ReactRef":677}],677:[function(require,module,exports){"use strict";function attachRef(ref,component,owner){typeof ref=="function"?ref(component.getPublicInstance()):ReactOwner.addComponentAsRefTo(component,ref,owner)}function detachRef(ref,component,owner){typeof ref=="function"?ref(null):ReactOwner.removeComponentAsRefFrom(component,ref,owner)}var ReactOwner=require("./ReactOwner"),ReactRef={};ReactRef.attachRefs=function(instance,element){if(element===null||element===!1)return;var ref=element.ref;ref!=null&&attachRef(ref,instance,element._owner)},ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===!1,nextEmpty=nextElement===null||nextElement===!1;return prevEmpty||nextEmpty||nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref},ReactRef.detachRefs=function(instance,element){if(element===null||element===!1)return;var ref=element.ref;ref!=null&&detachRef(ref,instance,element._owner)},module.exports=ReactRef},{"./ReactOwner":670}],678:[function(require,module,exports){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}},ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex},{}],679:[function(require,module,exports){"use strict";var ReactServerBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback){}};module.exports=ReactServerBatchingStrategy},{}],680:[function(require,module,exports){"use strict";function renderToString(element){ReactElement.isValidElement(element)?undefined:invariant(!1);var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!1),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null),markup=componentInstance.mountComponent(id,transaction,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}function renderToStaticMarkup(element){ReactElement.isValidElement(element)?undefined:invariant(!1);var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!0),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,emptyObject)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy"),ReactElement=require("./ReactElement"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactServerBatchingStrategy=require("./ReactServerBatchingStrategy"),ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction"),ReactUpdates=require("./ReactUpdates"),emptyObject=require("fbjs/lib/emptyObject"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("fbjs/lib/invariant");module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup}},{"./ReactDefaultBatchingStrategy":648,"./ReactElement":652,"./ReactInstanceHandles":661,"./ReactMarkupChecksum":664,"./ReactServerBatchingStrategy":679,"./ReactServerRenderingTransaction":681,"./ReactUpdates":683,"./instantiateReactComponent":718,"fbjs/lib/emptyObject":551,"fbjs/lib/invariant":558}],681:[function(require,module,exports){"use strict";function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction(),this.renderToStaticMarkup=renderToStaticMarkup,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!1}var PooledClass=require("./PooledClass"),CallbackQueue=require("./CallbackQueue"),Transaction=require("./Transaction"),assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction},TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction},{"./CallbackQueue":605,"./Object.assign":622,"./PooledClass":623,"./Transaction":700,"fbjs/lib/emptyFunction":550}],682:[function(require,module,exports){"use strict";function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?internalInstance:null}var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactInstanceMap=require("./ReactInstanceMap"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),ReactUpdateQueue={isMounted:function(publicInstance){var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?!!internalInstance._renderedComponent:!1},enqueueCallback:function(publicInstance,callback){typeof callback!="function"?invariant(!1):undefined;var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);if(!internalInstance)return null;internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],enqueueUpdate(internalInstance)},enqueueCallbackInternal:function(internalInstance,callback){typeof callback!="function"?invariant(!1):undefined,internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");if(!internalInstance)return;internalInstance._pendingForceUpdate=!0,enqueueUpdate(internalInstance)},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");if(!internalInstance)return;internalInstance._pendingStateQueue=[completeState],internalInstance._pendingReplaceState=!0,enqueueUpdate(internalInstance)},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(!internalInstance)return;var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState),enqueueUpdate(internalInstance)},enqueueSetProps:function(publicInstance,partialProps){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setProps");if(!internalInstance)return;ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps)},enqueueSetPropsInternal:function(internalInstance,partialProps){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?undefined:invariant(!1);var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props,props=assign({},element.props,partialProps);topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueReplaceProps:function(publicInstance,props){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceProps");if(!internalInstance)return;ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props)},enqueueReplacePropsInternal:function(internalInstance,props){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?undefined:invariant(!1);var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props;topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueElementInternal:function(internalInstance,newElement){internalInstance._pendingElement=newElement,enqueueUpdate(internalInstance)}};module.exports=ReactUpdateQueue},{"./Object.assign":622,"./ReactCurrentOwner":634,"./ReactElement":652,"./ReactInstanceMap":662,"./ReactUpdates":683,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],683:[function(require,module,exports){"use strict";function ensureInjected(){!ReactUpdates.ReactReconcileTransaction||!batchingStrategy?invariant(!1):undefined}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=CallbackQueue.getPooled(),this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(!1)}function batchedUpdates(callback,a,b,c,d,e){ensureInjected(),batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;len!==dirtyComponents.length?invariant(!1):undefined,dirtyComponents.sort(mountOrderComparator);for(var i=0;i<len;i++){var component=dirtyComponents[i],callbacks=component._pendingCallbacks;component._pendingCallbacks=null,ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction);if(callbacks)for(var j=0;j<callbacks.length;j++)transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}function enqueueUpdate(component){ensureInjected();if(!batchingStrategy.isBatchingUpdates){batchingStrategy.batchedUpdates(enqueueUpdate,component);return}dirtyComponents.push(component)}function asap(callback,context){batchingStrategy.isBatchingUpdates?undefined:invariant(!1),asapCallbackQueue.enqueue(callback,context),asapEnqueued=!0}var CallbackQueue=require("./CallbackQueue"),PooledClass=require("./PooledClass"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),Transaction=require("./Transaction"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),dirtyComponents=[],asapCallbackQueue=CallbackQueue.getPooled(),asapEnqueued=!1,batchingStrategy=null,NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){this.dirtyComponentsLength!==dirtyComponents.length?(dirtyComponents.splice(0,this.dirtyComponentsLength),flushBatchedUpdates()):dirtyComponents.length=0}},UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null,CallbackQueue.release(this.callbackQueue),this.callbackQueue=null,ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}}),PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);var flushBatchedUpdates=function(){while(dirtyComponents.length||asapEnqueued){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction),ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=!1;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled(),queue.notifyAll(),CallbackQueue.release(queue)}}};flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",flushBatchedUpdates);var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){ReconcileTransaction?undefined:invariant(!1),ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){_batchingStrategy?undefined:invariant(!1),typeof _batchingStrategy.batchedUpdates!="function"?invariant(!1):undefined,typeof _batchingStrategy.isBatchingUpdates!="boolean"?invariant(!1):undefined,batchingStrategy=_batchingStrategy}},ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates},{"./CallbackQueue":605,"./Object.assign":622,"./PooledClass":623,"./ReactPerf":671,"./ReactReconciler":676,"./Transaction":700,"fbjs/lib/invariant":558}],684:[function(require,module,exports){"use strict";module.exports="0.14.8"},{}],685:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,NS={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,xlinkActuate:MUST_USE_ATTRIBUTE,xlinkArcrole:MUST_USE_ATTRIBUTE,xlinkHref:MUST_USE_ATTRIBUTE,xlinkRole:MUST_USE_ATTRIBUTE,xlinkShow:MUST_USE_ATTRIBUTE,xlinkTitle:MUST_USE_ATTRIBUTE,xlinkType:MUST_USE_ATTRIBUTE,xmlBase:MUST_USE_ATTRIBUTE,xmlLang:MUST_USE_ATTRIBUTE,xmlSpace:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};module.exports=SVGDOMPropertyConfig},{"./DOMProperty":609}],686:[function(require,module,exports){"use strict";function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node))return{start:node.selectionStart,end:node.selectionEnd};if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||activeElement==null||activeElement!==getActiveElement())return null;var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent,nativeEventTarget);return syntheticEvent.type="select",syntheticEvent.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent),syntheticEvent}return null}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),ReactInputSelection=require("./ReactInputSelection"),SyntheticEvent=require("./SyntheticEvent"),getActiveElement=require("fbjs/lib/getActiveElement"),isTextInputElement=require("./isTextInputElement"),keyOf=require("fbjs/lib/keyOf"),shallowEqual=require("fbjs/lib/shallowEqual"),topLevelTypes=EventConstants.topLevelTypes,skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,lastSelection=null,mouseDown=!1,hasListener=!1,ON_SELECT_KEY=keyOf({onSelect:null}),SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(!hasListener)return null;switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(topLevelTarget)||topLevelTarget.contentEditable==="true")activeElement=topLevelTarget,activeElementID=topLevelTargetID,lastSelection=null;break;case topLevelTypes.topBlur:activeElement=null,activeElementID=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent)break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(id,registrationName,listener){registrationName===ON_SELECT_KEY&&(hasListener=!0)}};module.exports=SelectEventPlugin},{"./EventConstants":614,"./EventPropagators":618,"./ReactInputSelection":660,"./SyntheticEvent":692,"./isTextInputElement":720,"fbjs/lib/ExecutionEnvironment":544,"fbjs/lib/getActiveElement":553,"fbjs/lib/keyOf":562,"fbjs/lib/shallowEqual":567}],687:[function(require,module,exports){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53),ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex},{}],688:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants"),EventListener=require("fbjs/lib/EventListener"),EventPropagators=require("./EventPropagators"),ReactMount=require("./ReactMount"),SyntheticClipboardEvent=require("./SyntheticClipboardEvent"),SyntheticEvent=require("./SyntheticEvent"),SyntheticFocusEvent=require("./SyntheticFocusEvent"),SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),SyntheticDragEvent=require("./SyntheticDragEvent"),SyntheticTouchEvent=require("./SyntheticTouchEvent"),SyntheticUIEvent=require("./SyntheticUIEvent"),SyntheticWheelEvent=require("./SyntheticWheelEvent"),emptyFunction=require("fbjs/lib/emptyFunction"),getEventCharCode=require("./getEventCharCode"),invariant=require("fbjs/lib/invariant"),keyOf=require("fbjs/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:!0}),captured:keyOf({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:!0}),captured:keyOf({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:!0}),captured:keyOf({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:!0}),captured:keyOf({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:!0}),captured:keyOf({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:!0}),captured:keyOf({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:!0}),captured:keyOf({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:!0}),captured:keyOf({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:!0}),captured:keyOf({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:!0}),captured:keyOf({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:!0}),captured:keyOf({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:!0}),captured:keyOf({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:!0}),captured:keyOf({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:!0}),captured:keyOf({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:!0}),captured:keyOf({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:!0}),captured:keyOf({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:!0}),captured:keyOf({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:!0}),captured:keyOf({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:!0}),captured:keyOf({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:!0}),captured:keyOf({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled
:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:!0}),captured:keyOf({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:!0}),captured:keyOf({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[type].dependencies=[type];var ON_CLICK_KEY=keyOf({onClick:null}),onClickListeners={},SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig)return null;var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(getEventCharCode(nativeEvent)===0)return null;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent}EventConstructor?undefined:invariant(!1);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent,nativeEventTarget);return EventPropagators.accumulateTwoPhaseDispatches(event),event},didPutListener:function(id,registrationName,listener){if(registrationName===ON_CLICK_KEY){var node=ReactMount.getNode(id);onClickListeners[id]||(onClickListeners[id]=EventListener.listen(node,"click",emptyFunction))}},willDeleteListener:function(id,registrationName){registrationName===ON_CLICK_KEY&&(onClickListeners[id].remove(),delete onClickListeners[id])}};module.exports=SimpleEventPlugin},{"./EventConstants":614,"./EventPropagators":618,"./ReactMount":665,"./SyntheticClipboardEvent":689,"./SyntheticDragEvent":691,"./SyntheticEvent":692,"./SyntheticFocusEvent":693,"./SyntheticKeyboardEvent":695,"./SyntheticMouseEvent":696,"./SyntheticTouchEvent":697,"./SyntheticUIEvent":698,"./SyntheticWheelEvent":699,"./getEventCharCode":711,"fbjs/lib/EventListener":543,"fbjs/lib/emptyFunction":550,"fbjs/lib/invariant":558,"fbjs/lib/keyOf":562}],689:[function(require,module,exports){"use strict";function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":692}],690:[function(require,module,exports){"use strict";function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),CompositionEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":692}],691:[function(require,module,exports){"use strict";function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),DragEventInterface={dataTransfer:null};SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent},{"./SyntheticMouseEvent":696}],692:[function(require,module,exports){"use strict";function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig,this.dispatchMarker=dispatchMarker,this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName))continue;var normalize=Interface[propName];normalize?this[propName]=normalize(nativeEvent):propName==="target"?this.target=nativeEventTarget:this[propName]=nativeEvent[propName]}var defaultPrevented=nativeEvent.defaultPrevented!=null?nativeEvent.defaultPrevented:nativeEvent.returnValue===!1;defaultPrevented?this.isDefaultPrevented=emptyFunction.thatReturnsTrue:this.isDefaultPrevented=emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),warning=require("fbjs/lib/warning"),EventInterface={type:null,target:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;if(!event)return;event.preventDefault?event.preventDefault():event.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var event=this.nativeEvent;if(!event)return;event.stopPropagation?event.stopPropagation():event.cancelBubble=!0,this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface)this[propName]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(Class,Interface){var Super=this,prototype=Object.create(Super.prototype);assign(prototype,Class.prototype),Class.prototype=prototype,Class.prototype.constructor=Class,Class.Interface=assign({},Super.Interface,Interface),Class.augmentClass=Super.augmentClass,PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler),module.exports=SyntheticEvent},{"./Object.assign":622,"./PooledClass":623,"fbjs/lib/emptyFunction":550,"fbjs/lib/warning":569}],693:[function(require,module,exports){"use strict";function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),FocusEventInterface={relatedTarget:null};SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":698}],694:[function(require,module,exports){"use strict";function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),InputEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface),module.exports=SyntheticInputEvent},{"./SyntheticEvent":692}],695:[function(require,module,exports){"use strict";function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventCharCode=require("./getEventCharCode"),getEventKey=require("./getEventKey"),getEventModifierState=require("./getEventModifierState"),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){return event.type==="keypress"?getEventCharCode(event):0},keyCode:function(event){return event.type==="keydown"||event.type==="keyup"?event.keyCode:0},which:function(event){return event.type==="keypress"?getEventCharCode(event):event.type==="keydown"||event.type==="keyup"?event.keyCode:0}};SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":698,"./getEventCharCode":711,"./getEventKey":712,"./getEventModifierState":713}],696:[function(require,module,exports){"use strict";function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),ViewportMetrics=require("./ViewportMetrics"),getEventModifierState=require("./getEventModifierState"),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;return"which"in event?button:button===2?2:button===4?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":698,"./ViewportMetrics":701,"./getEventModifierState":713}],697:[function(require,module,exports){"use strict";function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventModifierState=require("./getEventModifierState"),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":698,"./getEventModifierState":713}],698:[function(require,module,exports){"use strict";function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),getEventTarget=require("./getEventTarget"),UIEventInterface={view:function(event){if(event.view)return event.view;var target=getEventTarget(event);if(target!=null&&target.window===target)return target;var doc=target.ownerDocument;return doc?doc.defaultView||doc.parentWindow:window},detail:function(event){return event.detail||0}};SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent},{"./SyntheticEvent":692,"./getEventTarget":714}],699:[function(require,module,exports){"use strict";function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":696}],700:[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant"),Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){this.isInTransaction()?invariant(!1):undefined;var errorThrown,ret;try{this._isInTransaction=!0,errorThrown=!0,this.initializeAll(0),ret=method.call(scope,a,b,c,d,e,f),errorThrown=!1}finally{try{if(errorThrown)try{this.closeAll(0)}catch(err){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return ret},initializeAll:function(startIndex){var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR,this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(err){}}}},closeAll:function(startIndex){this.isInTransaction()?undefined:invariant(!1);var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i],initData=this.wrapperInitData[i],errorThrown;try{errorThrown=!0,initData!==Transaction.OBSERVED_ERROR&&wrapper.close&&wrapper.close.call(this,initData),errorThrown=!1}finally{if(errorThrown)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction},{"fbjs/lib/invariant":558}],701:[function(require,module,exports){"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x,ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{}],702:[function(require,module,exports){"use strict";function accumulateInto(current,next){next==null?invariant(!1):undefined;if(current==null)return next;var currentIsArray=Array.isArray(current),nextIsArray=Array.isArray(next);return currentIsArray&&nextIsArray?(current.push.apply(current,next),current):currentIsArray?(current.push(next),current):nextIsArray?[current].concat(next):[current,next]}var invariant=require("fbjs/lib/invariant");module.exports=accumulateInto},{"fbjs/lib/invariant":558}],703:[function(require,module,exports){"use strict";function adler32(data){var a=1,b=0,i=0,l=data.length,m=l&-4;while(i<m){for(;i<Math.min(i+4096,m);i+=4)b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3));a%=MOD,b%=MOD}for(;i<l;i++)b+=a+=data.charCodeAt(i);return a%=MOD,b%=MOD,a|b<<16}var MOD=65521;module.exports=adler32},{}],704:[function(require,module,exports){"use strict";var canDefineProperty=!1;module.exports=canDefineProperty},{}],705:[function(require,module,exports){"use strict";function dangerousStyleValue(name,value){var isEmpty=value==null||typeof value=="boolean"||value==="";if(isEmpty)return"";var isNonNumeric=isNaN(value);return isNonNumeric||value===0||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]?""+value:(typeof value=="string"&&(value=value.trim()),value+"px")}var CSSProperty=require("./CSSProperty"),isUnitlessNumber=CSSProperty.isUnitlessNumber;module.exports=dangerousStyleValue},{"./CSSProperty":603}],706:[function(require,module,exports){"use strict";function deprecated(fnName,newModule,newPackage,ctx,fn){var warned=!1;return fn}var assign=require("./Object.assign"),warning=require("fbjs/lib/warning");module.exports=deprecated},{"./Object.assign":622,"fbjs/lib/warning":569}],707:[function(require,module,exports){"use strict";function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextContentForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;module.exports=escapeTextContentForBrowser},{}],708:[function(require,module,exports){"use strict";function findDOMNode(componentOrElement){if(componentOrElement==null)return null;if(componentOrElement.nodeType===1)return componentOrElement;if(ReactInstanceMap.has(componentOrElement))return ReactMount.getNodeFromInstance(componentOrElement);componentOrElement.render!=null&&typeof componentOrElement.render=="function"?invariant(!1):undefined,invariant(!1)}var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactInstanceMap=require("./ReactInstanceMap"),ReactMount=require("./ReactMount"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning");module.exports=findDOMNode},{"./ReactCurrentOwner":634,"./ReactInstanceMap":662,"./ReactMount":665,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],709:[function(require,module,exports){"use strict";function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext,keyUnique=result[name]===undefined;keyUnique&&child!=null&&(result[name]=child)}function flattenChildren(children){if(children==null)return children;var result={};return traverseAllChildren(children,flattenSingleChildIntoContext,result),result}var traverseAllChildren=require("./traverseAllChildren"),warning=require("fbjs/lib/warning");module.exports=flattenChildren},{"./traverseAllChildren":727,"fbjs/lib/warning":569}],710:[function(require,module,exports){"use strict";var forEachAccumulated=function(arr,cb,scope){Array.isArray(arr)?arr.forEach(cb,scope):arr&&cb.call(scope,arr)};module.exports=forEachAccumulated},{}],711:[function(require,module,exports){"use strict";function getEventCharCode(nativeEvent){var charCode,keyCode=nativeEvent.keyCode;return"charCode"in nativeEvent?(charCode=nativeEvent.charCode,charCode===0&&keyCode===13&&(charCode=13)):charCode=keyCode,charCode>=32||charCode===13?charCode:0}module.exports=getEventCharCode},{}],712:[function(require,module,exports){"use strict";function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!=="Unidentified")return key}if(nativeEvent.type==="keypress"){var charCode=getEventCharCode(nativeEvent);return charCode===13?"Enter":String.fromCharCode(charCode)}return nativeEvent.type==="keydown"||nativeEvent.type==="keyup"?translateToKey[nativeEvent.keyCode]||"Unidentified":""}var getEventCharCode=require("./getEventCharCode"),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};module.exports=getEventKey},{"./getEventCharCode":711}],713:[function(require,module,exports){"use strict";function modifierStateGetter(keyArg){var syntheticEvent=this,nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState)return nativeEvent.getModifierState(keyArg);var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:!1}function getEventModifierState(nativeEvent){return modifierStateGetter}var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};module.exports=getEventModifierState},{}],714:[function(require,module,exports){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.nodeType===3?target.parentNode:target}module.exports=getEventTarget},{}],715:[function(require,module,exports){"use strict";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn=="function")return iteratorFn}var ITERATOR_SYMBOL=typeof Symbol=="function"&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";module.exports=getIteratorFn},{}],716:[function(require,module,exports){"use strict";function getLeafNode(node){while(node&&node.firstChild)node=node.firstChild;return node}function getSiblingNode(node){while(node){if(node.nextSibling)return node.nextSibling;node=node.parentNode}}function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root),nodeStart=0,nodeEnd=0;while(node){if(node.nodeType===3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset)return{node:node,offset:offset-nodeStart};nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],717:[function(require,module,exports){"use strict";function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.documentElement?"textContent":"innerText"),contentKey}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),contentKey=null;module.exports=getTextContentAccessor},{"fbjs/lib/ExecutionEnvironment":544}],718:[function(require,module,exports){"use strict";function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function isInternalComponentType(type){return typeof type=="function"&&typeof type.prototype!="undefined"&&typeof type.prototype.mountComponent=="function"&&typeof type.prototype.receiveComponent=="function"}function instantiateReactComponent(node){var instance;if(node===null||node===!1)instance=new ReactEmptyComponent(instantiateReactComponent);else if(typeof node=="object"){var element=node;!element||typeof element.type!="function"&&typeof element.type!="string"?invariant(!1):undefined,typeof element.type=="string"?instance=ReactNativeComponent.createInternalComponent(element):isInternalComponentType(element.type)?instance=new element.type(element):instance=new ReactCompositeComponentWrapper}else typeof node=="string"||typeof node=="number"?instance=ReactNativeComponent.createInstanceForText(node):invariant(!1);return instance.construct(node),instance._mountIndex=0,instance._mountImage=null,instance}var ReactCompositeComponent=require("./ReactCompositeComponent"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactNativeComponent=require("./ReactNativeComponent"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),ReactCompositeComponentWrapper=function(){};assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent}),module.exports=instantiateReactComponent},{"./Object.assign":622,"./ReactCompositeComponent":633,"./ReactEmptyComponent":654,"./ReactNativeComponent":668,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],719:[function(require,module,exports){"use strict";function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported=typeof element[eventName]=="function"}return!isSupported&&useHasFeature&&eventNameSuffix==="wheel"&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported},{"fbjs/lib/ExecutionEnvironment":544}],720:[function(require,module,exports){"use strict";function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==="input"&&supportedInputTypes[elem.type]||nodeName==="textarea")}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};module.exports=isTextInputElement},{}],721:[function(require,module,exports){"use strict";function onlyChild(children){return ReactElement.isValidElement(children)?undefined:invariant(!1),children}var ReactElement=require("./ReactElement"),invariant=require("fbjs/lib/invariant");module.exports=onlyChild},{"./ReactElement":652,"fbjs/lib/invariant":558}],722:[function(require,module,exports){"use strict";function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");module.exports=quoteAttributeValueForBrowser},{"./escapeTextContentForBrowser":707}],723:[function(require,module,exports){"use strict";var ReactMount=require("./ReactMount");module.exports=ReactMount.renderSubtreeIntoContainer},{"./ReactMount":665}],724:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),WHITESPACE_TEST=/^[ \r\n\t\f]/,NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,setInnerHTML=function(node,html){node.innerHTML=html};typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction&&(setInnerHTML=function(node,html){MSApp.execUnsafeLocalFunction(function(){node.innerHTML=html})});if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ",testElement.innerHTML===""&&(setInnerHTML=function(node,html){node.parentNode&&node.parentNode.replaceChild(node,node);if(WHITESPACE_TEST.test(html)||html[0]==="<"&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;textNode.data.length===1?node.removeChild(textNode):textNode.deleteData(0,1)}else node.innerHTML=html})}module.exports=setInnerHTML},{"fbjs/lib/ExecutionEnvironment":544}],725:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),setInnerHTML=require("./setInnerHTML"),setTextContent=function(node,text){node.textContent=text};ExecutionEnvironment.canUseDOM&&("textContent"in document.documentElement||(setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))})),module.exports=setTextContent},{"./escapeTextContentForBrowser":707,"./setInnerHTML":724,"fbjs/lib/ExecutionEnvironment":544}],726:[function(require,module,exports){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===!1,nextEmpty=nextElement===null||nextElement===!1;if(prevEmpty||nextEmpty)return prevEmpty===nextEmpty;var prevType=typeof prevElement,nextType=typeof nextElement;return prevType==="string"||prevType==="number"?nextType==="string"||nextType==="number":nextType==="object"&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}module.exports=shouldUpdateReactComponent},{}],727:[function(require,module,exports){"use strict";function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){return component&&component.key!=null?wrapUserProvidedKey(component.key):index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(type==="undefined"||type==="boolean")children=null;if(children===null||type==="string"||type==="number"||ReactElement.isValidElement(children))return callback(traverseContext,children,nameSoFar===""?SEPARATOR+getComponentKey(children,0):nameSoFar),1;var child,nextName,subtreeCount=0,nextNamePrefix=nameSoFar===""?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children))for(var i=0;i<children.length;i++)child=children[i],nextName=nextNamePrefix+getComponentKey(child,i),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var iterator=iteratorFn.call(children),step;if(iteratorFn!==children.entries){var ii=0;while(!(step=iterator.next()).done)child=step.value,nextName=nextNamePrefix+getComponentKey(child,ii++),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}else while(!(step=iterator.next()).done){var entry=step.value;entry&&(child=entry[1],nextName=nextNamePrefix+wrapUserProvidedKey(entry[0])+SUBSEPARATOR+getComponentKey(child,0),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext))}}else if(type==="object"){var addendum="",childrenString=String(children);invariant(!1)}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){return children==null?0:traverseAllChildrenImpl(children,"",callback,traverseContext
)}var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactInstanceHandles=require("./ReactInstanceHandles"),getIteratorFn=require("./getIteratorFn"),invariant=require("fbjs/lib/invariant"),warning=require("fbjs/lib/warning"),SEPARATOR=ReactInstanceHandles.SEPARATOR,SUBSEPARATOR=":",userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"},userProvidedKeyEscapeRegex=/[=.:]/g,didWarnAboutMaps=!1;module.exports=traverseAllChildren},{"./ReactCurrentOwner":634,"./ReactElement":652,"./ReactInstanceHandles":661,"./getIteratorFn":715,"fbjs/lib/invariant":558,"fbjs/lib/warning":569}],728:[function(require,module,exports){"use strict";var assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),warning=require("fbjs/lib/warning"),validateDOMNesting=emptyFunction;module.exports=validateDOMNesting},{"./Object.assign":622,"fbjs/lib/emptyFunction":550,"fbjs/lib/warning":569}],729:[function(require,module,exports){"use strict";module.exports=require("./lib/React")},{"./lib/React":624}],730:[function(require,module,exports){(function(global){"use strict";(function(root,factory){typeof define=="function"&&define.amd?define([],factory):typeof exports=="object"?module.exports=factory():root.store=factory()})(this,function(){function isLocalStorageNameSupported(){try{return localStorageName in win&&win[localStorageName]}catch(err){return!1}}var store={},win=typeof window!="undefined"?window:global,doc=win.document,localStorageName="localStorage",scriptTag="script",storage;store.disabled=!1,store.version="1.3.20",store.set=function(key,value){},store.get=function(key,defaultVal){},store.has=function(key){return store.get(key)!==undefined},store.remove=function(key){},store.clear=function(){},store.transact=function(key,defaultVal,transactionFn){transactionFn==null&&(transactionFn=defaultVal,defaultVal=null),defaultVal==null&&(defaultVal={});var val=store.get(key,defaultVal);transactionFn(val),store.set(key,val)},store.getAll=function(){},store.forEach=function(){},store.serialize=function(value){return JSON.stringify(value)},store.deserialize=function(value){if(typeof value!="string")return undefined;try{return JSON.parse(value)}catch(e){return value||undefined}};if(isLocalStorageNameSupported())storage=win[localStorageName],store.set=function(key,val){return val===undefined?store.remove(key):(storage.setItem(key,store.serialize(val)),val)},store.get=function(key,defaultVal){var val=store.deserialize(storage.getItem(key));return val===undefined?defaultVal:val},store.remove=function(key){storage.removeItem(key)},store.clear=function(){storage.clear()},store.getAll=function(){var ret={};return store.forEach(function(key,val){ret[key]=val}),ret},store.forEach=function(callback){for(var i=0;i<storage.length;i++){var key=storage.key(i);callback(key,store.get(key))}};else if(doc&&doc.documentElement.addBehavior){var storageOwner,storageContainer;try{storageContainer=new ActiveXObject("htmlfile"),storageContainer.open(),storageContainer.write("<"+scriptTag+">document.w=window</"+scriptTag+'><iframe src="/favicon.ico"></iframe>'),storageContainer.close(),storageOwner=storageContainer.w.frames[0].document,storage=storageOwner.createElement("div")}catch(e){storage=doc.createElement("div"),storageOwner=doc.body}var withIEStorage=function(storeFunction){return function(){var args=Array.prototype.slice.call(arguments,0);args.unshift(storage),storageOwner.appendChild(storage),storage.addBehavior("#default#userData"),storage.load(localStorageName);var result=storeFunction.apply(store,args);return storageOwner.removeChild(storage),result}},forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),ieKeyFix=function(key){return key.replace(/^d/,"___$&").replace(forbiddenCharsRegex,"___")};store.set=withIEStorage(function(storage,key,val){return key=ieKeyFix(key),val===undefined?store.remove(key):(storage.setAttribute(key,store.serialize(val)),storage.save(localStorageName),val)}),store.get=withIEStorage(function(storage,key,defaultVal){key=ieKeyFix(key);var val=store.deserialize(storage.getAttribute(key));return val===undefined?defaultVal:val}),store.remove=withIEStorage(function(storage,key){key=ieKeyFix(key),storage.removeAttribute(key),storage.save(localStorageName)}),store.clear=withIEStorage(function(storage){var attributes=storage.XMLDocument.documentElement.attributes;storage.load(localStorageName);for(var i=attributes.length-1;i>=0;i--)storage.removeAttribute(attributes[i].name);storage.save(localStorageName)}),store.getAll=function(storage){var ret={};return store.forEach(function(key,val){ret[key]=val}),ret},store.forEach=withIEStorage(function(storage,callback){var attributes=storage.XMLDocument.documentElement.attributes;for(var i=0,attr;attr=attributes[i];++i)callback(attr.name,store.deserialize(storage.getAttribute(attr.name)))})}try{var testKey="__storejs__";store.set(testKey,testKey),store.get(testKey)!=testKey&&(store.disabled=!0),store.remove(testKey)}catch(e){store.disabled=!0}return store.enabled=!store.disabled,store})}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],731:[function(require,module,exports){module.exports=function(){function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}function SyntaxError(message,expected,found,offset,line,column){this.message=message,this.expected=expected,this.found=found,this.offset=offset,this.line=line,this.column=column,this.name="SyntaxError"}function parse(input){function text(){return input.substring(peg$reportedPos,peg$currPos)}function offset(){return peg$reportedPos}function line(){return peg$computePosDetails(peg$reportedPos).line}function column(){return peg$computePosDetails(peg$reportedPos).column}function expected(description){throw peg$buildException(null,[{type:"other",description:description}],peg$reportedPos)}function error(message){throw peg$buildException(message,null,peg$reportedPos)}function peg$computePosDetails(pos){function advance(details,startPos,endPos){var p,ch;for(p=startPos;p<endPos;p++)ch=input.charAt(p),ch==="\n"?(details.seenCR||details.line++,details.column=1,details.seenCR=!1):ch==="\r"||ch==="\u2028"||ch==="\u2029"?(details.line++,details.column=1,details.seenCR=!0):(details.column++,details.seenCR=!1)}return peg$cachedPos!==pos&&(peg$cachedPos>pos&&(peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:!1}),advance(peg$cachedPosDetails,peg$cachedPos,pos),peg$cachedPos=pos),peg$cachedPosDetails}function peg$fail(expected){if(peg$currPos<peg$maxFailPos)return;peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected)}function peg$buildException(message,expected,pos){function cleanupExpected(expected){var i=1;expected.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});while(i<expected.length)expected[i-1]===expected[i]?expected.splice(i,1):i++}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0180-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1080-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}var expectedDescs=new Array(expected.length),expectedDesc,foundDesc,i;for(i=0;i<expected.length;i++)expectedDescs[i]=expected[i].description;return expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0],foundDesc=found?'"'+stringEscape(found)+'"':"end of input","Expected "+expectedDesc+" but "+foundDesc+" found."}var posDetails=peg$computePosDetails(pos),found=pos<input.length?input.charAt(pos):null;return expected!==null&&cleanupExpected(expected),new SyntaxError(message!==null?message:buildMessage(expected,found),expected,found,pos,posDetails.line,posDetails.column)}function peg$parseStart(){var s0;return s0=peg$parseTagData(),s0}function peg$parseTagData(){var s0,s1,s2,s3,s4,s5;peg$silentFails++,s0=peg$currPos,s1=peg$parseTagDatum();if(s1!==peg$FAILED){s2=[],s3=peg$currPos,s4=peg$currPos,s5=peg$parseTagSeparater(),s5!==peg$FAILED&&(s5=input.substring(s4,peg$currPos)),s4=s5,s4!==peg$FAILED?(s5=peg$parseTagDatum(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$c1)):(peg$currPos=s3,s3=peg$c1);while(s3!==peg$FAILED)s2.push(s3),s3=peg$currPos,s4=peg$currPos,s5=peg$parseTagSeparater(),s5!==peg$FAILED&&(s5=input.substring(s4,peg$currPos)),s4=s5,s4!==peg$FAILED?(s5=peg$parseTagDatum(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$c1)):(peg$currPos=s3,s3=peg$c1);s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c3(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$c1)}else peg$currPos=s0,s0=peg$c1;return s0===peg$FAILED&&(s0=peg$currPos,s1=peg$c4,s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c5()),s0=s1),peg$silentFails--,s0===peg$FAILED&&(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c0)),s0}function peg$parseTagSeparater(){var s0,s1;s0=[],input.charCodeAt(peg$currPos)===32?(s1=peg$c6,peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c7));if(s1!==peg$FAILED)while(s1!==peg$FAILED)s0.push(s1),input.charCodeAt(peg$currPos)===32?(s1=peg$c6,peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c7));else s0=peg$c1;return s0}function peg$parseTagDatum(){var s0,s1,s2,s3,s4;return peg$silentFails++,s0=peg$currPos,s1=peg$currPos,s2=peg$parseName(),s2!==peg$FAILED&&(s2=input.substring(s1,peg$currPos)),s1=s2,s1!==peg$FAILED?(s2=peg$currPos,input.charCodeAt(peg$currPos)===58?(s3=peg$c10,peg$currPos++):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c11)),s3!==peg$FAILED?(s4=peg$parseVersions(),s4!==peg$FAILED?(s3=[s3,s4],s2=s3):(peg$currPos=s2,s2=peg$c1)):(peg$currPos=s2,s2=peg$c1),s2===peg$FAILED&&(s2=peg$c9),s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c12(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$c1)):(peg$currPos=s0,s0=peg$c1),peg$silentFails--,s0===peg$FAILED&&(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c8)),s0}function peg$parseName(){var s0,s1;s0=[],peg$c13.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c14));if(s1!==peg$FAILED)while(s1!==peg$FAILED)s0.push(s1),peg$c13.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c14));else s0=peg$c1;return s0}function peg$parseVersions(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos,s1=peg$parseVersion();if(s1!==peg$FAILED){s2=[],s3=peg$currPos,s4=peg$currPos,s5=peg$parseVersionSeparater(),s5!==peg$FAILED&&(s5=input.substring(s4,peg$currPos)),s4=s5,s4!==peg$FAILED?(s5=peg$parseVersion(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$c1)):(peg$currPos=s3,s3=peg$c1);while(s3!==peg$FAILED)s2.push(s3),s3=peg$currPos,s4=peg$currPos,s5=peg$parseVersionSeparater(),s5!==peg$FAILED&&(s5=input.substring(s4,peg$currPos)),s4=s5,s4!==peg$FAILED?(s5=peg$parseVersion(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$c1)):(peg$currPos=s3,s3=peg$c1);s2!==peg$FAILED?(peg$reportedPos=s0,s1=peg$c3(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$c1)}else peg$currPos=s0,s0=peg$c1;return s0}function peg$parseVersion(){var s0,s1,s2,s3;s0=peg$currPos,s1=peg$currPos,s2=[],peg$c15.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c16)),s3===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c17?(s3=peg$c17,peg$currPos+=2):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c18)),s3===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c19?(s3=peg$c19,peg$currPos+=2):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c20))));if(s3!==peg$FAILED)while(s3!==peg$FAILED)s2.push(s3),peg$c15.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c16)),s3===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c17?(s3=peg$c17,peg$currPos+=2):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c18)),s3===peg$FAILED&&(input.substr(peg$currPos,2)===peg$c19?(s3=peg$c19,peg$currPos+=2):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c20))));else s2=peg$c1;return s2!==peg$FAILED&&(s2=input.substring(s1,peg$currPos)),s1=s2,s1!==peg$FAILED&&(peg$reportedPos=s0,s1=peg$c21(s1)),s0=s1,s0}function peg$parseVersionSeparater(){var s0;return input.charCodeAt(peg$currPos)===44?(s0=peg$c22,peg$currPos++):(s0=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c23)),s0}function mergeSeparatedValues(value,variadicArray){var i,result=[value];for(i=0;i<variadicArray.length;i++)result.push(variadicArray[i][1]);return result}var options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={Start:peg$parseStart},peg$startRuleFunction=peg$parseStart,peg$c0={type:"other",description:"tag data"},peg$c1=peg$FAILED,peg$c2=[],peg$c3=function(value,variadicArray){return mergeSeparatedValues(value,variadicArray)},peg$c4="",peg$c5=function(){return[]},peg$c6=" ",peg$c7={type:"literal",value:" ",description:'" "'},peg$c8={type:"other",description:"name and versions"},peg$c9=null,peg$c10=":",peg$c11={type:"literal",value:":",description:'":"'},peg$c12=function(name,versions){return{name:name,versions:versions?versions[1]:[]}},peg$c13=/^[^<>;:"' ]/,peg$c14={type:"class",value:"[^<>;:\"' ]",description:"[^<>;:\"' ]"},peg$c15=/^[^,\\ ]/,peg$c16={type:"class",value:"[^,\\\\ ]",description:"[^,\\\\ ]"},peg$c17="\\ ",peg$c18={type:"literal",value:"\\ ",description:'"\\\\ "'},peg$c19="\\\\",peg$c20={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},peg$c21=function(version){return version.replace(/\\ /g," ").replace(/\\\\/g,"\\")},peg$c22=",",peg$c23={type:"literal",value:",",description:'","'},peg$currPos=0,peg$reportedPos=0,peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:!1},peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end",description:"end of input"}),peg$buildException(null,peg$maxFailExpected,peg$maxFailPos)}return peg$subclass(SyntaxError,Error),{SyntaxError:SyntaxError,parse:parse}}()},{}],732:[function(require,module,exports){(function(global){var tasklist={};tasklist.codeBlockPattern=/^(`{3}(?:.+)?\n)([\S\s]*?)(\n`{3})$/gm,tasklist.linePattern=/^(?:\s*(?:>\s*)*(?:[-+*]|(?:\d+\.)))\s*(\[ \]|\[x\])\s+(?!\(.*?\))(?=(?:\[.*?\]\s*(?:\[.*?\]|\(.*?\))\s*)*(?:[^\[]|$))/,tasklist.convert=function(markdownText,checkboxIndex,isChecked){var lines=markdownText.split("\n"),taskIndex=0,sanitizedLines=markdownText.replace(tasklist.codeBlockPattern,function(str,pattern1,pattern2,pattern3){return pattern1+pattern2.replace(/^/gm,"SANITIZED")+pattern3}).split("\n"),resultLines=[],line;for(var i=0,length=lines.length;i<length;i++)line=lines[i],line===sanitizedLines[i]&&line.match(tasklist.linePattern)?(taskIndex++,taskIndex===checkboxIndex?isChecked?resultLines.push(line.replace(/\[ \]/,"[x]")):resultLines.push(line.replace(/\[x\]/,"[ ]")):resultLines.push(line)):resultLines.push(line);return resultLines.join("\n")},typeof module=="undefined"?global.tasklist=tasklist:module.exports=tasklist})(this)},{}],733:[function(require,module,exports){(function($){var _=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return typeof obj=="string"},isNumber:function(obj){return typeof obj=="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return typeof obj=="undefined"},toStr:function toStr(s){return _.isUndefined(s)||s===null?"":s+""},bind:$.proxy,each:function(collection,cb){function reverseArgs(index,value){return cb(value,index)}$.each(collection,reverseArgs)},map:$.map,filter:$.grep,every:function(obj,test){var result=!0;return obj?($.each(obj,function(key,val){if(!(result=test.call(null,val,key,obj)))return!1}),!!result):result},some:function(obj,test){var result=!1;return obj?($.each(obj,function(key,val){if(result=test.call(null,val,key,obj))return!1}),!!result):result},mixin:$.extend,getUniqueId:function(){var counter=0;return function(){return counter++}}(),templatify:function templatify(obj){function template(){return String(obj)}return $.isFunction(obj)?obj:template},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;return later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout,clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;return previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)},function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},noop:function(){}}}(),VERSION="0.10.5",tokenizers=function(){"use strict";function whitespace(str){return str=_.toStr(str),str?str.split(/\s+/):[]}function nonword(str){return str=_.toStr(str),str?str.split(/\W+/):[]}function getObjTokenizer(tokenizer){return function setKey(){var args=[].slice.call(arguments,0);return function tokenize(o){var tokens=[];return _.each(args,function(k){tokens=tokens.concat(tokenizer(_.toStr(o[k])))}),tokens}}}return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}}}(),LruCache=function(){"use strict";function LruCache(maxSize){this.maxSize=_.isNumber(maxSize)?maxSize:100,this.reset(),this.maxSize<=0&&(this.set=this.get=$.noop)}function List(){this.head=this.tail=null}function Node(key,val){this.key=key,this.val=val,this.prev=this.next=null}return _.mixin(LruCache.prototype,{set:function set(key,val){var tailItem=this.list.tail,node;this.size>=this.maxSize&&(this.list.remove(tailItem),delete this.hash[tailItem.key]),(node=this.hash[key])?(node.val=val,this.list.moveToFront(node)):(node=new Node(key,val),this.list.add(node),this.hash[key]=node,this.size++)},get:function get(key){var node=this.hash[key];if(node)return this.list.moveToFront(node),node.val},reset:function reset(){this.size=0,this.hash={},this.list=new List}}),_.mixin(List.prototype,{add:function add(node){this.head&&(node.next=this.head,this.head.prev=node),this.head=node,this.tail=this.tail||node},remove:function remove(node){node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node),this.add(node)}}),LruCache}(),PersistentStorage=function(){"use strict";function PersistentStorage(namespace){this.prefix=["__",namespace,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+_.escapeRegExChars(this.prefix))}function now(){return(new Date).getTime()}function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}function decode(val){return JSON.parse(val)}var ls,methods;try{ls=window.localStorage,ls.setItem("~~~","!"),ls.removeItem("~~~")}catch(err){ls=null}return ls&&window.JSON?methods={_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},get:function(key){return this.isExpired(key)&&this.remove(key),decode(ls.getItem(this._prefix(key)))},set:function(key,val,ttl){return _.isNumber(ttl)?ls.setItem(this._ttlKey(key),encode(now()+ttl)):ls.removeItem(this._ttlKey(key)),ls.setItem(this._prefix(key),encode(val))},remove:function(key){return ls.removeItem(this._ttlKey(key)),ls.removeItem(this._prefix(key)),this},clear:function(){var i,key,keys=[],len=ls.length;for(i=0;i<len;i++)(key=ls.key(i)).match(this.keyMatcher)&&keys.push(key.replace(this.keyMatcher,""));for(i=keys.length;i--;)this.remove(keys[i]);return this},isExpired:function(key){var ttl=decode(ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?!0:!1}}:methods={get:_.noop,set:_.noop,remove:_.noop,clear:_.noop,isExpired:_.noop},_.mixin(PersistentStorage.prototype,methods),PersistentStorage}(),Transport=function(){"use strict";function Transport(o){o=o||{},this.cancelled=!1,this.lastUrl=null,this._send=o.transport?callbackToDeferred(o.transport):$.ajax,this._get=o.rateLimiter?o.rateLimiter(this._get):this._get,this._cache=o.cache===!1?new LruCache(0):sharedCache}function callbackToDeferred(fn){return function customSendWrapper(url,o){function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}function onError(err){_.defer(function(){deferred.reject(err)})}var deferred=$.Deferred();return fn(url,o,onSuccess,onError),deferred}}var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,sharedCache=new LruCache(10);return Transport.setMaxPendingRequests=function setMaxPendingRequests(num){maxPendingRequests=num},Transport.resetCache=function resetCache(){sharedCache.reset()},_.mixin(Transport.prototype,{_get:function(url,o,cb){function done(resp){cb&&cb(null,resp),that._cache.set(url,resp)}function fail(){cb&&cb(!0)}function always(){pendingRequestsCount--,delete pendingRequests[url],that.onDeckRequestArgs&&(that._get.apply(that,that.onDeckRequestArgs),that.onDeckRequestArgs=null)}var that=this,jqXhr;if(this.cancelled||url!==this.lastUrl)return;(jqXhr=pendingRequests[url])?jqXhr.done(done).fail(fail):pendingRequestsCount<maxPendingRequests?(pendingRequestsCount++,pendingRequests[url]=this._send(url,o).done(done).fail(fail).always(always)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(url,o,cb){var resp;return _.isFunction(o)&&(cb=o,o={}),this.cancelled=!1,this.lastUrl=url,(resp=this._cache.get(url))?_.defer(function(){cb&&cb(null,resp)}):this._get(url,o,cb),!!resp},cancel:function(){this.cancelled=!0}}),Transport}(),SearchIndex=function(){"use strict";function SearchIndex(o){o=o||{},(!o.datumTokenizer||!o.queryTokenizer)&&$.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=o.datumTokenizer,this.queryTokenizer=o.queryTokenizer,this.reset()}function normalizeTokens(tokens){return tokens=_.filter(tokens,function(token){return!!token}),tokens=_.map(tokens,function(token){return token.toLowerCase()}),tokens}function newNode(){return{ids:[],children:{}}}function unique(array){var seen={},uniques=[];for(var i=0,len=array.length;i<len;i++)seen[array[i]]||(seen[array[i]]=!0,uniques.push(array[i]));return uniques}function getIntersection(arrayA,arrayB){function compare(a,b){return a-b}var ai=0,bi=0,intersection=[];arrayA=arrayA.sort(compare),arrayB=arrayB.sort(compare);var lenArrayA=arrayA.length,lenArrayB=arrayB.length;while(ai<lenArrayA&&bi<lenArrayB)arrayA[ai]<arrayB[bi]?ai++:arrayA[ai]>arrayB[bi]?bi++:(intersection.push(arrayA[ai]),ai++,bi++);return intersection}return _.mixin(SearchIndex.prototype,{bootstrap:function bootstrap(o){this.datums=o.datums,this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data],_.each(data,function(datum){var id,tokens;id=that.datums.push(datum)-1,tokens=normalizeTokens(that.datumTokenizer(datum)),_.each(tokens,function(token){var node,chars,ch;node=that.trie,chars=token.split("");while(ch=chars.shift())node=node.children[ch]||(node.children[ch]=newNode()),node.ids.push(id)})})},get:function get(query){var that=this,tokens,matches;return tokens=normalizeTokens(this.queryTokenizer(query)),_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&matches.length===0)return!1;node=that.trie,chars=token.split("");while(node&&(ch=chars.shift()))node=node.children[ch];if(!node||chars.length!==0)return matches=[],!1;ids=node.ids.slice(0),matches=matches?getIntersection(matches,ids):ids}),matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},reset:function reset(){this.datums=[],this.trie=newNode()},serialize:function serialize(){return{datums:this.datums,trie:this.trie}}}),SearchIndex}(),oParser=function(){"use strict";function getLocal(o){return o.local||null}function getPrefetch(o){var prefetch,defaults;defaults={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}};if(prefetch=o.prefetch||null)prefetch=_.isString(prefetch)?{url:prefetch}:prefetch,prefetch=_.mixin(defaults,prefetch),prefetch.thumbprint=VERSION+prefetch.thumbprint,prefetch.ajax.type=prefetch.ajax.type||"GET",prefetch.ajax.dataType=prefetch.ajax.dataType||"json",!prefetch.url&&$.error("prefetch requires url to be set");return prefetch}function getRemote(o){function byDebounce(wait){return function(fn){return _.debounce(fn,wait)}}function byThrottle(wait){return function(fn){return _.throttle(fn,wait)}}var remote,defaults;defaults={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(remote=o.remote||null)remote=_.isString(remote)?{url:remote}:remote,remote=_.mixin(defaults,remote),remote.rateLimiter=/^throttle$/i.test(remote.rateLimitBy)?byThrottle(remote.rateLimitWait):byDebounce(remote.rateLimitWait),remote.ajax.type=remote.ajax.type||"GET",remote.ajax.dataType=remote.ajax.dataType||"json",delete remote.rateLimitBy,delete remote.rateLimitWait,!remote.url&&$.error("remote requires url to be set");return remote}return{local:getLocal,prefetch:getPrefetch,remote:getRemote}}();(function(root){"use strict";function Bloodhound(o){(!o||!o.local&&!o.prefetch&&!o.remote)&&$.error("one of local, prefetch, or remote is required"),this.limit=o.limit||5,this.sorter=getSorter(o.sorter),this.dupDetector=o.dupDetector||ignoreDuplicates,this.local=oParser.local(o),this.prefetch=oParser.prefetch(o),this.remote=oParser.remote(o),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new SearchIndex({datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer}),this.storage=this.cacheKey?new PersistentStorage(this.cacheKey):null}function getSorter(sortFn){function sort(array){return array.sort(sortFn)}function noSort(array){return array}return _.isFunction(sortFn)?sort:noSort}function ignoreDuplicates(){return!1}var old,keys;return old=root.Bloodhound,keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"},root.Bloodhound=Bloodhound,Bloodhound.noConflict=function noConflict(){return root.Bloodhound=old,Bloodhound},Bloodhound.tokenizers=tokenizers,_.mixin(Bloodhound.prototype,{_loadPrefetch:function loadPrefetch(o){function handlePrefetchResponse(resp){that.clear(),that.add(o.filter?o.filter(resp):resp),that._saveToStorage(that.index.serialize(),o.thumbprint,o.ttl)}var that=this,serialized,deferred;return(serialized=this._readFromStorage(o.thumbprint))?(this.index.bootstrap(serialized),deferred=$.Deferred().resolve()):deferred=$.ajax(o.url,o.ajax).done(handlePrefetchResponse),deferred},_getFromRemote:function getFromRemote(query,cb){function handleRemoteResponse(err,resp){err?cb([]):cb(that.remote.filter?that.remote.filter(resp):resp)}var that=this,url,uriEncodedQuery;if(!this.transport)return;return query=query||"",uriEncodedQuery=encodeURIComponent(query),url=this.remote.replace?this.remote.replace(this.remote.url,query):this.remote.url.replace(this.remote.wildcard,uriEncodedQuery),this.transport.get(url,this.remote.ajax,handleRemoteResponse)},_cancelLastRemoteRequest:function cancelLastRemoteRequest(){this.transport&&this.transport.cancel()},_saveToStorage:function saveToStorage(data,thumbprint,ttl){this.storage&&(this.storage.set(keys.data,data,ttl),this.storage.set(keys.protocol,location.protocol,ttl),this.storage.set(keys.thumbprint,thumbprint,ttl))},_readFromStorage:function readFromStorage(thumbprint){var stored={},isExpired;return this.storage&&(stored.data=this.storage.get(keys.data),stored.protocol=this.storage.get(keys.protocol),stored.thumbprint=this.storage.get(keys.thumbprint)),isExpired=stored.thumbprint!==thumbprint||stored.protocol!==location.protocol,stored.data&&!isExpired?stored.data:null},_initialize:function initialize(){function addLocalToIndex(){that.add(_.isFunction(local)?local():local)}var that=this,local=this.local,deferred;return deferred=this.prefetch?this._loadPrefetch(this.prefetch):$.Deferred().resolve(),local&&deferred.done(addLocalToIndex),this.transport=this.remote?new Transport(this.remote):null,this.initPromise=deferred.promise()},initialize:function initialize(force){return!this.initPromise||force?this._initialize():this.initPromise},add:function add(data){this.index.add(data)},get:function get(query,cb){function returnRemoteMatches(remoteMatches){var matchesWithBackfill=matches.slice(0);_.each(remoteMatches,function(remoteMatch){var isDuplicate;return isDuplicate=_.some(matchesWithBackfill,function(match){return that.dupDetector(remoteMatch,match)}),!isDuplicate&&matchesWithBackfill.push(remoteMatch),matchesWithBackfill.length<that.limit}),cb&&cb(that.sorter(matchesWithBackfill))}var that=this,matches=[],cacheHit=!1;matches=this.index.get(query),matches=this.sorter(matches).slice(0,this.limit),matches.length<this.limit?cacheHit=this._getFromRemote(query,returnRemoteMatches):this._cancelLastRemoteRequest(),cacheHit||(matches.length>0||!this.transport)&&cb&&cb(matches)},clear:function clear(){this.index.reset()},clearPrefetchCache:function clearPrefetchCache(){this.storage&&this.storage.clear()},clearRemoteCache:function clearRemoteCache(){this.transport&&Transport.resetCache()},ttAdapter:function ttAdapter(){return _.bind(this.get,this)}}),Bloodhound})(this);var html=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),css=function(){"use strict";var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return _.isMsie()&&_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),_.isMsie()&&_.isMsie()<=7&&_.mixin(css.input,{marginTop:"-1px"}),css}(),EventBus=function(){"use strict";function EventBus(o){(!o||!o.el)&&$.error("EventBus initialized without el"),this.$el=$(o.el)}var namespace="typeahead:";return _.mixin(EventBus.prototype,{trigger:function(type){var args=[].slice.call(arguments,1);this.$el.trigger(namespace+type,args)}}),EventBus}(),EventEmitter=function(){"use strict";function on(method,types,cb,context){var type;if(!cb)return this;types=types.split(splitter),cb=context?bindContext(cb,context):cb,this._callbacks=this._callbacks||{};while(type=types.shift())this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]},this._callbacks[type][method].push(cb);return this}function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}function off(types){var type;if(!this._callbacks)return this;types=types.split(splitter);while(type=types.shift())delete this._callbacks[type];return this}function trigger(types){var type,callbacks,args,syncFlush,asyncFlush;if(!this._callbacks)return this;types=types.split(splitter),args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type]))syncFlush=getFlush(callbacks.sync,this,[type].concat(args)),asyncFlush=getFlush(callbacks.async,this,[type].concat(args)),syncFlush()&&nextTick(asyncFlush);return this
}function getFlush(callbacks,context,args){function flush(){var cancelled;for(var i=0,len=callbacks.length;!cancelled&&i<len;i+=1)cancelled=callbacks[i].apply(context,args)===!1;return!cancelled}return flush}function getNextTick(){var nextTickFn;return window.setImmediate?nextTickFn=function nextTickSetImmediate(fn){setImmediate(function(){fn()})}:nextTickFn=function nextTickSetTimeout(fn){setTimeout(function(){fn()},0)},nextTickFn}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}var splitter=/\s+/,nextTick=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger}}(),highlight=function(doc){"use strict";function getRegex(patterns,caseSensitive,wordsOnly){var escapedPatterns=[],regexStr;for(var i=0,len=patterns.length;i<len;i++)escapedPatterns.push(_.escapeRegExChars(patterns[i]));return regexStr=wordsOnly?"\\b("+escapedPatterns.join("|")+")\\b":"("+escapedPatterns.join("|")+")",caseSensitive?new RegExp(regexStr):new RegExp(regexStr,"i")}var defaults={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function hightlight(o){function hightlightTextNode(textNode){var match,patternNode,wrapperNode;if(match=regex.exec(textNode.data))wrapperNode=doc.createElement(o.tagName),o.className&&(wrapperNode.className=o.className),patternNode=textNode.splitText(match.index),patternNode.splitText(match[0].length),wrapperNode.appendChild(patternNode.cloneNode(!0)),textNode.parentNode.replaceChild(wrapperNode,patternNode);return!!match}function traverse(el,hightlightTextNode){var childNode,TEXT_NODE_TYPE=3;for(var i=0;i<el.childNodes.length;i++)childNode=el.childNodes[i],childNode.nodeType===TEXT_NODE_TYPE?i+=hightlightTextNode(childNode)?1:0:traverse(childNode,hightlightTextNode)}var regex;o=_.mixin({},defaults,o);if(!o.node||!o.pattern)return;o.pattern=_.isArray(o.pattern)?o.pattern:[o.pattern],regex=getRegex(o.pattern,o.caseSensitive,o.wordsOnly),traverse(o.node,hightlightTextNode)}}(window.document),Input=function(){"use strict";function Input(o){var that=this,onBlur,onFocus,onKeydown,onInput;o=o||{},o.input||$.error("input is missing"),onBlur=_.bind(this._onBlur,this),onFocus=_.bind(this._onFocus,this),onKeydown=_.bind(this._onKeydown,this),onInput=_.bind(this._onInput,this),this.$hint=$(o.hint),this.$input=$(o.input).on("blur.tt",onBlur).on("focus.tt",onFocus).on("keydown.tt",onKeydown),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop),_.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode])return;_.defer(_.bind(that._onInput,that,$e))}):this.$input.on("input.tt",onInput),this.query=this.$input.val(),this.$overflowHelper=buildOverflowHelper(this.$input)}function buildOverflowHelper($input){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:$input.css("font-family"),fontSize:$input.css("font-size"),fontStyle:$input.css("font-style"),fontVariant:$input.css("font-variant"),fontWeight:$input.css("font-weight"),wordSpacing:$input.css("word-spacing"),letterSpacing:$input.css("letter-spacing"),textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}var specialKeyCodeMap;return specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},Input.normalizeQuery=function(str){return(str||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function onFocus(){this.trigger("focused")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e),keyName&&this._shouldTrigger(keyName,$e)&&this.trigger(keyName+"Keyed",$e)},_onInput:function onInput(){this._checkInputValue()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault,hintValue,inputValue;switch(keyName){case"tab":hintValue=this.getHint(),inputValue=this.getInputValue(),preventDefault=hintValue&&hintValue!==inputValue&&!withModifier($e);break;case"up":case"down":preventDefault=!withModifier($e);break;default:preventDefault=!1}preventDefault&&$e.preventDefault()},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case"tab":trigger=!withModifier($e);break;default:trigger=!0}return trigger},_checkInputValue:function checkInputValue(){var inputValue,areEquivalent,hasDifferentWhitespace;inputValue=this.getInputValue(),areEquivalent=areQueriesEquivalent(inputValue,this.query),hasDifferentWhitespace=areEquivalent?this.query.length!==inputValue.length:!1,this.query=inputValue,areEquivalent?hasDifferentWhitespace&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getQuery:function getQuery(){return this.query},setQuery:function setQuery(query){this.query=query},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value,silent){this.$input.val(value),silent?this.clearHint():this._checkInputValue()},resetInputValue:function resetInputValue(){this.setInputValue(this.query,!0)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var val,hint,valIsPrefixOfHint,isValid;val=this.getInputValue(),hint=this.getHint(),valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0,isValid=val!==""&&valIsPrefixOfHint&&!this.hasOverflow(),!isValid&&this.clearHint()},getLanguageDirection:function getLanguageDirection(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength,selectionStart,range;return valueLength=this.$input.val().length,selectionStart=this.$input[0].selectionStart,_.isNumber(selectionStart)?selectionStart===valueLength:document.selection?(range=document.selection.createRange(),range.moveStart("character",-valueLength),valueLength===range.text.length):!0},destroy:function destroy(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),Input}(),Dataset=function(){"use strict";function Dataset(o){o=o||{},o.templates=o.templates||{},o.source||$.error("missing source"),o.name&&!isValidName(o.name)&&$.error("invalid dataset name: "+o.name),this.query=null,this.highlight=!!o.highlight,this.name=o.name||_.getUniqueId(),this.source=o.source,this.displayFn=getDisplayFn(o.display||o.displayKey),this.templates=getTemplates(o.templates,this.displayFn),this.$el=$(html.dataset.replace("%CLASS%",this.name))}function getDisplayFn(display){function displayFn(obj){return obj[display]}return display=display||"value",_.isFunction(display)?display:displayFn}function getTemplates(templates,displayFn){function suggestionTemplate(context){return"<p>"+displayFn(context)+"</p>"}return{empty:templates.empty&&_.templatify(templates.empty),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}var datasetKey="ttDataset",valueKey="ttValue",datumKey="ttDatum";return Dataset.extractDatasetName=function extractDatasetName(el){return $(el).data(datasetKey)},Dataset.extractValue=function extractDatum(el){return $(el).data(valueKey)},Dataset.extractDatum=function extractDatum(el){return $(el).data(datumKey)},_.mixin(Dataset.prototype,EventEmitter,{_render:function render(query,suggestions){function getEmptyHtml(){return that.templates.empty({query:query,isEmpty:!0})}function getSuggestionsHtml(){function getSuggestionNode(suggestion){var $el;return $el=$(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey,that.name).data(valueKey,that.displayFn(suggestion)).data(datumKey,suggestion),$el.children().each(function(){$(this).css(css.suggestionChild)}),$el}var $suggestions,nodes;return $suggestions=$(html.suggestions).css(css.suggestions),nodes=_.map(suggestions,getSuggestionNode),$suggestions.append.apply($suggestions,nodes),that.highlight&&highlight({className:"tt-highlight",node:$suggestions[0],pattern:query}),$suggestions}function getHeaderHtml(){return that.templates.header({query:query,isEmpty:!hasSuggestions})}function getFooterHtml(){return that.templates.footer({query:query,isEmpty:!hasSuggestions})}if(!this.$el)return;var that=this,hasSuggestions;this.$el.empty(),hasSuggestions=suggestions&&suggestions.length,!hasSuggestions&&this.templates.empty?this.$el.html(getEmptyHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null):hasSuggestions&&this.$el.html(getSuggestionsHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null),this.trigger("rendered")},getRoot:function getRoot(){return this.$el},update:function update(query){function render(suggestions){!that.canceled&&query===that.query&&that._render(query,suggestions)}var that=this;this.query=query,this.canceled=!1,this.source(query,render)},cancel:function cancel(){this.canceled=!0},clear:function clear(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function isEmpty(){return this.$el.is(":empty")},destroy:function destroy(){this.$el=null}}),Dataset}(),Dropdown=function(){"use strict";function Dropdown(o){var that=this,onSuggestionClick,onSuggestionMouseEnter,onSuggestionMouseLeave;o=o||{},o.menu||$.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=_.map(o.datasets,initializeDataset),onSuggestionClick=_.bind(this._onSuggestionClick,this),onSuggestionMouseEnter=_.bind(this._onSuggestionMouseEnter,this),onSuggestionMouseLeave=_.bind(this._onSuggestionMouseLeave,this),this.$menu=$(o.menu).on("click.tt",".tt-suggestion",onSuggestionClick).on("mouseenter.tt",".tt-suggestion",onSuggestionMouseEnter).on("mouseleave.tt",".tt-suggestion",onSuggestionMouseLeave),_.each(this.datasets,function(dataset){that.$menu.append(dataset.getRoot()),dataset.onSync("rendered",that._onRendered,that)})}function initializeDataset(oDataset){return new Dataset(oDataset)}return _.mixin(Dropdown.prototype,EventEmitter,{_onSuggestionClick:function onSuggestionClick($e){this.trigger("suggestionClicked",$($e.currentTarget))},_onSuggestionMouseEnter:function onSuggestionMouseEnter($e){this._removeCursor(),this._setCursor($($e.currentTarget),!0)},_onSuggestionMouseLeave:function onSuggestionMouseLeave(){this._removeCursor()},_onRendered:function onRendered(){function isDatasetEmpty(dataset){return dataset.isEmpty()}this.isEmpty=_.every(this.datasets,isDatasetEmpty),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function getSuggestions(){return this.$menu.find(".tt-suggestion")},_getCursor:function getCursor(){return this.$menu.find(".tt-cursor").first()},_setCursor:function setCursor($el,silent){$el.first().addClass("tt-cursor"),!silent&&this.trigger("cursorMoved")},_removeCursor:function removeCursor(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function moveCursor(increment){var $suggestions,$oldCursor,newCursorIndex,$newCursor;if(!this.isOpen)return;$oldCursor=this._getCursor(),$suggestions=this._getSuggestions(),this._removeCursor(),newCursorIndex=$suggestions.index($oldCursor)+increment,newCursorIndex=(newCursorIndex+1)%($suggestions.length+1)-1;if(newCursorIndex===-1){this.trigger("cursorRemoved");return}newCursorIndex<-1&&(newCursorIndex=$suggestions.length-1),this._setCursor($newCursor=$suggestions.eq(newCursorIndex)),this._ensureVisible($newCursor)},_ensureVisible:function ensureVisible($el){var elTop,elBottom,menuScrollTop,menuHeight;elTop=$el.position().top,elBottom=elTop+$el.outerHeight(!0),menuScrollTop=this.$menu.scrollTop(),menuHeight=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),elTop<0?this.$menu.scrollTop(menuScrollTop+elTop):menuHeight<elBottom&&this.$menu.scrollTop(menuScrollTop+(elBottom-menuHeight))},close:function close(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function open(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function setLanguageDirection(dir){this.$menu.css(dir==="ltr"?css.ltr:css.rtl)},moveCursorUp:function moveCursorUp(){this._moveCursor(-1)},moveCursorDown:function moveCursorDown(){this._moveCursor(1)},getDatumForSuggestion:function getDatumForSuggestion($el){var datum=null;return $el.length&&(datum={raw:Dataset.extractDatum($el),value:Dataset.extractValue($el),datasetName:Dataset.extractDatasetName($el)}),datum},getDatumForCursor:function getDatumForCursor(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function getDatumForTopSuggestion(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function update(query){function updateDataset(dataset){dataset.update(query)}_.each(this.datasets,updateDataset)},empty:function empty(){function clearDataset(dataset){dataset.clear()}_.each(this.datasets,clearDataset),this.isEmpty=!0},isVisible:function isVisible(){return this.isOpen&&!this.isEmpty},destroy:function destroy(){function destroyDataset(dataset){dataset.destroy()}this.$menu.off(".tt"),this.$menu=null,_.each(this.datasets,destroyDataset)}}),Dropdown}(),Typeahead=function(){"use strict";function Typeahead(o){var $menu,$input,$hint;o=o||{},o.input||$.error("missing input"),this.isActivated=!1,this.autoselect=!!o.autoselect,this.minLength=_.isNumber(o.minLength)?o.minLength:1,this.$node=buildDom(o.input,o.withHint),$menu=this.$node.find(".tt-dropdown-menu"),$input=this.$node.find(".tt-input"),$hint=this.$node.find(".tt-hint"),$input.on("blur.tt",function($e){var active,isActive,hasActive;active=document.activeElement,isActive=$menu.is(active),hasActive=$menu.has(active).length>0,_.isMsie()&&(isActive||hasActive)&&($e.preventDefault(),$e.stopImmediatePropagation(),_.defer(function(){$input.focus()}))}),$menu.on("mousedown.tt",function($e){$e.preventDefault()}),this.eventBus=o.eventBus||new EventBus({el:$input}),this.dropdown=(new Dropdown({menu:$menu,datasets:o.datasets})).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=(new Input({input:$input,hint:$hint})).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function buildDom(input,withHint){var $input,$wrapper,$dropdown,$hint;$input=$(input),$wrapper=$(html.wrapper).css(css.wrapper),$dropdown=$(html.dropdown).css(css.dropdown),$hint=$input.clone().css(css.hint).css(getBackgroundStyles($input)),$hint.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),$input.data(attrsKey,{dir:$input.attr("dir"),autocomplete:$input.attr("autocomplete"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style")}),$input.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(withHint?css.input:css.inputWithNoHint);try{!$input.attr("dir")&&$input.attr("dir","auto")}catch(e){}return $input.wrap($wrapper).parent().prepend(withHint?$hint:null).append($dropdown)}function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}function destroyDomStructure($node){var $input=$node.find(".tt-input");_.each($input.data(attrsKey),function(val,key){_.isUndefined(val)?$input.removeAttr(key):$input.attr(key,val)}),$input.detach().removeData(attrsKey).removeClass("tt-input").insertAfter($node),$node.remove()}var attrsKey="ttAttrs";return _.mixin(Typeahead.prototype,{_onSuggestionClicked:function onSuggestionClicked(type,$el){var datum;(datum=this.dropdown.getDatumForSuggestion($el))&&this._select(datum)},_onCursorMoved:function onCursorMoved(){var datum=this.dropdown.getDatumForCursor();this.input.setInputValue(datum.value,!0),this.eventBus.trigger("cursorchanged",datum.raw,datum.datasetName)},_onCursorRemoved:function onCursorRemoved(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function onDatasetRendered(){this._updateHint()},_onOpened:function onOpened(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function onClosed(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function onFocused(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function onBlurred(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function onEnterKeyed(type,$e){var cursorDatum,topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor(),topSuggestionDatum=this.dropdown.getDatumForTopSuggestion(),cursorDatum?(this._select(cursorDatum),$e.preventDefault()):this.autoselect&&topSuggestionDatum&&(this._select(topSuggestionDatum),$e.preventDefault())},_onTabKeyed:function onTabKeyed(type,$e){var datum;(datum=this.dropdown.getDatumForCursor())?(this._select(datum),$e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function onEscKeyed(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function onUpKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function onDownKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function onLeftKeyed(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function onRightKeyed(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function onQueryChanged(e,query){this.input.clearHintIfInvalid(),query.length>=this.minLength?this.dropdown.update(query):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function setLanguageDirection(){var dir;this.dir!==(dir=this.input.getLanguageDirection())&&(this.dir=dir,this.$node.css("direction",dir),this.dropdown.setLanguageDirection(dir))},_updateHint:function updateHint(){var datum,val,query,escapedQuery,frontMatchRegEx,match;datum=this.dropdown.getDatumForTopSuggestion(),datum&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(val=this.input.getInputValue(),query=Input.normalizeQuery(val),escapedQuery=_.escapeRegExChars(query),frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i"),match=frontMatchRegEx.exec(datum.value),match?this.input.setHint(val+match[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function autocomplete(laxCursor){var hint,query,isCursorAtEnd,datum;hint=this.input.getHint(),query=this.input.getQuery(),isCursorAtEnd=laxCursor||this.input.isCursorAtEnd(),hint&&query!==hint&&isCursorAtEnd&&(datum=this.dropdown.getDatumForTopSuggestion(),datum&&this.input.setInputValue(datum.value),this.eventBus.trigger("autocompleted",datum.raw,datum.datasetName))},_select:function select(datum){this.input.setQuery(datum.value),this.input.setInputValue(datum.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",datum.raw,datum.datasetName),this.dropdown.close(),_.defer(_.bind(this.dropdown.empty,this.dropdown))},open:function open(){this.dropdown.open()},close:function close(){this.dropdown.close()},setVal:function setVal(val){val=_.toStr(val),this.isActivated?this.input.setInputValue(val):(this.input.setQuery(val),this.input.setInputValue(val,!0)),this._setLanguageDirection()},getVal:function getVal(){return this.input.getQuery()},destroy:function destroy(){this.input.destroy(),this.dropdown.destroy(),destroyDomStructure(this.$node),this.$node=null}}),Typeahead}();(function(){"use strict";var old,typeaheadKey,methods;old=$.fn.typeahead,typeaheadKey="ttTypeahead",methods={initialize:function initialize(o,datasets){function attach(){var $input=$(this),eventBus,typeahead;_.each(datasets,function(d){d.highlight=!!o.highlight}),typeahead=new Typeahead({input:$input,eventBus:eventBus=new EventBus({el:$input}),withHint:_.isUndefined(o.hint)?!0:!!o.hint,minLength:o.minLength,autoselect:o.autoselect,datasets:datasets}),$input.data(typeaheadKey,typeahead)}return datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1),o=o||{},this.each(attach)},open:function open(){function openTypeahead(){var $input=$(this),typeahead;(typeahead=$input.data(typeaheadKey))&&typeahead.open()}return this.each(openTypeahead)},close:function close(){function closeTypeahead(){var $input=$(this),typeahead;(typeahead=$input.data(typeaheadKey))&&typeahead.close()}return this.each(closeTypeahead)},val:function val(newVal){function setVal(){var $input=$(this),typeahead;(typeahead=$input.data(typeaheadKey))&&typeahead.setVal(newVal)}function getVal($input){var typeahead,query;if(typeahead=$input.data(typeaheadKey))query=typeahead.getVal();return query}return arguments.length?this.each(setVal):getVal(this.first())},destroy:function destroy(){function unattach(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey))typeahead.destroy(),$input.removeData(typeaheadKey)}return this.each(unattach)}},$.fn.typeahead=function(method){var tts;return methods[method]&&method!=="initialize"?(tts=this.filter(function(){return!!$(this).data(typeaheadKey)}),methods[method].apply(tts,[].slice.call(arguments,1))):methods.initialize.apply(this,arguments)},$.fn.typeahead.noConflict=function noConflict(){return $.fn.typeahead=old,this}})()})(window.jQuery)},{}],734:[function(require,module,exports){(function(){function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;return arguments.length<3&&(memo=obj[keys?keys[index]:index],index+=dir),iterator(obj,iteratee,memo,keys,index,length)}}function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);var length=getLength(array),index=dir>0?0:length-1;for(;index>=0&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}}function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if(typeof idx=="number")dir>0?i=idx>=0?idx:Math.max(idx+length,i):length=idx>=0?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return idx=sortedIndex(array,item),array[idx]===item?idx:-1;if(item!==item)return idx=predicateFind(slice.call(array,i,length),_.isNaN),idx>=0?idx+i:-1;for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}}function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";_.has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);while(nonEnumIdx--)prop=nonEnumerableProps[nonEnumIdx],prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)}var root=this,previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create,Ctor=function(){},_=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.8.3";var optimizeCb=function(func,context,argCount){if(context===void 0)return func;switch(argCount==null?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return value==null?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)?_.matcher(value):_.property(value)};_.iteratee=function(value,context){return cb(value,context,Infinity)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(length<2||obj==null)return obj;for(var index=1;index<length;index++){var source=arguments[index],keys=keysFunc(source),l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(!undefinedOnly||obj[key]===void 0)obj[key]=source[key]}}return obj}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},property=function(key){return function(obj){return obj==null?void 0:obj[key]}},MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=property("length"),isArrayLike=function(collection){var length=getLength(collection);return typeof length=="number"&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length);for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results},_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key;isArrayLike(obj)?key=_.findIndex(obj,predicate,context):key=_.findKey(obj,predicate,context);if(key!==void 0&&key!==-1)return obj[key]},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){isArrayLike(obj)||(obj=_.values(obj));if(typeof fromIndex!="number"||guard)fromIndex=0;return _.indexOf(obj,item,fromIndex)>=0},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return func==null?func:func.apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var result=-Infinity,lastComputed=-Infinity,value,computed;if(iteratee==null&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)value=obj[i],value>result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed>lastComputed||computed===-Infinity&&result===-Infinity)result=value,lastComputed=computed});return result},_.min=function(obj,iteratee,context){var result=Infinity,lastComputed=Infinity,value,computed;if(iteratee==null&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)value=obj[i],value<result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed<lastComputed||computed===Infinity&&result===Infinity)result=value,lastComputed=computed});return result},_.shuffle=function(obj){var set=isArrayLike(obj)?obj:_.values(obj),length=set.length,shuffled=Array(length);for(var index=0,rand;index<length;index++)rand=_.random(0,index),rand!==index&&(shuffled[index]=shuffled[rand]),shuffled[rand]=set[index];return shuffled},_.sample=function(obj,n,guard){return n==null||guard?(isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))},_.sortBy=function(obj,iteratee,context){return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){_.has(result,key)?result[key]++:result[key]=1}),_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return obj==null?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];return _.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)}),[pass,fail]},_.first=_.head=_.take=function(array,n,guard){return array==null?void 0:n==null||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(n==null||guard?1:n)))},_.last=function(array,n,guard){return array==null?void 0:n==null||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){var output=
[],idx=0;for(var i=startIndex||0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){shallow||(value=flatten(value,shallow,strict));var j=0,len=value.length;output.length+=len;while(j<len)output[idx++]=value[j++]}else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iteratee,context){_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),iteratee!=null&&(iteratee=cb(iteratee,context));var result=[],seen=[];for(var i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted?((!i||seen!==computed)&&result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=function(){return _.uniq(flatten(arguments,!0,!0))},_.intersection=function(array){var result=[],argsLength=arguments.length;for(var i=0,length=getLength(array);i<length;i++){var item=array[i];if(_.contains(result,item))continue;for(var j=1;j<argsLength;j++)if(!_.contains(arguments[j],item))break;j===argsLength&&result.push(item)}return result},_.difference=function(array){var rest=flatten(arguments,!0,!0,1);return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(array){var length=array&&_.max(array,getLength).length||0,result=Array(length);for(var index=0;index<length;index++)result[index]=_.pluck(array,index);return result},_.object=function(list,values){var result={};for(var i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.findIndex=createPredicateIndexFinder(1),_.findLastIndex=createPredicateIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);var value=iteratee(obj),low=0,high=getLength(array);while(low<high){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low},_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(start,stop,step){stop==null&&(stop=start||0,start=0),step=step||1;var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length);for(var idx=0;idx<length;idx++,start+=step)range[idx]=start;return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(callingContext instanceof boundFunc){var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self}return sourceFunc.apply(context,args)};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2),bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound},_.partial=function(func){var boundArgs=slice.call(arguments,1),bound=function(){var position=0,length=boundArgs.length,args=Array(length);for(var i=0;i<length;i++)args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i];while(position<arguments.length)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound},_.bindAll=function(obj){var i,length=arguments.length,key;if(length<=1)throw new Error("bindAll must be passed function names");for(i=1;i<length;i++)key=arguments[i],obj[key]=_.bind(obj[key],obj);return obj},_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return _.has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},memoize},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=_.now();!previous&&options.leading===!1&&(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):!timeout&&options.trailing!==!1&&(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){var i=start,result=args[start].apply(this,arguments);while(i--)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),times<=1&&(func=null),memo}},_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){var keys=_.keys(obj),length=keys.length,values=Array(length);for(var i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=_.keys(obj),length=keys.length,results={},currentKey;for(var index=0;index<length;index++)currentKey=keys[index],results[currentKey]=iteratee(obj[currentKey],currentKey,obj);return results},_.pairs=function(obj){var keys=_.keys(obj),length=keys.length,pairs=Array(length);for(var i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){var result={},keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);var keys=_.keys(obj),key;for(var i=0,length=keys.length;i<length;i++){key=keys[i];if(predicate(obj[key],key,obj))return key}},_.pick=function(object,oiteratee,context){var result={},obj=object,iteratee,keys;if(obj==null)return result;_.isFunction(oiteratee)?(keys=_.allKeys(obj),iteratee=optimizeCb(oiteratee,context)):(keys=flatten(arguments,!1,!1,1),iteratee=function(value,key,obj){return key in obj},obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result},_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee))iteratee=_.negate(iteratee);else{var keys=_.map(flatten(arguments,!1,!1,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)},_.defaults=createAssigner(_.allKeys,!0),_.create=function(prototype,props){var result=baseCreate(prototype);return props&&_.extendOwn(result,props),result},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(object==null)return!length;var obj=Object(object);for(var i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var areArrays=className==="[object Array]";if(!areArrays){if(typeof a!="object"||typeof b!="object")return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}aStack=aStack||[],bStack=bStack||[];var length=aStack.length;while(length--)if(aStack[length]===a)return bStack[length]===b;aStack.push(a),bStack.push(b);if(areArrays){length=a.length;if(length!==b.length)return!1;while(length--)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var keys=_.keys(a),key;length=keys.length;if(_.keys(b).length!==length)return!1;while(length--){key=keys[length];if(!_.has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}}return aStack.pop(),bStack.pop(),!0};_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return obj==null?!0:isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?obj.length===0:_.keys(obj).length===0},_.isElement=function(obj){return!!obj&&obj.nodeType===1},_.isArray=nativeIsArray||function(obj){return toString.call(obj)==="[object Array]"},_.isObject=function(obj){var type=typeof obj;return type==="function"||type==="object"&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return _.has(obj,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(_.isFunction=function(obj){return typeof obj=="function"||!1}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||toString.call(obj)==="[object Boolean]"},_.isNull=function(obj){return obj===null},_.isUndefined=function(obj){return obj===void 0},_.has=function(obj,key){return obj!=null&&hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=property,_.propertyOf=function(obj){return obj==null?function(){}:function(key){return obj[key]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return max==null&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=string==null?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(object,property,fallback){var value=object==null?void 0:object[property];return value===void 0&&(value=fallback),_.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result(this,func.apply(_,args))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),(name==="shift"||name==="splice")&&obj.length===0&&delete obj[0],result(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return _})}).call(this)},{}],735:[function(require,module,exports){function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],736:[function(require,module,exports){(function(window,undefined){"use strict";var _window=window,_document=_window.document,_navigator=_window.navigator,_setTimeout=_window.setTimeout,_clearTimeout=_window.clearTimeout,_setInterval=_window.setInterval,_clearInterval=_window.clearInterval,_getComputedStyle=_window.getComputedStyle,_encodeURIComponent=_window.encodeURIComponent,_ActiveXObject=_window.ActiveXObject,_Error=_window.Error,_parseInt=_window.Number.parseInt||_window.parseInt,_parseFloat=_window.Number.parseFloat||_window.parseFloat,_isNaN=_window.Number.isNaN||_window.isNaN,_now=_window.Date.now,_keys=_window.Object.keys,_defineProperty=_window.Object.defineProperty,_hasOwn=_window.Object.prototype.hasOwnProperty,_slice=_window.Array.prototype.slice,_unwrap=function(){var unwrapper=function(el){return el};if(typeof _window.wrap=="function"&&typeof _window.unwrap=="function")try{var div=_document.createElement("div"),unwrappedDiv=_window.unwrap(div);div.nodeType===1&&unwrappedDiv&&unwrappedDiv.nodeType===1&&(unwrapper=_window.unwrap)}catch(e){}return unwrapper}(),_args=function(argumentsObj){return _slice.call(argumentsObj,0)},_extend=function(){var i,len,arg,prop,src,copy,args=_args(arguments),target=args[0]||{};for(i=1,len=args.length;i<len;i++)if((arg=args[i])!=null)for(prop in arg)_hasOwn.call(arg,prop)&&(src=target[prop],copy=arg[prop],target!==copy&&copy!==undefined&&(target[prop]=copy));return target},_deepCopy=function(source){var copy,i,len,prop;if(typeof source!="object"||source==null||typeof source.nodeType=="number")copy=source;else if(typeof source.length=="number"){copy=[];for(i=0,len=source.length;i<len;i++)_hasOwn.call(source,i)&&(copy[i]=_deepCopy(source[i]))}else{copy={};for(prop in source)_hasOwn.call(source,prop)&&(copy[prop]=_deepCopy(source[prop]))}return copy},_pick=function(obj,keys){var newObj={};for(var i=0,len=keys.length;i<len;i++)keys[i]in obj&&(newObj[keys[i]]=obj[keys[i]]);return newObj},_omit=function(obj,keys){var newObj={};for(var prop in obj)keys.indexOf(prop)===-1&&(newObj[prop]=obj[prop]);return newObj},_deleteOwnProperties=function(obj){if(obj)for(var prop in obj)_hasOwn.call(obj,prop)&&delete obj[prop];return obj},_containedBy=function(el,ancestorEl){if(el&&el.nodeType===1&&el.ownerDocument&&ancestorEl&&(ancestorEl.nodeType===1&&ancestorEl.ownerDocument&&ancestorEl.ownerDocument===el.ownerDocument||ancestorEl.nodeType===9&&!ancestorEl.ownerDocument&&ancestorEl===el.ownerDocument))do{if(el===ancestorEl)return!0;el=el.parentNode}while(el);return!1},_getDirPathOfUrl=function(url){var dir;return typeof url=="string"&&url&&(dir=url.split("#")[0].split("?")[0],dir=url.slice(0,url.lastIndexOf("/")+1)),dir},_getCurrentScriptUrlFromErrorStack=function(stack){var url,matches;return typeof stack=="string"&&stack&&(matches=stack.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]?url=matches[1]:(matches=stack.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]&&(url=matches[1]))),url},_getCurrentScriptUrlFromError=function(){var url,err;try{throw new _Error}catch(e){err=e}return err&&(url=err.sourceURL||err.fileName||_getCurrentScriptUrlFromErrorStack(err.stack)),url},_getCurrentScriptUrl=function(){var jsPath,scripts,i;if(_document.currentScript&&(jsPath=_document.currentScript.src))return jsPath;scripts=_document.getElementsByTagName("script");if(scripts.length===1)return scripts[0].src||undefined;if("readyState"in scripts[0])for(i=scripts.length;i--;)if(scripts[i].readyState==="interactive"&&(jsPath=scripts[i].src))return jsPath;return _document.readyState==="loading"&&(jsPath=scripts[scripts.length-1].src)?jsPath:(jsPath=_getCurrentScriptUrlFromError())?jsPath:undefined},_getUnanimousScriptParentDir=function(){var i,jsDir,jsPath,scripts=_document.getElementsByTagName("script");for(i=scripts.length;i--;){if(!(jsPath=scripts[i].src)){jsDir=null;break}jsPath=_getDirPathOfUrl(jsPath);if(jsDir==null)jsDir=jsPath;else if(jsDir!==jsPath){jsDir=null;break}}return jsDir||undefined},_getDefaultSwfPath=function(){var jsDir=_getDirPathOfUrl(_getCurrentScriptUrl())||_getUnanimousScriptParentDir()||"";return jsDir+"ZeroClipboard.swf"},_pageIsFramed=function(){return window.opener==null&&(!!window.top&&window!=window.top||!!window.parent&&window!=window.parent)}(),_flashState={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},_minimumFlashVersion="11.0.0",_zcSwfVersion,_handlers={},_currentElement,_copyTarget,_clipData={},_clipDataFormatMap=null,_flashCheckTimeout=0,_swfFallbackCheckInterval=0,_eventMessages={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},_errorsThatOnlyOccurAfterFlashLoads=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],_flashStateErrorNames=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],_flashStateErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_flashStateEnabledErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.slice(1).map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_globalConfig={swfPath:_getDefaultSwfPath(),trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},_config=function(options){if(typeof options=="object"&&options!==null)for(var prop in options)if(_hasOwn.call(options,prop))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(prop))_globalConfig[prop]=options[prop];else if(_flashState.bridge==null)if(prop==="containerId"||prop==="swfObjectId"){if(!_isValidHtml4Id(options[prop]))throw new Error("The specified `"+prop+"` value is not valid as an HTML4 Element ID");_globalConfig[prop]=options[prop]}else _globalConfig[prop]=options[prop];if(typeof options=="string"&&options){if(_hasOwn.call(_globalConfig,options))return _globalConfig[options];return}return _deepCopy(_globalConfig)},_state=function(){return _detectSandbox(),{browser:_pick(_navigator,["userAgent","platform","appName"]),flash:_omit(_flashState,["bridge"]),zeroclipboard:{version:ZeroClipboard.version,config:ZeroClipboard.config()}}},_isFlashUnusable=function(){return!!(_flashState.disabled||_flashState.outdated||_flashState.sandboxed||_flashState.unavailable||_flashState.degraded||_flashState.deactivated)},_on=function(eventType,listener){var i,len,events,added={};if(typeof eventType=="string"&&eventType)events=eventType.toLowerCase().split(/\s+/);else if(typeof eventType=="object"&&eventType&&typeof listener=="undefined")for(i in eventType)_hasOwn.call(eventType,i)&&typeof i=="string"&&i&&typeof eventType[i]=="function"&&ZeroClipboard.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,_handlers[eventType]||(_handlers[eventType]=[]),_handlers[eventType].push(listener);added.ready&&_flashState.ready&&ZeroClipboard.emit({type:"ready"});if(added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]===!0){ZeroClipboard.emit({type:"error",name:_flashStateErrorNames[i]});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&ZeroClipboard.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return ZeroClipboard},_off=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers;if(arguments.length===0)events=_keys(_handlers);else if(typeof eventType=="string"&&eventType)events=eventType.split(/\s+/);else if(typeof eventType=="object"&&eventType&&typeof listener=="undefined")for(i in eventType)_hasOwn.call(eventType,i)&&typeof i=="string"&&i&&typeof eventType[i]=="function"&&ZeroClipboard.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;i<len;i++){eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=_handlers[eventType];if(perEventHandlers&&perEventHandlers.length)if(listener){foundIndex=perEventHandlers.indexOf(listener);while(foundIndex!==-1)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex)}else perEventHandlers.length=0}return ZeroClipboard},_listeners=function(eventType){var copy;return typeof eventType=="string"&&eventType?copy=_deepCopy(_handlers[eventType])||null:copy=_deepCopy(_handlers),copy},_emit=function(event){var eventCopy,returnVal,tmp;event=_createEvent(event);if(!event)return;if(_preprocessEvent(event))return;return event.type==="ready"&&_flashState.overdue===!0?ZeroClipboard.emit({type:"error",name:"flash-overdue"}):(eventCopy=_extend({},event),_dispatchCallbacks.call(this,eventCopy),event.type==="copy"&&(tmp=_mapClipDataToFlash(_clipData),returnVal=tmp.data,_clipDataFormatMap=tmp.formatMap),returnVal)},_create=function(){var previousState=_flashState.sandboxed;_detectSandbox(),typeof _flashState.ready!="boolean"&&(_flashState.ready=!1);if(_flashState.sandboxed!==previousState&&_flashState.sandboxed===!0)_flashState.ready=!1,ZeroClipboard.emit({type:"error",name:"flash-sandboxed"});else if(!ZeroClipboard.isFlashUnusable()&&_flashState.bridge===null){var maxWait=_globalConfig.flashLoadTimeout;typeof maxWait=="number"&&maxWait>=0&&(_flashCheckTimeout=_setTimeout(function(){typeof _flashState.deactivated!="boolean"&&(_flashState.deactivated=!0),_flashState.deactivated===!0&&ZeroClipboard.emit({type:"error",name:"flash-deactivated"})},maxWait)),_flashState.overdue=!1,_embedSwf()}},_destroy=function(){ZeroClipboard.clearData(),ZeroClipboard.blur(),ZeroClipboard.emit("destroy"),_unembedSwf(),ZeroClipboard.off()},_setData=function(format,data){var dataObj;if(typeof format=="object"&&format&&typeof data=="undefined")dataObj=format,ZeroClipboard.clearData();else{if(typeof format!="string"||!format)return;dataObj={},dataObj[format]=data}for(var dataFormat in dataObj)typeof dataFormat=="string"&&dataFormat&&_hasOwn.call(dataObj,dataFormat)&&typeof dataObj[dataFormat]=="string"&&dataObj[dataFormat]&&(_clipData[dataFormat]=dataObj[dataFormat])},_clearData=function(format){typeof format=="undefined"?(_deleteOwnProperties(_clipData),_clipDataFormatMap=null):typeof format=="string"&&_hasOwn.call(_clipData,format)&&delete _clipData[format]},_getData=function(format){if(typeof format=="undefined")return _deepCopy(_clipData);if(typeof format=="string"&&_hasOwn.call(_clipData,format))return _clipData[format]},_focus=function(element){if(!element||element.nodeType!==1)return;_currentElement&&(_removeClass(_currentElement,_globalConfig.activeClass),_currentElement!==element&&_removeClass(_currentElement,_globalConfig.hoverClass)),_currentElement=element,_addClass(element,_globalConfig.hoverClass);var newTitle=element.getAttribute("title")||_globalConfig.title;if(typeof newTitle=="string"&&newTitle){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&htmlBridge.setAttribute("title",newTitle)}var useHandCursor=_globalConfig.forceHandCursor===!0||_getStyle(element,"cursor")==="pointer";_setHandCursor(useHandCursor),_reposition()},_blur=function(){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&(htmlBridge.removeAttribute("title"),htmlBridge.style.left="0px",htmlBridge.style.top="-9999px",htmlBridge.style.width="1px",htmlBridge.style.height="1px"),_currentElement&&(_removeClass(_currentElement,_globalConfig.hoverClass),_removeClass(_currentElement,_globalConfig.activeClass),_currentElement=null)},_activeElement=function(){return _currentElement||null},_isValidHtml4Id=function(id){return typeof id=="string"&&id&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(id)},_createEvent=function(event){var eventType;typeof event=="string"&&event?(eventType=event,event={}):typeof event=="object"&&event&&typeof event.type=="string"&&event.type&&(eventType=event.type);if(!eventType)return;eventType=eventType.toLowerCase(),!event.target&&(/^(copy|aftercopy|_click)$/.test(eventType)||eventType==="error"&&event.name==="clipboard-error")&&(event.target=_copyTarget),_extend(event,{type:eventType,target:event.target||_currentElement||null,relatedTarget:event.relatedTarget||null,currentTarget:_flashState&&_flashState.bridge||null,timeStamp:event.timeStamp||_now()||null});var msg=_eventMessages[event.type];return event.type==="error"&&event.name&&msg&&(msg=msg[event.name]),msg&&(event.message=msg),event.type==="ready"&&_extend(event,{target:null,version:_flashState.version}),event.type==="error"&&(_flashStateErrorNameMatchingRegex.test(event.name)&&_extend(event,{target:null,minimumVersion:_minimumFlashVersion}),_flashStateEnabledErrorNameMatchingRegex.test(event.name)&&_extend(event,{version:_flashState.version})),event.type==="copy"&&(event.clipboardData={setData:ZeroClipboard.setData,clearData:ZeroClipboard.clearData}),event.type==="aftercopy"&&(event=_mapClipResultsFromFlash(event,_clipDataFormatMap)),event.target&&!event.relatedTarget&&(event.relatedTarget=_getRelatedTarget(event.target)),_addMouseData(event)},_getRelatedTarget=function(targetEl){var relatedTargetId=targetEl&&targetEl.getAttribute&&targetEl.getAttribute("data-clipboard-target");return relatedTargetId?_document.getElementById(relatedTargetId):null},_addMouseData=function(event){if(event&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)){var srcElement=event.target,fromElement=event.type==="_mouseover"&&event.relatedTarget?event.relatedTarget:undefined,toElement=event.type==="_mouseout"&&event.relatedTarget?event.relatedTarget:undefined,pos=_getElementPosition(srcElement),screenLeft=_window.screenLeft||_window.screenX||0,screenTop=_window.screenTop||_window.screenY||0,scrollLeft=_document.body.scrollLeft+_document.documentElement.scrollLeft,scrollTop=_document.body.scrollTop+_document.documentElement.scrollTop,pageX=pos.left+(typeof event._stageX=="number"?event._stageX:0),pageY=pos.top+(typeof event._stageY=="number"?event._stageY:0),clientX=pageX-scrollLeft,clientY=pageY-scrollTop,screenX=screenLeft+clientX,screenY=screenTop+clientY,moveX=typeof event.movementX=="number"?event.movementX:0,moveY=typeof event.movementY=="number"?event.movementY:0;delete event._stageX,delete event._stageY,_extend(event,{srcElement:srcElement,fromElement:fromElement,toElement:toElement,screenX:screenX,screenY:screenY,pageX:pageX,pageY:pageY,clientX:clientX,clientY:clientY,x:clientX,y:clientY,movementX:moveX,movementY:moveY,offsetX:0,offsetY:0,layerX:0,layerY:0})}return event},_shouldPerformAsync=function(event){var eventType=event&&typeof event.type=="string"&&event.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(eventType)},_dispatchCallback=function(func,context,args,async){async?_setTimeout(function(){func.apply(context,args)},0):func.apply(context,args)},_dispatchCallbacks=function(event){if(typeof event!="object"||!event||!event.type)return;var async=_shouldPerformAsync(event),wildcardTypeHandlers=_handlers["*"]||[],specificTypeHandlers=_handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,typeof func=="string"&&typeof _window[func]=="function"&&(func=_window[func]),typeof func=="object"&&func&&typeof func.handleEvent=="function"&&(context=
func,func=func.handleEvent),typeof func=="function"&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}return this},_getSandboxStatusFromErrorEvent=function(event){var isSandboxed=null;if(_pageIsFramed===!1||event&&event.type==="error"&&event.name&&_errorsThatOnlyOccurAfterFlashLoads.indexOf(event.name)!==-1)isSandboxed=!1;return isSandboxed},_preprocessEvent=function(event){var element=event.target||_currentElement||null,sourceIsSwf=event._source==="swf";delete event._source;switch(event.type){case"error":var isSandboxed=event.name==="flash-sandboxed"||_getSandboxStatusFromErrorEvent(event);typeof isSandboxed=="boolean"&&(_flashState.sandboxed=isSandboxed),_flashStateErrorNames.indexOf(event.name)!==-1?_extend(_flashState,{disabled:event.name==="flash-disabled",outdated:event.name==="flash-outdated",unavailable:event.name==="flash-unavailable",degraded:event.name==="flash-degraded",deactivated:event.name==="flash-deactivated",overdue:event.name==="flash-overdue",ready:!1}):event.name==="version-mismatch"&&(_zcSwfVersion=event.swfVersion,_extend(_flashState,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),_clearTimeoutsAndPolling();break;case"ready":_zcSwfVersion=event.swfVersion;var wasDeactivated=_flashState.deactivated===!0;_extend(_flashState,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:wasDeactivated,ready:!wasDeactivated}),_clearTimeoutsAndPolling();break;case"beforecopy":_copyTarget=element;break;case"copy":var textContent,htmlContent,targetEl=event.relatedTarget;!_clipData["text/html"]&&!_clipData["text/plain"]&&targetEl&&(htmlContent=targetEl.value||targetEl.outerHTML||targetEl.innerHTML)&&(textContent=targetEl.value||targetEl.textContent||targetEl.innerText)?(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent),htmlContent!==textContent&&event.clipboardData.setData("text/html",htmlContent)):!_clipData["text/plain"]&&event.target&&(textContent=event.target.getAttribute("data-clipboard-text"))&&(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent));break;case"aftercopy":_queueEmitClipboardErrors(event),ZeroClipboard.clearData(),element&&element!==_safeActiveElement()&&element.focus&&element.focus();break;case"_mouseover":ZeroClipboard.focus(element),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseenter",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseover"})));break;case"_mouseout":ZeroClipboard.blur(),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseleave",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseout"})));break;case"_mousedown":_addClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mouseup":_removeClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_click":_copyTarget=null,_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mousemove":_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type))return!0},_queueEmitClipboardErrors=function(aftercopyEvent){if(aftercopyEvent.errors&&aftercopyEvent.errors.length>0){var errorEvent=_deepCopy(aftercopyEvent);_extend(errorEvent,{type:"error",name:"clipboard-error"}),delete errorEvent.success,_setTimeout(function(){ZeroClipboard.emit(errorEvent)},0)}},_fireMouseEvent=function(event){if(!event||typeof event.type!="string"||!event)return;var e,target=event.target||null,doc=target&&target.ownerDocument||_document,defaults={view:doc.defaultView||_window,canBubble:!0,cancelable:!0,detail:event.type==="click"?1:0,button:typeof event.which=="number"?event.which-1:typeof event.button=="number"?event.button:doc.createEvent?0:1},args=_extend(defaults,event);if(!target)return;doc.createEvent&&target.dispatchEvent&&(args=[args.type,args.canBubble,args.cancelable,args.view,args.detail,args.screenX,args.screenY,args.clientX,args.clientY,args.ctrlKey,args.altKey,args.shiftKey,args.metaKey,args.button,args.relatedTarget],e=doc.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,args),e._source="js",target.dispatchEvent(e)))},_watchForSwfFallbackContent=function(){var maxWait=_globalConfig.flashLoadTimeout;if(typeof maxWait=="number"&&maxWait>=0){var pollWait=Math.min(1e3,maxWait/10),fallbackContentId=_globalConfig.swfObjectId+"_fallbackContent";_swfFallbackCheckInterval=_setInterval(function(){var el=_document.getElementById(fallbackContentId);_isElementVisible(el)&&(_clearTimeoutsAndPolling(),_flashState.deactivated=null,ZeroClipboard.emit({type:"error",name:"swf-not-found"}))},pollWait)}},_createHtmlBridge=function(){var container=_document.createElement("div");return container.id=_globalConfig.containerId,container.className=_globalConfig.containerClass,container.style.position="absolute",container.style.left="0px",container.style.top="-9999px",container.style.width="1px",container.style.height="1px",container.style.zIndex=""+_getSafeZIndex(_globalConfig.zIndex),container},_getHtmlBridge=function(flashBridge){var htmlBridge=flashBridge&&flashBridge.parentNode;while(htmlBridge&&htmlBridge.nodeName==="OBJECT"&&htmlBridge.parentNode)htmlBridge=htmlBridge.parentNode;return htmlBridge||null},_embedSwf=function(){var len,flashBridge=_flashState.bridge,container=_getHtmlBridge(flashBridge);if(!flashBridge){var allowScriptAccess=_determineScriptAccess(_window.location.host,_globalConfig),allowNetworking=allowScriptAccess==="never"?"none":"all",flashvars=_vars(_extend({jsVersion:ZeroClipboard.version},_globalConfig)),swfUrl=_globalConfig.swfPath+_cacheBust(_globalConfig.swfPath,_globalConfig);container=_createHtmlBridge();var divToBeReplaced=_document.createElement("div");container.appendChild(divToBeReplaced),_document.body.appendChild(container);var tmpDiv=_document.createElement("div"),usingActiveX=_flashState.pluginType==="activex";tmpDiv.innerHTML='<object id="'+_globalConfig.swfObjectId+'" name="'+_globalConfig.swfObjectId+'" '+'width="100%" height="100%" '+(usingActiveX?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+swfUrl+'"')+">"+(usingActiveX?'<param name="movie" value="'+swfUrl+'"/>':"")+'<param name="allowScriptAccess" value="'+allowScriptAccess+'"/>'+'<param name="allowNetworking" value="'+allowNetworking+'"/>'+'<param name="menu" value="false"/>'+'<param name="wmode" value="transparent"/>'+'<param name="flashvars" value="'+flashvars+'"/>'+'<div id="'+_globalConfig.swfObjectId+'_fallbackContent">&nbsp;</div>'+"</object>",flashBridge=tmpDiv.firstChild,tmpDiv=null,_unwrap(flashBridge).ZeroClipboard=ZeroClipboard,container.replaceChild(flashBridge,divToBeReplaced),_watchForSwfFallbackContent()}return flashBridge||(flashBridge=_document[_globalConfig.swfObjectId],flashBridge&&(len=flashBridge.length)&&(flashBridge=flashBridge[len-1]),!flashBridge&&container&&(flashBridge=container.firstChild)),_flashState.bridge=flashBridge||null,flashBridge},_unembedSwf=function(){var flashBridge=_flashState.bridge;if(flashBridge){var htmlBridge=_getHtmlBridge(flashBridge);htmlBridge&&(_flashState.pluginType==="activex"&&"readyState"in flashBridge?(flashBridge.style.display="none",function removeSwfFromIE(){if(flashBridge.readyState===4){for(var prop in flashBridge)typeof flashBridge[prop]=="function"&&(flashBridge[prop]=null);flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge)}else _setTimeout(removeSwfFromIE,10)}()):(flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge))),_clearTimeoutsAndPolling(),_flashState.ready=null,_flashState.bridge=null,_flashState.deactivated=null,_zcSwfVersion=undefined}},_mapClipDataToFlash=function(clipData){var newClipData={},formatMap={};if(typeof clipData!="object"||!clipData)return;for(var dataFormat in clipData)if(dataFormat&&_hasOwn.call(clipData,dataFormat)&&typeof clipData[dataFormat]=="string"&&clipData[dataFormat])switch(dataFormat.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":newClipData.text=clipData[dataFormat],formatMap.text=dataFormat;break;case"text/html":case"html":case"air:html":case"flash:html":newClipData.html=clipData[dataFormat],formatMap.html=dataFormat;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":newClipData.rtf=clipData[dataFormat],formatMap.rtf=dataFormat;break;default:}return{data:newClipData,formatMap:formatMap}},_mapClipResultsFromFlash=function(clipResults,formatMap){if(typeof clipResults!="object"||!clipResults||typeof formatMap!="object"||!formatMap)return clipResults;var newResults={};for(var prop in clipResults)if(_hasOwn.call(clipResults,prop))if(prop==="errors"){newResults[prop]=clipResults[prop]?clipResults[prop].slice():[];for(var i=0,len=newResults[prop].length;i<len;i++)newResults[prop][i].format=formatMap[newResults[prop][i].format]}else if(prop!=="success"&&prop!=="data")newResults[prop]=clipResults[prop];else{newResults[prop]={};var tmpHash=clipResults[prop];for(var dataFormat in tmpHash)dataFormat&&_hasOwn.call(tmpHash,dataFormat)&&_hasOwn.call(formatMap,dataFormat)&&(newResults[prop][formatMap[dataFormat]]=tmpHash[dataFormat])}return newResults},_cacheBust=function(path,options){var cacheBust=options==null||options&&options.cacheBust===!0;return cacheBust?(path.indexOf("?")===-1?"?":"&")+"noCache="+_now():""},_vars=function(options){var i,len,domain,domains,str="",trustedOriginsExpanded=[];options.trustedDomains&&(typeof options.trustedDomains=="string"?domains=[options.trustedDomains]:typeof options.trustedDomains=="object"&&"length"in options.trustedDomains&&(domains=options.trustedDomains));if(domains&&domains.length)for(i=0,len=domains.length;i<len;i++)if(_hasOwn.call(domains,i)&&domains[i]&&typeof domains[i]=="string"){domain=_extractDomain(domains[i]);if(!domain)continue;if(domain==="*"){trustedOriginsExpanded.length=0,trustedOriginsExpanded.push(domain);break}trustedOriginsExpanded.push.apply(trustedOriginsExpanded,[domain,"//"+domain,_window.location.protocol+"//"+domain])}return trustedOriginsExpanded.length&&(str+="trustedOrigins="+_encodeURIComponent(trustedOriginsExpanded.join(","))),options.forceEnhancedClipboard===!0&&(str+=(str?"&":"")+"forceEnhancedClipboard=true"),typeof options.swfObjectId=="string"&&options.swfObjectId&&(str+=(str?"&":"")+"swfObjectId="+_encodeURIComponent(options.swfObjectId)),typeof options.jsVersion=="string"&&options.jsVersion&&(str+=(str?"&":"")+"jsVersion="+_encodeURIComponent(options.jsVersion)),str},_extractDomain=function(originOrUrl){if(originOrUrl==null||originOrUrl==="")return null;originOrUrl=originOrUrl.replace(/^\s+|\s+$/g,"");if(originOrUrl==="")return null;var protocolIndex=originOrUrl.indexOf("//");originOrUrl=protocolIndex===-1?originOrUrl:originOrUrl.slice(protocolIndex+2);var pathIndex=originOrUrl.indexOf("/");return originOrUrl=pathIndex===-1?originOrUrl:protocolIndex===-1||pathIndex===0?null:originOrUrl.slice(0,pathIndex),originOrUrl&&originOrUrl.slice(-4).toLowerCase()===".swf"?null:originOrUrl||null},_determineScriptAccess=function(){var _extractAllDomains=function(origins){var i,len,tmp,resultsArray=[];typeof origins=="string"&&(origins=[origins]);if(typeof origins!="object"||!origins||typeof origins.length!="number")return resultsArray;for(i=0,len=origins.length;i<len;i++)if(_hasOwn.call(origins,i)&&(tmp=_extractDomain(origins[i]))){if(tmp==="*"){resultsArray.length=0,resultsArray.push("*");break}resultsArray.indexOf(tmp)===-1&&resultsArray.push(tmp)}return resultsArray};return function(currentDomain,configOptions){var swfDomain=_extractDomain(configOptions.swfPath);swfDomain===null&&(swfDomain=currentDomain);var trustedDomains=_extractAllDomains(configOptions.trustedDomains),len=trustedDomains.length;if(len>0){if(len===1&&trustedDomains[0]==="*")return"always";if(trustedDomains.indexOf(currentDomain)!==-1)return len===1&&currentDomain===swfDomain?"sameDomain":"always"}return"never"}}(),_safeActiveElement=function(){try{return _document.activeElement}catch(err){return null}},_addClass=function(element,value){var c,cl,className,classNames=[];typeof value=="string"&&value&&(classNames=value.split(/\s+/));if(element&&element.nodeType===1&&classNames.length>0)if(element.classList)for(c=0,cl=classNames.length;c<cl;c++)element.classList.add(classNames[c]);else if(element.hasOwnProperty("className")){className=" "+element.className+" ";for(c=0,cl=classNames.length;c<cl;c++)className.indexOf(" "+classNames[c]+" ")===-1&&(className+=classNames[c]+" ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_removeClass=function(element,value){var c,cl,className,classNames=[];typeof value=="string"&&value&&(classNames=value.split(/\s+/));if(element&&element.nodeType===1&&classNames.length>0)if(element.classList&&element.classList.length>0)for(c=0,cl=classNames.length;c<cl;c++)element.classList.remove(classNames[c]);else if(element.className){className=(" "+element.className+" ").replace(/[\r\n\t]/g," ");for(c=0,cl=classNames.length;c<cl;c++)className=className.replace(" "+classNames[c]+" "," ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_getStyle=function(el,prop){var value=_getComputedStyle(el,null).getPropertyValue(prop);return prop!=="cursor"||!!value&&value!=="auto"||el.nodeName!=="A"?value:"pointer"},_getElementPosition=function(el){var pos={left:0,top:0,width:0,height:0};if(el.getBoundingClientRect){var elRect=el.getBoundingClientRect(),pageXOffset=_window.pageXOffset,pageYOffset=_window.pageYOffset,leftBorderWidth=_document.documentElement.clientLeft||0,topBorderWidth=_document.documentElement.clientTop||0,leftBodyOffset=0,topBodyOffset=0;if(_getStyle(_document.body,"position")==="relative"){var bodyRect=_document.body.getBoundingClientRect(),htmlRect=_document.documentElement.getBoundingClientRect();leftBodyOffset=bodyRect.left-htmlRect.left||0,topBodyOffset=bodyRect.top-htmlRect.top||0}pos.left=elRect.left+pageXOffset-leftBorderWidth-leftBodyOffset,pos.top=elRect.top+pageYOffset-topBorderWidth-topBodyOffset,pos.width="width"in elRect?elRect.width:elRect.right-elRect.left,pos.height="height"in elRect?elRect.height:elRect.bottom-elRect.top}return pos},_isElementVisible=function(el){if(!el)return!1;var styles=_getComputedStyle(el,null),hasCssHeight=_parseFloat(styles.height)>0,hasCssWidth=_parseFloat(styles.width)>0,hasCssTop=_parseFloat(styles.top)>=0,hasCssLeft=_parseFloat(styles.left)>=0,cssKnows=hasCssHeight&&hasCssWidth&&hasCssTop&&hasCssLeft,rect=cssKnows?null:_getElementPosition(el),isVisible=styles.display!=="none"&&styles.visibility!=="collapse"&&(cssKnows||!!rect&&(hasCssHeight||rect.height>0)&&(hasCssWidth||rect.width>0)&&(hasCssTop||rect.top>=0)&&(hasCssLeft||rect.left>=0));return isVisible},_clearTimeoutsAndPolling=function(){_clearTimeout(_flashCheckTimeout),_flashCheckTimeout=0,_clearInterval(_swfFallbackCheckInterval),_swfFallbackCheckInterval=0},_reposition=function(){var htmlBridge;if(_currentElement&&(htmlBridge=_getHtmlBridge(_flashState.bridge))){var pos=_getElementPosition(_currentElement);_extend(htmlBridge.style,{width:pos.width+"px",height:pos.height+"px",top:pos.top+"px",left:pos.left+"px",zIndex:""+_getSafeZIndex(_globalConfig.zIndex)})}},_setHandCursor=function(enabled){_flashState.ready===!0&&(_flashState.bridge&&typeof _flashState.bridge.setHandCursor=="function"?_flashState.bridge.setHandCursor(enabled):_flashState.ready=!1)},_getSafeZIndex=function(val){if(/^(?:auto|inherit)$/.test(val))return val;var zIndex;return typeof val=="number"&&!_isNaN(val)?zIndex=val:typeof val=="string"&&(zIndex=_getSafeZIndex(_parseInt(val,10))),typeof zIndex=="number"?zIndex:"auto"},_detectSandbox=function(doNotReassessFlashSupport){var effectiveScriptOrigin,frame,frameError,previousState=_flashState.sandboxed,isSandboxed=null;doNotReassessFlashSupport=doNotReassessFlashSupport===!0;if(_pageIsFramed===!1)isSandboxed=!1;else{try{frame=window.frameElement||null}catch(e){frameError={name:e.name,message:e.message}}if(frame&&frame.nodeType===1&&frame.nodeName==="IFRAME")try{isSandboxed=frame.hasAttribute("sandbox")}catch(e){isSandboxed=null}else{try{effectiveScriptOrigin=document.domain||null}catch(e){effectiveScriptOrigin=null}if(effectiveScriptOrigin===null||frameError&&frameError.name==="SecurityError"&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(frameError.message.toLowerCase()))isSandboxed=!0}}return _flashState.sandboxed=isSandboxed,previousState!==isSandboxed&&!doNotReassessFlashSupport&&_detectFlashSupport(_ActiveXObject),isSandboxed},_detectFlashSupport=function(ActiveXObject){function parseFlashVersion(desc){var matches=desc.match(/[\d]+/g);return matches.length=3,matches.join(".")}function isPepperFlash(flashPlayerFileName){return!!flashPlayerFileName&&(flashPlayerFileName=flashPlayerFileName.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(flashPlayerFileName)||flashPlayerFileName.slice(-13)==="chrome.plugin")}function inspectPlugin(plugin){plugin&&(hasFlash=!0,plugin.version&&(flashVersion=parseFlashVersion(plugin.version)),!flashVersion&&plugin.description&&(flashVersion=parseFlashVersion(plugin.description)),plugin.filename&&(isPPAPI=isPepperFlash(plugin.filename)))}var plugin,ax,mimeType,hasFlash=!1,isActiveX=!1,isPPAPI=!1,flashVersion="";if(_navigator.plugins&&_navigator.plugins.length)plugin=_navigator.plugins["Shockwave Flash"],inspectPlugin(plugin),_navigator.plugins["Shockwave Flash 2.0"]&&(hasFlash=!0,flashVersion="2.0.0.11");else if(_navigator.mimeTypes&&_navigator.mimeTypes.length)mimeType=_navigator.mimeTypes["application/x-shockwave-flash"],plugin=mimeType&&mimeType.enabledPlugin,inspectPlugin(plugin);else if(typeof ActiveXObject!="undefined"){isActiveX=!0;try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e1){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),hasFlash=!0,flashVersion="6.0.21"}catch(e2){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e3){isActiveX=!1}}}}_flashState.disabled=hasFlash!==!0,_flashState.outdated=flashVersion&&_parseFloat(flashVersion)<_parseFloat(_minimumFlashVersion),_flashState.version=flashVersion||"0.0.0",_flashState.pluginType=isPPAPI?"pepper":isActiveX?"activex":hasFlash?"netscape":"unknown"};_detectFlashSupport(_ActiveXObject),_detectSandbox(!0);var ZeroClipboard=function(){if(!(this instanceof ZeroClipboard))return new ZeroClipboard;typeof ZeroClipboard._createClient=="function"&&ZeroClipboard._createClient.apply(this,_args(arguments))};_defineProperty(ZeroClipboard,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),ZeroClipboard.config=function(){return _config.apply(this,_args(arguments))},ZeroClipboard.state=function(){return _state.apply(this,_args(arguments))},ZeroClipboard.isFlashUnusable=function(){return _isFlashUnusable.apply(this,_args(arguments))},ZeroClipboard.on=function(){return _on.apply(this,_args(arguments))},ZeroClipboard.off=function(){return _off.apply(this,_args(arguments))},ZeroClipboard.handlers=function(){return _listeners.apply(this,_args(arguments))},ZeroClipboard.emit=function(){return _emit.apply(this,_args(arguments))},ZeroClipboard.create=function(){return _create.apply(this,_args(arguments))},ZeroClipboard.destroy=function(){return _destroy.apply(this,_args(arguments))},ZeroClipboard.setData=function(){return _setData.apply(this,_args(arguments))},ZeroClipboard.clearData=function(){return _clearData.apply(this,_args(arguments))},ZeroClipboard.getData=function(){return _getData.apply(this,_args(arguments))},ZeroClipboard.focus=ZeroClipboard.activate=function(){return _focus.apply(this,_args(arguments))},ZeroClipboard.blur=ZeroClipboard.deactivate=function(){return _blur.apply(this,_args(arguments))},ZeroClipboard.activeElement=function(){return _activeElement.apply(this,_args(arguments))};var _clientIdCounter=0,_clientMeta={},_elementIdCounter=0,_elementMeta={},_mouseHandlers={};_extend(_globalConfig,{autoActivate:!0});var _clientConstructor=function(elements){var client=this;client.id=""+_clientIdCounter++,_clientMeta[client.id]={instance:client,elements:[],handlers:{}},elements&&client.clip(elements),ZeroClipboard.on("*",function(event){return client.emit(event)}),ZeroClipboard.on("destroy",function(){client.destroy()}),ZeroClipboard.create()},_clientOn=function(eventType,listener){var i,len,events,added={},meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!meta)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if(typeof eventType=="string"&&eventType)events=eventType.toLowerCase().split(/\s+/);else if(typeof eventType=="object"&&eventType&&typeof listener=="undefined")for(i in eventType)_hasOwn.call(eventType,i)&&typeof i=="string"&&i&&typeof eventType[i]=="function"&&this.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,handlers[eventType]||(handlers[eventType]=[]),handlers[eventType].push(listener);added.ready&&_flashState.ready&&this.emit({type:"ready",client:this});if(added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]){this.emit({type:"error",name:_flashStateErrorNames[i],client:this});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&this.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return this},_clientOff=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers,meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!handlers)return this;if(arguments.length===0)events=_keys(handlers);else if(typeof eventType=="string"&&eventType)events=eventType.split(/\s+/);else if(typeof eventType=="object"&&eventType&&typeof listener=="undefined")for(i in eventType)_hasOwn.call(eventType,i)&&typeof i=="string"&&i&&typeof eventType[i]=="function"&&this.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;i<len;i++){eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=handlers[eventType];if(perEventHandlers&&perEventHandlers.length)if(listener){foundIndex=perEventHandlers.indexOf(listener);while(foundIndex!==-1)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex)}else perEventHandlers.length=0}return this},_clientListeners=function(eventType){var copy=null,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;return handlers&&(typeof eventType=="string"&&eventType?copy=handlers[eventType]?handlers[eventType].slice(0):[]:copy=_deepCopy(handlers)),copy},_clientEmit=function(event){if(_clientShouldEmit.call(this,event)){typeof event=="object"&&event&&typeof event.type=="string"&&event.type&&(event=_extend({},event));var eventCopy=_extend({},_createEvent(event),{client:this});_clientDispatchCallbacks.call(this,eventCopy)}return this},_clientClip=function(elements){if(!_clientMeta[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");elements=_prepClip(elements);for(var i=0;i<elements.length;i++)if(_hasOwn.call(elements,i)&&elements[i]&&elements[i].nodeType===1){elements[i].zcClippingId?_elementMeta[elements[i].zcClippingId].indexOf(this.id)===-1&&_elementMeta[elements[i].zcClippingId].push(this.id):(elements[i].zcClippingId="zcClippingId_"+_elementIdCounter++,_elementMeta[elements[i].zcClippingId]=[this.id],_globalConfig.autoActivate===!0&&_addMouseHandlers(elements[i]));var clippedElements=_clientMeta[this.id]&&_clientMeta[this.id].elements;clippedElements.indexOf(elements[i])===-1&&clippedElements.push(elements[i])}return this},_clientUnclip=function(elements){var meta=_clientMeta[this.id];if(!meta)return this;var clippedElements=meta.elements,arrayIndex;typeof elements=="undefined"?elements=clippedElements.slice(0):elements=_prepClip(elements);for(var i=elements.length;i--;)if(_hasOwn.call(elements,i)&&elements[i]&&elements[i].nodeType===1){arrayIndex=0;while((arrayIndex=clippedElements.indexOf(elements[i],arrayIndex))!==-1)clippedElements.splice(arrayIndex,1);var clientIds=_elementMeta[elements[i].zcClippingId];if(clientIds){arrayIndex=0;while((arrayIndex=clientIds.indexOf(this.id,arrayIndex))!==-1)clientIds.splice(arrayIndex,1);clientIds.length===0&&(_globalConfig.autoActivate===!0&&_removeMouseHandlers(elements[i]),delete elements[i].zcClippingId)}}return this},_clientElements=function(){var meta=_clientMeta[this.id];return meta&&meta.elements?meta.elements.slice(0):[]},_clientDestroy=function(){if(!_clientMeta[this.id])return;this.unclip(),this.off(),delete _clientMeta[this.id]},_clientShouldEmit=function(event){if(!event||!event.type)return!1;if(event.client&&event.client!==this)return!1;var meta=_clientMeta[this.id],clippedEls=meta&&meta.elements,hasClippedEls=!!clippedEls&&clippedEls.length>0,goodTarget=!event.target||hasClippedEls&&clippedEls.indexOf(event.target)!==-1,goodRelTarget=event.relatedTarget&&hasClippedEls&&clippedEls.indexOf(event.relatedTarget)!==-1,goodClient=event.client&&event.client===this;return!meta||!(goodTarget||goodRelTarget||goodClient)?!1:!0},_clientDispatchCallbacks=function(event){var meta=_clientMeta[this.id];if(!(typeof event=="object"&&event&&event.type&&meta))return;var async=_shouldPerformAsync(event),wildcardTypeHandlers=meta&&meta.handlers["*"]||[],specificTypeHandlers=meta&&meta.handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,typeof func=="string"&&typeof _window[func]=="function"&&(func=_window[func]),typeof func=="object"&&func&&typeof func.handleEvent=="function"&&(context=func,func=func.handleEvent),typeof func=="function"&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}},_prepClip=function(elements){return typeof elements=="string"&&(elements=[]),typeof elements.length!="number"?[elements]:elements},_addMouseHandlers=function(element){if(!element||element.nodeType!==1)return;var _suppressMouseEvents=function(event){if(!event&&!(event=_window.event))return;event._source!=="js"&&(event.stopImmediatePropagation(),event.preventDefault()),delete event._source},_elementMouseOver=function(event){if(!event&&!(event=_window.event))return;_suppressMouseEvents(event),ZeroClipboard.focus(element)};element.addEventListener("mouseover",_elementMouseOver,!1),element.addEventListener("mouseout",_suppressMouseEvents,!1),element.addEventListener("mouseenter",_suppressMouseEvents,!1),element.addEventListener("mouseleave",_suppressMouseEvents,!1),element.addEventListener("mousemove",_suppressMouseEvents,!1),_mouseHandlers[element.zcClippingId]={mouseover:_elementMouseOver,mouseout:_suppressMouseEvents,mouseenter:_suppressMouseEvents,mouseleave:_suppressMouseEvents,mousemove:_suppressMouseEvents}},_removeMouseHandlers=function(element){if(!element||element.nodeType!==1)return;var mouseHandlers=_mouseHandlers[element.zcClippingId];if(typeof mouseHandlers!="object"||!mouseHandlers)return;var key,val,mouseEvents=["move","leave","enter","out","over"];for(var i=0,len=mouseEvents.length;i<len;i++)key="mouse"+mouseEvents[i],val=mouseHandlers[key],typeof val=="function"&&element.removeEventListener(key,val,!1);delete _mouseHandlers[element.zcClippingId]};ZeroClipboard._createClient=function(){_clientConstructor.apply(this,_args(arguments))},ZeroClipboard.prototype.on=function(){return _clientOn.apply(this,_args(arguments))},ZeroClipboard.prototype.off=function(){return _clientOff.apply(this,_args(arguments))},ZeroClipboard.prototype.handlers=function(){return _clientListeners.apply(this,_args(arguments))},ZeroClipboard.prototype.emit=function(){return _clientEmit.apply(this,_args(arguments))},ZeroClipboard.prototype.clip=function(){return _clientClip.apply(this,_args(arguments))},ZeroClipboard.prototype.unclip=function(){return _clientUnclip.apply(this,_args(arguments))},ZeroClipboard.prototype.elements=function(){return _clientElements.apply(this,_args(arguments))},ZeroClipboard.prototype.destroy=function(){return _clientDestroy.apply(this,_args(arguments))},ZeroClipboard.prototype.setText=function(text){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/plain",text),this},ZeroClipboard.prototype.setHtml=function(html){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/html",html),this},ZeroClipboard.prototype.setRichText=function(richText){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("application/rtf",richText),this},ZeroClipboard.prototype.setData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.clearData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.clearData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.getData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.getData.apply(this,_args(arguments))},typeof define=="function"&&define.amd?define(function(){return ZeroClipboard}):typeof module=="object"&&module&&typeof module.exports=="object"&&module.exports?module.exports=ZeroClipboard:window.ZeroClipboard=ZeroClipboard})(function(){return this||window}())},{}]},{},[1]);